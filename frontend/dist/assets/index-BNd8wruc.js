var iS=Object.defineProperty;var rE=s=>{throw TypeError(s)};var sS=(s,e,i)=>e in s?iS(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;var Xn=(s,e,i)=>sS(s,typeof e!="symbol"?e+"":e,i),ax=(s,e,i)=>e.has(s)||rE("Cannot "+i);var h=(s,e,i)=>(ax(s,e,"read from private field"),i?i.call(s):e.get(s)),pt=(s,e,i)=>e.has(s)?rE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,i),dt=(s,e,i,a)=>(ax(s,e,"write to private field"),a?a.call(s,i):e.set(s,i),i),ut=(s,e,i)=>(ax(s,e,"access private method"),i);var yr=(s,e,i,a)=>({set _(o){dt(s,e,o,i)},get _(){return h(s,e,a)}});function _mergeNamespaces(s,e){for(var i=0;i<e.length;i++){const a=e[i];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var i=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var o=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:function(){return s[a]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(s){return s===null||typeof s!="object"?null:(s=z$1&&s[z$1]||s["@@iterator"],typeof s=="function"?s:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(s,e,i){this.props=s,this.context=e,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(s,e){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,e,"setState")};E$1.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(s,e,i){this.props=s,this.context=e,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(s,e,i){var a,o={},c=null,d=null;if(e!=null)for(a in e.ref!==void 0&&(d=e.ref),e.key!==void 0&&(c=""+e.key),e)J.call(e,a)&&!L$1.hasOwnProperty(a)&&(o[a]=e[a]);var g=arguments.length-2;if(g===1)o.children=i;else if(1<g){for(var b=Array(g),_=0;_<g;_++)b[_]=arguments[_+2];o.children=b}if(s&&s.defaultProps)for(a in g=s.defaultProps,g)o[a]===void 0&&(o[a]=g[a]);return{$$typeof:l$1,type:s,key:c,ref:d,props:o,_owner:K$1.current}}function N$1(s,e){return{$$typeof:l$1,type:s.type,key:e,ref:s.ref,props:s.props,_owner:s._owner}}function O$1(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$1}function escape$2(s){var e={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(i){return e[i]})}var P$1=/\/+/g;function Q$1(s,e){return typeof s=="object"&&s!==null&&s.key!=null?escape$2(""+s.key):e.toString(36)}function R$1(s,e,i,a,o){var c=typeof s;(c==="undefined"||c==="boolean")&&(s=null);var d=!1;if(s===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(s.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=s,o=o(d),s=a===""?"."+Q$1(d,0):a,I$1(o)?(i="",s!=null&&(i=s.replace(P$1,"$&/")+"/"),R$1(o,e,i,"",function(_){return _})):o!=null&&(O$1(o)&&(o=N$1(o,i+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(P$1,"$&/")+"/")+s)),e.push(o)),1;if(d=0,a=a===""?".":a+":",I$1(s))for(var g=0;g<s.length;g++){c=s[g];var b=a+Q$1(c,g);d+=R$1(c,e,i,b,o)}else if(b=A$1(s),typeof b=="function")for(s=b.call(s),g=0;!(c=s.next()).done;)c=c.value,b=a+Q$1(c,g++),d+=R$1(c,e,i,b,o);else if(c==="object")throw e=String(s),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(s,e,i){if(s==null)return s;var a=[],o=0;return R$1(s,a,"","",function(c){return e.call(i,c,o++)}),a}function T$1(s){if(s._status===-1){var e=s._result;e=e(),e.then(function(i){(s._status===0||s._status===-1)&&(s._status=1,s._result=i)},function(i){(s._status===0||s._status===-1)&&(s._status=2,s._result=i)}),s._status===-1&&(s._status=0,s._result=e)}if(s._status===1)return s._result.default;throw s._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(s,e,i){S$1(s,function(){e.apply(this,arguments)},i)},count:function(s){var e=0;return S$1(s,function(){e++}),e},toArray:function(s){return S$1(s,function(e){return e})||[]},only:function(s){if(!O$1(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(s,e,i){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var a=C$1({},s.props),o=s.key,c=s.ref,d=s._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,d=K$1.current),e.key!==void 0&&(o=""+e.key),s.type&&s.type.defaultProps)var g=s.type.defaultProps;for(b in e)J.call(e,b)&&!L$1.hasOwnProperty(b)&&(a[b]=e[b]===void 0&&g!==void 0?g[b]:e[b])}var b=arguments.length-2;if(b===1)a.children=i;else if(1<b){g=Array(b);for(var _=0;_<b;_++)g[_]=arguments[_+2];a.children=g}return{$$typeof:l$1,type:s.type,key:o,ref:c,props:a,_owner:d}};react_production_min.createContext=function(s){return s={$$typeof:u,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t,_context:s},s.Consumer=s};react_production_min.createElement=M$1;react_production_min.createFactory=function(s){var e=M$1.bind(null,s);return e.type=s,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$1,render:s}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(s){return{$$typeof:y,_payload:{_status:-1,_result:s},_init:T$1}};react_production_min.memo=function(s,e){return{$$typeof:x,type:s,compare:e===void 0?null:e}};react_production_min.startTransition=function(s){var e=V$1.transition;V$1.transition={};try{s()}finally{V$1.transition=e}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(s,e){return U$1.current.useCallback(s,e)};react_production_min.useContext=function(s){return U$1.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$1.current.useDeferredValue(s)};react_production_min.useEffect=function(s,e){return U$1.current.useEffect(s,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(s,e,i){return U$1.current.useImperativeHandle(s,e,i)};react_production_min.useInsertionEffect=function(s,e){return U$1.current.useInsertionEffect(s,e)};react_production_min.useLayoutEffect=function(s,e){return U$1.current.useLayoutEffect(s,e)};react_production_min.useMemo=function(s,e){return U$1.current.useMemo(s,e)};react_production_min.useReducer=function(s,e,i){return U$1.current.useReducer(s,e,i)};react_production_min.useRef=function(s){return U$1.current.useRef(s)};react_production_min.useState=function(s){return U$1.current.useState(s)};react_production_min.useSyncExternalStore=function(s,e,i){return U$1.current.useSyncExternalStore(s,e,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(s,e,i){var a,o={},c=null,d=null;i!==void 0&&(c=""+i),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(d=e.ref);for(a in e)m$1.call(e,a)&&!p$1.hasOwnProperty(a)&&(o[a]=e[a]);if(s&&s.defaultProps)for(a in e=s.defaultProps,e)o[a]===void 0&&(o[a]=e[a]);return{$$typeof:k,type:s,key:c,ref:d,props:o,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function e(Ft,St){var It=Ft.length;Ft.push(St);e:for(;0<It;){var zt=It-1>>>1,_t=Ft[zt];if(0<o(_t,St))Ft[zt]=St,Ft[It]=_t,It=zt;else break e}}function i(Ft){return Ft.length===0?null:Ft[0]}function a(Ft){if(Ft.length===0)return null;var St=Ft[0],It=Ft.pop();if(It!==St){Ft[0]=It;e:for(var zt=0,_t=Ft.length,vt=_t>>>1;zt<vt;){var bt=2*(zt+1)-1,wt=Ft[bt],Pt=bt+1,kt=Ft[Pt];if(0>o(wt,It))Pt<_t&&0>o(kt,wt)?(Ft[zt]=kt,Ft[Pt]=It,zt=Pt):(Ft[zt]=wt,Ft[bt]=It,zt=bt);else if(Pt<_t&&0>o(kt,It))Ft[zt]=kt,Ft[Pt]=It,zt=Pt;else break e}}return St}function o(Ft,St){var It=Ft.sortIndex-St.sortIndex;return It!==0?It:Ft.id-St.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var b=[],_=[],j=1,$=null,_e=3,et=!1,tt=!1,it=!1,rt=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(Ft){for(var St=i(_);St!==null;){if(St.callback===null)a(_);else if(St.startTime<=Ft)a(_),St.sortIndex=St.expirationTime,e(b,St);else break;St=i(_)}}function ct(Ft){if(it=!1,ot(Ft),!tt)if(i(b)!==null)tt=!0,$t(at);else{var St=i(_);St!==null&&jt(ct,St.startTime-Ft)}}function at(Ft,St){tt=!1,it&&(it=!1,nt(ft),ft=-1),et=!0;var It=_e;try{for(ot(St),$=i(b);$!==null&&(!($.expirationTime>St)||Ft&&!mt());){var zt=$.callback;if(typeof zt=="function"){$.callback=null,_e=$.priorityLevel;var _t=zt($.expirationTime<=St);St=s.unstable_now(),typeof _t=="function"?$.callback=_t:$===i(b)&&a(b),ot(St)}else a(b);$=i(b)}if($!==null)var vt=!0;else{var bt=i(_);bt!==null&&jt(ct,bt.startTime-St),vt=!1}return vt}finally{$=null,_e=It,et=!1}}var ht=!1,lt=null,ft=-1,yt=5,Et=-1;function mt(){return!(s.unstable_now()-Et<yt)}function At(){if(lt!==null){var Ft=s.unstable_now();Et=Ft;var St=!0;try{St=lt(!0,Ft)}finally{St?Rt():(ht=!1,lt=null)}}else ht=!1}var Rt;if(typeof st=="function")Rt=function(){st(At)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,Bt=qt.port2;qt.port1.onmessage=At,Rt=function(){Bt.postMessage(null)}}else Rt=function(){rt(At,0)};function $t(Ft){lt=Ft,ht||(ht=!0,Rt())}function jt(Ft,St){ft=rt(function(){Ft(s.unstable_now())},St)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Ft){Ft.callback=null},s.unstable_continueExecution=function(){tt||et||(tt=!0,$t(at))},s.unstable_forceFrameRate=function(Ft){0>Ft||125<Ft?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yt=0<Ft?Math.floor(1e3/Ft):5},s.unstable_getCurrentPriorityLevel=function(){return _e},s.unstable_getFirstCallbackNode=function(){return i(b)},s.unstable_next=function(Ft){switch(_e){case 1:case 2:case 3:var St=3;break;default:St=_e}var It=_e;_e=St;try{return Ft()}finally{_e=It}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Ft,St){switch(Ft){case 1:case 2:case 3:case 4:case 5:break;default:Ft=3}var It=_e;_e=Ft;try{return St()}finally{_e=It}},s.unstable_scheduleCallback=function(Ft,St,It){var zt=s.unstable_now();switch(typeof It=="object"&&It!==null?(It=It.delay,It=typeof It=="number"&&0<It?zt+It:zt):It=zt,Ft){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=It+_t,Ft={id:j++,callback:St,priorityLevel:Ft,startTime:It,expirationTime:_t,sortIndex:-1},It>zt?(Ft.sortIndex=It,e(_,Ft),i(b)===null&&Ft===i(_)&&(it?(nt(ft),ft=-1):it=!0,jt(ct,It-zt))):(Ft.sortIndex=_t,e(b,Ft),tt||et||(tt=!0,$t(at))),Ft},s.unstable_shouldYield=mt,s.unstable_wrapCallback=function(Ft){var St=_e;return function(){var It=_e;_e=St;try{return Ft.apply(this,arguments)}finally{_e=It}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(s){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+s,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(s,e){ha(s,e),ha(s+"Capture",e)}function ha(s,e){for(ea[s]=e,s=0;s<e.length;s++)da.add(e[s])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(s){return ja.call(ma,s)?!0:ja.call(la,s)?!1:ka.test(s)?ma[s]=!0:(la[s]=!0,!1)}function pa(s,e,i,a){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa(s,e,i,a){if(e===null||typeof e>"u"||pa(s,e,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(s,e,i,a,o,c,d){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=s,this.type=e,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z[s]=new v(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var e=s[0];z[e]=new v(e,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z[s]=new v(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z[s]=new v(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z[s]=new v(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z[s]=new v(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z[s]=new v(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z[s]=new v(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z[s]=new v(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var e=s.replace(ra,sa);z[e]=new v(e,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var e=s.replace(ra,sa);z[e]=new v(e,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var e=s.replace(ra,sa);z[e]=new v(e,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z[s]=new v(s,1,!1,s.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z[s]=new v(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta(s,e,i,a){var o=z.hasOwnProperty(e)?z[e]:null;(o!==null?o.type!==0:a||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,i,o,a)&&(i=null),a||o===null?oa(e)&&(i===null?s.removeAttribute(e):s.setAttribute(e,""+i)):o.mustUseProperty?s[o.propertyName]=i===null?o.type===3?!1:"":i:(e=o.attributeName,a=o.attributeNamespace,i===null?s.removeAttribute(e):(o=o.type,i=o===3||o===4&&i===!0?"":""+i,a?s.setAttributeNS(a,e,i):s.setAttribute(e,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(s){return s===null||typeof s!="object"?null:(s=Ja&&s[Ja]||s["@@iterator"],typeof s=="function"?s:null)}var A=Object.assign,La;function Ma(s){if(La===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+s}var Na=!1;function Oa(s,e){if(!s||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var a=_}Reflect.construct(s,[],e)}else{try{e.call()}catch(_){a=_}s.call(e.prototype)}else{try{throw Error()}catch(_){a=_}s()}}catch(_){if(_&&a&&typeof _.stack=="string"){for(var o=_.stack.split(`
`),c=a.stack.split(`
`),d=o.length-1,g=c.length-1;1<=d&&0<=g&&o[d]!==c[g];)g--;for(;1<=d&&0<=g;d--,g--)if(o[d]!==c[g]){if(d!==1||g!==1)do if(d--,g--,0>g||o[d]!==c[g]){var b=`
`+o[d].replace(" at new "," at ");return s.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",s.displayName)),b}while(1<=d&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(s=s?s.displayName||s.name:"")?Ma(s):""}function Pa(s){switch(s.tag){case 5:return Ma(s.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return s=Oa(s.type,!1),s;case 11:return s=Oa(s.type.render,!1),s;case 1:return s=Oa(s.type,!0),s;default:return""}}function Qa(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca:return(s.displayName||"Context")+".Consumer";case Ba:return(s._context.displayName||"Context")+".Provider";case Da:var e=s.render;return s=s.displayName,s||(s=e.displayName||e.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga:return e=s.displayName||null,e!==null?e:Qa(s.type)||"Memo";case Ha:e=s._payload,s=s._init;try{return Qa(s(e))}catch{}}return null}function Ra(s){var e=s.type;switch(s.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=e.render,s=s.displayName||s.name||"",e.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta(s){var e=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(s){var e=Ta(s)?"checked":"value",i=Object.getOwnPropertyDescriptor(s.constructor.prototype,e),a=""+s[e];if(!s.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(s,e,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(s,e,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){s._valueTracker=null,delete s[e]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var e=s._valueTracker;if(!e)return!0;var i=e.getValue(),a="";return s&&(a=Ta(s)?s.checked?"true":"false":s.value),s=a,s!==i?(e.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,e){var i=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??s._wrapperState.initialChecked})}function Za(s,e){var i=e.defaultValue==null?"":e.defaultValue,a=e.checked!=null?e.checked:e.defaultChecked;i=Sa(e.value!=null?e.value:i),s._wrapperState={initialChecked:a,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(s,e){e=e.checked,e!=null&&ta(s,"checked",e,!1)}function bb(s,e){ab(s,e);var i=Sa(e.value),a=e.type;if(i!=null)a==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+i):s.value!==""+i&&(s.value=""+i);else if(a==="submit"||a==="reset"){s.removeAttribute("value");return}e.hasOwnProperty("value")?cb(s,e.type,i):e.hasOwnProperty("defaultValue")&&cb(s,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(s.defaultChecked=!!e.defaultChecked)}function db(s,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var a=e.type;if(!(a!=="submit"&&a!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+s._wrapperState.initialValue,i||e===s.value||(s.value=e),s.defaultValue=e}i=s.name,i!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,i!==""&&(s.name=i)}function cb(s,e,i){(e!=="number"||Xa(s.ownerDocument)!==s)&&(i==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+i&&(s.defaultValue=""+i))}var eb=Array.isArray;function fb(s,e,i,a){if(s=s.options,e){e={};for(var o=0;o<i.length;o++)e["$"+i[o]]=!0;for(i=0;i<s.length;i++)o=e.hasOwnProperty("$"+s[i].value),s[i].selected!==o&&(s[i].selected=o),o&&a&&(s[i].defaultSelected=!0)}else{for(i=""+Sa(i),e=null,o=0;o<s.length;o++){if(s[o].value===i){s[o].selected=!0,a&&(s[o].defaultSelected=!0);return}e!==null||s[o].disabled||(e=s[o])}e!==null&&(e.selected=!0)}}function gb(s,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(p(92));if(eb(i)){if(1<i.length)throw Error(p(93));i=i[0]}e=i}e==null&&(e=""),i=e}s._wrapperState={initialValue:Sa(i)}}function ib(s,e){var i=Sa(e.value),a=Sa(e.defaultValue);i!=null&&(i=""+i,i!==s.value&&(s.value=i),e.defaultValue==null&&s.defaultValue!==i&&(s.defaultValue=i)),a!=null&&(s.defaultValue=""+a)}function jb(s){var e=s.textContent;e===s._wrapperState.initialValue&&e!==""&&e!==null&&(s.value=e)}function kb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(s,e){return s==null||s==="http://www.w3.org/1999/xhtml"?kb(e):s==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb,nb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,a,o){MSApp.execUnsafeLocalFunction(function(){return s(e,i,a,o)})}:s}(function(s,e){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;e.firstChild;)s.appendChild(e.firstChild)}});function ob(s,e){if(e){var i=s.firstChild;if(i&&i===s.lastChild&&i.nodeType===3){i.nodeValue=e;return}}s.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(s){qb.forEach(function(e){e=e+s.charAt(0).toUpperCase()+s.substring(1),pb[e]=pb[s]})});function rb(s,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||pb.hasOwnProperty(s)&&pb[s]?(""+e).trim():e+"px"}function sb(s,e){s=s.style;for(var i in e)if(e.hasOwnProperty(i)){var a=i.indexOf("--")===0,o=rb(i,e[i],a);i==="float"&&(i="cssFloat"),a?s.setProperty(i,o):s[i]=o}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(s,e){if(e){if(tb[s]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,s));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(s,e){if(s.indexOf("-")===-1)return typeof e.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(p(280));var e=s.stateNode;e&&(e=Db(e),yb(s.stateNode,s.type,e))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,e=Ab;if(Ab=zb=null,Bb(s),e)for(s=0;s<e.length;s++)Bb(e[s])}}function Gb(s,e){return s(e)}function Hb(){}var Ib=!1;function Jb(s,e,i){if(Ib)return s(e,i);Ib=!0;try{return Gb(s,e,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(s,e){var i=s.stateNode;if(i===null)return null;var a=Db(i);if(a===null)return null;i=a[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(s=s.type,a=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!a;break e;default:s=!1}if(s)return null;if(i&&typeof i!="function")throw Error(p(231,e,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(s,e,i,a,o,c,d,g,b){var _=Array.prototype.slice.call(arguments,3);try{e.apply(i,_)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(s){Ob=!0,Pb=s}};function Tb(s,e,i,a,o,c,d,g,b){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(s,e,i,a,o,c,d,g,b){if(Tb.apply(this,arguments),Ob){if(Ob){var _=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_)}}function Vb(s){var e=s,i=s;if(s.alternate)for(;e.return;)e=e.return;else{s=e;do e=s,e.flags&4098&&(i=e.return),s=e.return;while(s)}return e.tag===3?i:null}function Wb(s){if(s.tag===13){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(s){if(Vb(s)!==s)throw Error(p(188))}function Yb(s){var e=s.alternate;if(!e){if(e=Vb(s),e===null)throw Error(p(188));return e!==s?null:s}for(var i=s,a=e;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return Xb(o),s;if(c===a)return Xb(o),e;c=c.sibling}throw Error(p(188))}if(i.return!==a.return)i=o,a=c;else{for(var d=!1,g=o.child;g;){if(g===i){d=!0,i=o,a=c;break}if(g===a){d=!0,a=o,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,a=o;break}if(g===a){d=!0,a=c,i=o;break}g=g.sibling}if(!d)throw Error(p(189))}}if(i.alternate!==a)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?s:e}function Zb(s){return s=Yb(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var e=$b(s);if(e!==null)return e;s=s.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(s){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(pc(s)/qc|0)|0}var rc=64,sc=4194304;function tc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,e){var i=s.pendingLanes;if(i===0)return 0;var a=0,o=s.suspendedLanes,c=s.pingedLanes,d=i&268435455;if(d!==0){var g=d&~o;g!==0?a=tc(g):(c&=d,c!==0&&(a=tc(c)))}else d=i&~o,d!==0?a=tc(d):c!==0&&(a=tc(c));if(a===0)return 0;if(e!==0&&e!==a&&!(e&o)&&(o=a&-a,c=e&-e,o>=c||o===16&&(c&4194240)!==0))return e;if(a&4&&(a|=i&16),e=s.entangledLanes,e!==0)for(s=s.entanglements,e&=a;0<e;)i=31-oc(e),o=1<<i,a|=s[i],e&=~o;return a}function vc(s,e){switch(s){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(s,e){for(var i=s.suspendedLanes,a=s.pingedLanes,o=s.expirationTimes,c=s.pendingLanes;0<c;){var d=31-oc(c),g=1<<d,b=o[d];b===-1?(!(g&i)||g&a)&&(o[d]=vc(g,e)):b<=e&&(s.expiredLanes|=g),c&=~g}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc(){var s=rc;return rc<<=1,!(rc&4194240)&&(rc=64),s}function zc(s){for(var e=[],i=0;31>i;i++)e.push(s);return e}function Ac(s,e,i){s.pendingLanes|=e,e!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,e=31-oc(e),s[e]=i}function Bc(s,e){var i=s.pendingLanes&~e;s.pendingLanes=e,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=e,s.mutableReadLanes&=e,s.entangledLanes&=e,e=s.entanglements;var a=s.eventTimes;for(s=s.expirationTimes;0<i;){var o=31-oc(i),c=1<<o;e[o]=0,a[o]=-1,s[o]=-1,i&=~c}}function Cc(s,e){var i=s.entangledLanes|=e;for(s=s.entanglements;i;){var a=31-oc(i),o=1<<a;o&e|s[a]&e&&(s[a]|=e),i&=~o}}var C=0;function Dc(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,e){switch(s){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(s,e,i,a,o,c){return s===null||s.nativeEvent!==c?(s={blockedOn:e,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),s):(s.eventSystemFlags|=a,e=s.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),s)}function Uc(s,e,i,a,o){switch(e){case"focusin":return Lc=Tc(Lc,s,e,i,a,o),!0;case"dragenter":return Mc=Tc(Mc,s,e,i,a,o),!0;case"mouseover":return Nc=Tc(Nc,s,e,i,a,o),!0;case"pointerover":var c=o.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,s,e,i,a,o)),!0;case"gotpointercapture":return c=o.pointerId,Pc.set(c,Tc(Pc.get(c)||null,s,e,i,a,o)),!0}return!1}function Vc(s){var e=Wc(s.target);if(e!==null){var i=Vb(e);if(i!==null){if(e=i.tag,e===13){if(e=Wb(i),e!==null){s.blockedOn=e,Ic(s.priority,function(){Gc(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){s.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc(s){if(s.blockedOn!==null)return!1;for(var e=s.targetContainers;0<e.length;){var i=Yc(s.domEventName,s.eventSystemFlags,e[0],s.nativeEvent);if(i===null){i=s.nativeEvent;var a=new i.constructor(i.type,i);wb=a,i.target.dispatchEvent(a),wb=null}else return e=Cb(i),e!==null&&Fc(e),s.blockedOn=i,!1;e.shift()}return!0}function Zc(s,e,i){Xc(s)&&i.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(s,e){s.blockedOn===e&&(s.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(s){function e(o){return ad(o,s)}if(0<Kc.length){ad(Kc[0],s);for(var i=1;i<Kc.length;i++){var a=Kc[i];a.blockedOn===s&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,s),Mc!==null&&ad(Mc,s),Nc!==null&&ad(Nc,s),Oc.forEach(e),Pc.forEach(e),i=0;i<Qc.length;i++)a=Qc[i],a.blockedOn===s&&(a.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(s,e,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=1,fd(s,e,i,a)}finally{C=o,cd.transition=c}}function gd(s,e,i,a){var o=C,c=cd.transition;cd.transition=null;try{C=4,fd(s,e,i,a)}finally{C=o,cd.transition=c}}function fd(s,e,i,a){if(dd){var o=Yc(s,e,i,a);if(o===null)hd(s,e,a,id,i),Sc(s,a);else if(Uc(o,s,e,i,a))a.stopPropagation();else if(Sc(s,a),e&4&&-1<Rc.indexOf(s)){for(;o!==null;){var c=Cb(o);if(c!==null&&Ec(c),c=Yc(s,e,i,a),c===null&&hd(s,e,a,id,i),c===o)break;o=c}o!==null&&a.stopPropagation()}else hd(s,e,a,null,i)}}var id=null;function Yc(s,e,i,a){if(id=null,s=xb(a),s=Wc(s),s!==null)if(e=Vb(s),e===null)s=null;else if(i=e.tag,i===13){if(s=Wb(e),s!==null)return s;s=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;s=null}else e!==s&&(s=null);return id=s,null}function jd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,e=ld,i=e.length,a,o="value"in kd?kd.value:kd.textContent,c=o.length;for(s=0;s<i&&e[s]===o[s];s++);var d=i-s;for(a=1;a<=d&&e[i-a]===o[c-a];a++);return md=o.slice(s,1<a?1-a:void 0)}function od(s){var e=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&e===13&&(s=13)):s=e,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function e(i,a,o,c,d){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in s)s.hasOwnProperty(g)&&(i=s[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(s):(s=Od[s])?!!e[s]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(s){if(s.key){var e=Md[s.key]||s.key;if(e!=="Unidentified")return e}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(s,e){switch(s){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie=!1;function je(s,e){switch(s){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return s=e.data,s===ee&&fe?null:s;default:return null}}function ke(s,e){if(ie)return s==="compositionend"||!ae&&ge(s,e)?(s=nd(),md=ld=kd=null,ie=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e==="input"?!!le[s.type]:e==="textarea"}function ne(s,e,i,a){Eb(a),e=oe(e,"onChange"),0<e.length&&(i=new td("onChange","change",null,i,a),s.push({event:i,listeners:e}))}var pe=null,qe=null;function re(s){se(s,0)}function te(s){var e=ue(s);if(Wa(e))return s}function ve(s,e){if(s==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(s){if(s.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,s,xb(s)),Jb(re,e)}}function Ce(s,e,i){s==="focusin"?(Ae(),pe=e,qe=i,pe.attachEvent("onpropertychange",Be)):s==="focusout"&&Ae()}function De(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te(qe)}function Ee(s,e){if(s==="click")return te(e)}function Fe(s,e){if(s==="input"||s==="change")return te(e)}function Ge(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(s,e){if(He(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;var i=Object.keys(s),a=Object.keys(e);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!ja.call(e,o)||!He(s[o],e[o]))return!1}return!0}function Je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke(s,e){var i=Je(s);s=0;for(var a;i;){if(i.nodeType===3){if(a=s+i.textContent.length,s<=e&&a>=e)return{node:i,offset:e-s};s=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(s,e){return s&&e?s===e?!0:s&&s.nodeType===3?!1:e&&e.nodeType===3?Le(s,e.parentNode):"contains"in s?s.contains(e):s.compareDocumentPosition?!!(s.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var s=window,e=Xa();e instanceof s.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)s=e.contentWindow;else break;e=Xa(s.document)}return e}function Ne(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e&&(e==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||e==="textarea"||s.contentEditable==="true")}function Oe(s){var e=Me(),i=s.focusedElem,a=s.selectionRange;if(e!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(a!==null&&Ne(i)){if(e=a.start,s=a.end,s===void 0&&(s=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(s,i.value.length);else if(s=(e=i.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var o=i.textContent.length,c=Math.min(a.start,o);a=a.end===void 0?c:Math.min(a.end,o),!s.extend&&c>a&&(o=a,a=c,c=o),o=Ke(i,c);var d=Ke(i,a);o&&d&&(s.rangeCount!==1||s.anchorNode!==o.node||s.anchorOffset!==o.offset||s.focusNode!==d.node||s.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),s.removeAllRanges(),c>a?(s.addRange(e),s.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),s.addRange(e)))}}for(e=[],s=i;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)s=e[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(s,e,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(e=new td("onSelect","select",null,e,i),s.push({event:e,listeners:a}),e.target=Qe)))}function Ve(s,e){var i={};return i[s.toLowerCase()]=e.toLowerCase(),i["Webkit"+s]="webkit"+e,i["Moz"+s]="moz"+e,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(s){if(Xe[s])return Xe[s];if(!We[s])return s;var e=We[s],i;for(i in e)if(e.hasOwnProperty(i)&&i in Ye)return Xe[s]=e[i];return s}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,e){df.set(s,e),fa(e,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,e,i){var a=s.type||"unknown-event";s.currentTarget=i,Ub(a,e,void 0,s),s.currentTarget=null}function se(s,e){e=(e&4)!==0;for(var i=0;i<s.length;i++){var a=s[i],o=a.event;a=a.listeners;e:{var c=void 0;if(e)for(var d=a.length-1;0<=d;d--){var g=a[d],b=g.instance,_=g.currentTarget;if(g=g.listener,b!==c&&o.isPropagationStopped())break e;nf(o,g,_),c=b}else for(d=0;d<a.length;d++){if(g=a[d],b=g.instance,_=g.currentTarget,g=g.listener,b!==c&&o.isPropagationStopped())break e;nf(o,g,_),c=b}}}if(Qb)throw s=Rb,Qb=!1,Rb=null,s}function D(s,e){var i=e[of];i===void 0&&(i=e[of]=new Set);var a=s+"__bubble";i.has(a)||(pf(e,s,2,!1),i.add(a))}function qf(s,e,i){var a=0;e&&(a|=4),pf(i,s,a,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,s),qf(i,!0,s))});var e=s.nodeType===9?s:s.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(s,e,i,a){switch(jd(e)){case 1:var o=ed;break;case 4:o=gd;break;default:o=fd}i=o.bind(null,e,i,s),o=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),a?o!==void 0?s.addEventListener(e,i,{capture:!0,passive:o}):s.addEventListener(e,i,!0):o!==void 0?s.addEventListener(e,i,{passive:o}):s.addEventListener(e,i,!1)}function hd(s,e,i,a,o){var c=a;if(!(e&1)&&!(e&2)&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var g=a.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(d===4)for(d=a.return;d!==null;){var b=d.tag;if((b===3||b===4)&&(b=d.stateNode.containerInfo,b===o||b.nodeType===8&&b.parentNode===o))return;d=d.return}for(;g!==null;){if(d=Wc(g),d===null)return;if(b=d.tag,b===5||b===6){a=c=d;continue e}g=g.parentNode}}a=a.return}Jb(function(){var _=c,j=xb(i),$=[];e:{var _e=df.get(s);if(_e!==void 0){var et=td,tt=s;switch(s){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":et=Rd;break;case"focusin":tt="focus",et=Fd;break;case"focusout":tt="blur",et=Fd;break;case"beforeblur":case"afterblur":et=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Vd;break;case $e:case af:case bf:et=Hd;break;case cf:et=Xd;break;case"scroll":et=vd;break;case"wheel":et=Zd;break;case"copy":case"cut":case"paste":et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Td}var it=(e&4)!==0,rt=!it&&s==="scroll",nt=it?_e!==null?_e+"Capture":null:_e;it=[];for(var st=_,ot;st!==null;){ot=st;var ct=ot.stateNode;if(ot.tag===5&&ct!==null&&(ot=ct,nt!==null&&(ct=Kb(st,nt),ct!=null&&it.push(tf(st,ct,ot)))),rt)break;st=st.return}0<it.length&&(_e=new et(_e,tt,null,i,j),$.push({event:_e,listeners:it}))}}if(!(e&7)){e:{if(_e=s==="mouseover"||s==="pointerover",et=s==="mouseout"||s==="pointerout",_e&&i!==wb&&(tt=i.relatedTarget||i.fromElement)&&(Wc(tt)||tt[uf]))break e;if((et||_e)&&(_e=j.window===j?j:(_e=j.ownerDocument)?_e.defaultView||_e.parentWindow:window,et?(tt=i.relatedTarget||i.toElement,et=_,tt=tt?Wc(tt):null,tt!==null&&(rt=Vb(tt),tt!==rt||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(et=null,tt=_),et!==tt)){if(it=Bd,ct="onMouseLeave",nt="onMouseEnter",st="mouse",(s==="pointerout"||s==="pointerover")&&(it=Td,ct="onPointerLeave",nt="onPointerEnter",st="pointer"),rt=et==null?_e:ue(et),ot=tt==null?_e:ue(tt),_e=new it(ct,st+"leave",et,i,j),_e.target=rt,_e.relatedTarget=ot,ct=null,Wc(j)===_&&(it=new it(nt,st+"enter",tt,i,j),it.target=ot,it.relatedTarget=rt,ct=it),rt=ct,et&&tt)t:{for(it=et,nt=tt,st=0,ot=it;ot;ot=vf(ot))st++;for(ot=0,ct=nt;ct;ct=vf(ct))ot++;for(;0<st-ot;)it=vf(it),st--;for(;0<ot-st;)nt=vf(nt),ot--;for(;st--;){if(it===nt||nt!==null&&it===nt.alternate)break t;it=vf(it),nt=vf(nt)}it=null}else it=null;et!==null&&wf($,_e,et,it,!1),tt!==null&&rt!==null&&wf($,rt,tt,it,!0)}}e:{if(_e=_?ue(_):window,et=_e.nodeName&&_e.nodeName.toLowerCase(),et==="select"||et==="input"&&_e.type==="file")var at=ve;else if(me(_e))if(we)at=Fe;else{at=De;var ht=Ce}else(et=_e.nodeName)&&et.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(at=Ee);if(at&&(at=at(s,_))){ne($,at,i,j);break e}ht&&ht(s,_e,_),s==="focusout"&&(ht=_e._wrapperState)&&ht.controlled&&_e.type==="number"&&cb(_e,"number",_e.value)}switch(ht=_?ue(_):window,s){case"focusin":(me(ht)||ht.contentEditable==="true")&&(Qe=ht,Re=_,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue($,i,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue($,i,j)}var lt;if(ae)e:{switch(s){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ie?ge(s,i)&&(ft="onCompositionEnd"):s==="keydown"&&i.keyCode===229&&(ft="onCompositionStart");ft&&(de&&i.locale!=="ko"&&(ie||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ie&&(lt=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ht=oe(_,ft),0<ht.length&&(ft=new Ld(ft,s,null,i,j),$.push({event:ft,listeners:ht}),lt?ft.data=lt:(lt=he(i),lt!==null&&(ft.data=lt)))),(lt=ce?je(s,i):ke(s,i))&&(_=oe(_,"onBeforeInput"),0<_.length&&(j=new Ld("onBeforeInput","beforeinput",null,i,j),$.push({event:j,listeners:_}),j.data=lt))}se($,e)})}function tf(s,e,i){return{instance:s,listener:e,currentTarget:i}}function oe(s,e){for(var i=e+"Capture",a=[];s!==null;){var o=s,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=Kb(s,i),c!=null&&a.unshift(tf(s,c,o)),c=Kb(s,e),c!=null&&a.push(tf(s,c,o))),s=s.return}return a}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,e,i,a,o){for(var c=e._reactName,d=[];i!==null&&i!==a;){var g=i,b=g.alternate,_=g.stateNode;if(b!==null&&b===a)break;g.tag===5&&_!==null&&(g=_,o?(b=Kb(i,c),b!=null&&d.unshift(tf(i,b,g))):o||(b=Kb(i,c),b!=null&&d.push(tf(i,b,g)))),i=i.return}d.length!==0&&s.push({event:e,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,e,i){if(e=zf(e),zf(s)!==e&&i)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,e){return s==="textarea"||s==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,e){var i=e,a=0;do{var o=i.nextSibling;if(s.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(a===0){s.removeChild(o),bd(e);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=o}while(i);bd(e)}function Lf(s){for(;s!=null;s=s.nextSibling){var e=s.nodeType;if(e===1||e===3)break;if(e===8){if(e=s.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var e=0;s;){if(s.nodeType===8){var i=s.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return s;e--}else i==="/$"&&e++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(s){var e=s[Of];if(e)return e;for(var i=s.parentNode;i;){if(e=i[uf]||i[Of]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(s=Mf(s);s!==null;){if(i=s[Of])return i;s=Mf(s)}return e}s=i,i=s.parentNode}return null}function Cb(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p(33))}function Db(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(s,e){Tf++,Sf[Tf]=s.current,s.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,e){var i=s.type.contextTypes;if(!i)return Vf;var a=s.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===e)return a.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in i)o[c]=e[c];return a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=e,s.__reactInternalMemoizedMaskedChildContext=o),o}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E(Wf),E(H)}function ag(s,e,i){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,i)}function bg(s,e,i){var a=s.stateNode;if(e=e.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var o in a)if(!(o in e))throw Error(p(108,Ra(s)||"Unknown",o));return A({},i,a)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,s),G(Wf,Wf.current),!0}function dg(s,e,i){var a=s.stateNode;if(!a)throw Error(p(169));i?(s=bg(s,e,Xf),a.__reactInternalMemoizedMergedChildContext=s,E(Wf),E(H),G(H,s)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,e=C;try{var i=eg;for(C=1;s<i.length;s++){var a=i[s];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(o){throw eg!==null&&(eg=eg.slice(s+1)),ac(fc,jg),o}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,e){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=e}function ug(s,e,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var a=rg;s=sg;var o=32-oc(a)-1;a&=~(1<<o),i+=1;var c=32-oc(e)+o;if(30<c){var d=o-o%5;c=(a&(1<<d)-1).toString(32),a>>=d,o-=d,rg=1<<32-oc(e)+o|i<<o|a,sg=c+s}else rg=1<<c|i<<o|a,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(s,e){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=s,e=s.deletions,e===null?(s.deletions=[i],s.flags|=16):e.push(i)}function Cg(s,e){switch(s.tag){case 5:var i=s.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(s.stateNode=e,xg=s,yg=Lf(e.firstChild),!0):!1;case 6:return e=s.pendingProps===""||e.nodeType!==3?null:e,e!==null?(s.stateNode=e,xg=s,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=e,i.return=s,s.child=i,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I){var e=yg;if(e){var i=e;if(!Cg(s,e)){if(Dg(s))throw Error(p(418));e=Lf(i.nextSibling);var a=xg;e&&Cg(s,e)?Ag(a,i):(s.flags=s.flags&-4097|2,I=!1,xg=s)}}else{if(Dg(s))throw Error(p(418));s.flags=s.flags&-4097|2,I=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I)return Fg(s),I=!0,!1;var e;if((e=s.tag!==3)&&!(e=s.tag!==5)&&(e=s.type,e=e!=="head"&&e!=="body"&&!Ef(s.type,s.memoizedProps)),e&&(e=yg)){if(Dg(s))throw Hg(),Error(p(418));for(;e;)Ag(s,e),e=Lf(e.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p(317));e:{for(s=s.nextSibling,e=0;s;){if(s.nodeType===8){var i=s.data;if(i==="/$"){if(e===0){yg=Lf(s.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua.ReactCurrentBatchConfig;function Lg(s,e,i){if(s=i.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p(309));var a=i.stateNode}if(!a)throw Error(p(147,s));var o=a,c=""+s;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(d){var g=o.refs;d===null?delete g[c]:g[c]=d},e._stringRef=c,e)}if(typeof s!="string")throw Error(p(284));if(!i._owner)throw Error(p(290,s))}return s}function Mg(s,e){throw s=Object.prototype.toString.call(e),Error(p(31,s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s))}function Ng(s){var e=s._init;return e(s._payload)}function Og(s){function e(nt,st){if(s){var ot=nt.deletions;ot===null?(nt.deletions=[st],nt.flags|=16):ot.push(st)}}function i(nt,st){if(!s)return null;for(;st!==null;)e(nt,st),st=st.sibling;return null}function a(nt,st){for(nt=new Map;st!==null;)st.key!==null?nt.set(st.key,st):nt.set(st.index,st),st=st.sibling;return nt}function o(nt,st){return nt=Pg(nt,st),nt.index=0,nt.sibling=null,nt}function c(nt,st,ot){return nt.index=ot,s?(ot=nt.alternate,ot!==null?(ot=ot.index,ot<st?(nt.flags|=2,st):ot):(nt.flags|=2,st)):(nt.flags|=1048576,st)}function d(nt){return s&&nt.alternate===null&&(nt.flags|=2),nt}function g(nt,st,ot,ct){return st===null||st.tag!==6?(st=Qg(ot,nt.mode,ct),st.return=nt,st):(st=o(st,ot),st.return=nt,st)}function b(nt,st,ot,ct){var at=ot.type;return at===ya?j(nt,st,ot.props.children,ct,ot.key):st!==null&&(st.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===Ha&&Ng(at)===st.type)?(ct=o(st,ot.props),ct.ref=Lg(nt,st,ot),ct.return=nt,ct):(ct=Rg(ot.type,ot.key,ot.props,null,nt.mode,ct),ct.ref=Lg(nt,st,ot),ct.return=nt,ct)}function _(nt,st,ot,ct){return st===null||st.tag!==4||st.stateNode.containerInfo!==ot.containerInfo||st.stateNode.implementation!==ot.implementation?(st=Sg(ot,nt.mode,ct),st.return=nt,st):(st=o(st,ot.children||[]),st.return=nt,st)}function j(nt,st,ot,ct,at){return st===null||st.tag!==7?(st=Tg(ot,nt.mode,ct,at),st.return=nt,st):(st=o(st,ot),st.return=nt,st)}function $(nt,st,ot){if(typeof st=="string"&&st!==""||typeof st=="number")return st=Qg(""+st,nt.mode,ot),st.return=nt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return ot=Rg(st.type,st.key,st.props,null,nt.mode,ot),ot.ref=Lg(nt,null,st),ot.return=nt,ot;case wa:return st=Sg(st,nt.mode,ot),st.return=nt,st;case Ha:var ct=st._init;return $(nt,ct(st._payload),ot)}if(eb(st)||Ka(st))return st=Tg(st,nt.mode,ot,null),st.return=nt,st;Mg(nt,st)}return null}function _e(nt,st,ot,ct){var at=st!==null?st.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return at!==null?null:g(nt,st,""+ot,ct);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===at?b(nt,st,ot,ct):null;case wa:return ot.key===at?_(nt,st,ot,ct):null;case Ha:return at=ot._init,_e(nt,st,at(ot._payload),ct)}if(eb(ot)||Ka(ot))return at!==null?null:j(nt,st,ot,ct,null);Mg(nt,ot)}return null}function et(nt,st,ot,ct,at){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return nt=nt.get(ot)||null,g(st,nt,""+ct,at);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return nt=nt.get(ct.key===null?ot:ct.key)||null,b(st,nt,ct,at);case wa:return nt=nt.get(ct.key===null?ot:ct.key)||null,_(st,nt,ct,at);case Ha:var ht=ct._init;return et(nt,st,ot,ht(ct._payload),at)}if(eb(ct)||Ka(ct))return nt=nt.get(ot)||null,j(st,nt,ct,at,null);Mg(st,ct)}return null}function tt(nt,st,ot,ct){for(var at=null,ht=null,lt=st,ft=st=0,yt=null;lt!==null&&ft<ot.length;ft++){lt.index>ft?(yt=lt,lt=null):yt=lt.sibling;var Et=_e(nt,lt,ot[ft],ct);if(Et===null){lt===null&&(lt=yt);break}s&&lt&&Et.alternate===null&&e(nt,lt),st=c(Et,st,ft),ht===null?at=Et:ht.sibling=Et,ht=Et,lt=yt}if(ft===ot.length)return i(nt,lt),I&&tg(nt,ft),at;if(lt===null){for(;ft<ot.length;ft++)lt=$(nt,ot[ft],ct),lt!==null&&(st=c(lt,st,ft),ht===null?at=lt:ht.sibling=lt,ht=lt);return I&&tg(nt,ft),at}for(lt=a(nt,lt);ft<ot.length;ft++)yt=et(lt,nt,ft,ot[ft],ct),yt!==null&&(s&&yt.alternate!==null&&lt.delete(yt.key===null?ft:yt.key),st=c(yt,st,ft),ht===null?at=yt:ht.sibling=yt,ht=yt);return s&&lt.forEach(function(mt){return e(nt,mt)}),I&&tg(nt,ft),at}function it(nt,st,ot,ct){var at=Ka(ot);if(typeof at!="function")throw Error(p(150));if(ot=at.call(ot),ot==null)throw Error(p(151));for(var ht=at=null,lt=st,ft=st=0,yt=null,Et=ot.next();lt!==null&&!Et.done;ft++,Et=ot.next()){lt.index>ft?(yt=lt,lt=null):yt=lt.sibling;var mt=_e(nt,lt,Et.value,ct);if(mt===null){lt===null&&(lt=yt);break}s&&lt&&mt.alternate===null&&e(nt,lt),st=c(mt,st,ft),ht===null?at=mt:ht.sibling=mt,ht=mt,lt=yt}if(Et.done)return i(nt,lt),I&&tg(nt,ft),at;if(lt===null){for(;!Et.done;ft++,Et=ot.next())Et=$(nt,Et.value,ct),Et!==null&&(st=c(Et,st,ft),ht===null?at=Et:ht.sibling=Et,ht=Et);return I&&tg(nt,ft),at}for(lt=a(nt,lt);!Et.done;ft++,Et=ot.next())Et=et(lt,nt,ft,Et.value,ct),Et!==null&&(s&&Et.alternate!==null&&lt.delete(Et.key===null?ft:Et.key),st=c(Et,st,ft),ht===null?at=Et:ht.sibling=Et,ht=Et);return s&&lt.forEach(function(At){return e(nt,At)}),I&&tg(nt,ft),at}function rt(nt,st,ot,ct){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var at=ot.key,ht=st;ht!==null;){if(ht.key===at){if(at=ot.type,at===ya){if(ht.tag===7){i(nt,ht.sibling),st=o(ht,ot.props.children),st.return=nt,nt=st;break e}}else if(ht.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===Ha&&Ng(at)===ht.type){i(nt,ht.sibling),st=o(ht,ot.props),st.ref=Lg(nt,ht,ot),st.return=nt,nt=st;break e}i(nt,ht);break}else e(nt,ht);ht=ht.sibling}ot.type===ya?(st=Tg(ot.props.children,nt.mode,ct,ot.key),st.return=nt,nt=st):(ct=Rg(ot.type,ot.key,ot.props,null,nt.mode,ct),ct.ref=Lg(nt,st,ot),ct.return=nt,nt=ct)}return d(nt);case wa:e:{for(ht=ot.key;st!==null;){if(st.key===ht)if(st.tag===4&&st.stateNode.containerInfo===ot.containerInfo&&st.stateNode.implementation===ot.implementation){i(nt,st.sibling),st=o(st,ot.children||[]),st.return=nt,nt=st;break e}else{i(nt,st);break}else e(nt,st);st=st.sibling}st=Sg(ot,nt.mode,ct),st.return=nt,nt=st}return d(nt);case Ha:return ht=ot._init,rt(nt,st,ht(ot._payload),ct)}if(eb(ot))return tt(nt,st,ot,ct);if(Ka(ot))return it(nt,st,ot,ct);Mg(nt,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,st!==null&&st.tag===6?(i(nt,st.sibling),st=o(st,ot),st.return=nt,nt=st):(i(nt,st),st=Qg(ot,nt.mode,ct),st.return=nt,nt=st),d(nt)):i(nt,st)}return rt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(s){var e=Wg.current;E(Wg),s._currentValue=e}function bh(s,e,i){for(;s!==null;){var a=s.alternate;if((s.childLanes&e)!==e?(s.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),s===i)break;s=s.return}}function ch(s,e){Xg=s,Zg=Yg=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&e&&(dh=!0),s.firstContext=null)}function eh(s){var e=s._currentValue;if(Zg!==s)if(s={context:s,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=s,Xg.dependencies={lanes:0,firstContext:s}}else Yg=Yg.next=s;return e}var fh=null;function gh(s){fh===null?fh=[s]:fh.push(s)}function hh(s,e,i,a){var o=e.interleaved;return o===null?(i.next=i,gh(e)):(i.next=o.next,o.next=i),e.interleaved=i,ih(s,a)}function ih(s,e){s.lanes|=e;var i=s.alternate;for(i!==null&&(i.lanes|=e),i=s,s=s.return;s!==null;)s.childLanes|=e,i=s.alternate,i!==null&&(i.childLanes|=e),i=s,s=s.return;return i.tag===3?i.stateNode:null}var jh=!1;function kh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(s,e){s=s.updateQueue,e.updateQueue===s&&(e.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mh(s,e){return{eventTime:s,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(s,e,i){var a=s.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var o=a.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),a.pending=e,ih(s,i)}return o=a.interleaved,o===null?(e.next=e,gh(a)):(e.next=o.next,o.next=e),a.interleaved=e,ih(s,i)}function oh(s,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var a=e.lanes;a&=s.pendingLanes,i|=a,e.lanes=i,Cc(s,i)}}function ph(s,e){var i=s.updateQueue,a=s.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=e:c=c.next=e}else o=c=e;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,effects:a.effects},s.updateQueue=i;return}s=i.lastBaseUpdate,s===null?i.firstBaseUpdate=e:s.next=e,i.lastBaseUpdate=e}function qh(s,e,i,a){var o=s.updateQueue;jh=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var b=g,_=b.next;b.next=null,d===null?c=_:d.next=_,d=b;var j=s.alternate;j!==null&&(j=j.updateQueue,g=j.lastBaseUpdate,g!==d&&(g===null?j.firstBaseUpdate=_:g.next=_,j.lastBaseUpdate=b))}if(c!==null){var $=o.baseState;d=0,j=_=b=null,g=c;do{var _e=g.lane,et=g.eventTime;if((a&_e)===_e){j!==null&&(j=j.next={eventTime:et,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var tt=s,it=g;switch(_e=e,et=i,it.tag){case 1:if(tt=it.payload,typeof tt=="function"){$=tt.call(et,$,_e);break e}$=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=it.payload,_e=typeof tt=="function"?tt.call(et,$,_e):tt,_e==null)break e;$=A({},$,_e);break e;case 2:jh=!0}}g.callback!==null&&g.lane!==0&&(s.flags|=64,_e=o.effects,_e===null?o.effects=[g]:_e.push(g))}else et={eventTime:et,lane:_e,tag:g.tag,payload:g.payload,callback:g.callback,next:null},j===null?(_=j=et,b=$):j=j.next=et,d|=_e;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;_e=g,g=_e.next,_e.next=null,o.lastBaseUpdate=_e,o.shared.pending=null}}while(!0);if(j===null&&(b=$),o.baseState=b,o.firstBaseUpdate=_,o.lastBaseUpdate=j,e=o.shared.interleaved,e!==null){o=e;do d|=o.lane,o=o.next;while(o!==e)}else c===null&&(o.shared.lanes=0);rh|=d,s.lanes=d,s.memoizedState=$}}function sh(s,e,i){if(s=e.effects,e.effects=null,s!==null)for(e=0;e<s.length;e++){var a=s[e],o=a.callback;if(o!==null){if(a.callback=null,a=i,typeof o!="function")throw Error(p(191,o));o.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(s){if(s===th)throw Error(p(174));return s}function yh(s,e){switch(G(wh,e),G(vh,s),G(uh,th),s=e.nodeType,s){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:s=s===8?e.parentNode:e,e=s.namespaceURI||null,s=s.tagName,e=lb(e,s)}E(uh),G(uh,e)}function zh(){E(uh),E(vh),E(wh)}function Ah(s){xh(wh.current);var e=xh(uh.current),i=lb(e,s.type);e!==i&&(G(vh,s),G(uh,i))}function Bh(s){vh.current===s&&(E(uh),E(vh))}var L=Uf(0);function Ch(s){for(var e=s;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var s=0;s<Dh.length;s++)Dh[s]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(s,e){if(e===null)return!1;for(var i=0;i<e.length&&i<s.length;i++)if(!He(s[i],e[i]))return!1;return!0}function Nh(s,e,i,a,o,c){if(Hh=c,M=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=s===null||s.memoizedState===null?Oh:Ph,s=i(a,o),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,e.updateQueue=null,Fh.current=Qh,s=i(a,o)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,e)throw Error(p(300));return s}function Sh(){var s=Kh!==0;return Kh=0,s}function Th(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=s:O=O.next=s,O}function Uh(){if(N===null){var s=M.alternate;s=s!==null?s.memoizedState:null}else s=N.next;var e=O===null?M.memoizedState:O.next;if(e!==null)O=e,N=s;else{if(s===null)throw Error(p(310));N=s,s={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=s:O=O.next=s}return O}function Vh(s,e){return typeof e=="function"?e(s):e}function Wh(s){var e=Uh(),i=e.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=s;var a=N,o=a.baseQueue,c=i.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}a.baseQueue=o=c,i.pending=null}if(o!==null){c=o.next,a=a.baseState;var g=d=null,b=null,_=c;do{var j=_.lane;if((Hh&j)===j)b!==null&&(b=b.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),a=_.hasEagerState?_.eagerState:s(a,_.action);else{var $={lane:j,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};b===null?(g=b=$,d=a):b=b.next=$,M.lanes|=j,rh|=j}_=_.next}while(_!==null&&_!==c);b===null?d=a:b.next=g,He(a,e.memoizedState)||(dh=!0),e.memoizedState=a,e.baseState=d,e.baseQueue=b,i.lastRenderedState=a}if(s=i.interleaved,s!==null){o=s;do c=o.lane,M.lanes|=c,rh|=c,o=o.next;while(o!==s)}else o===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Xh(s){var e=Uh(),i=e.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=s;var a=i.dispatch,o=i.pending,c=e.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=s(c,d.action),d=d.next;while(d!==o);He(c,e.memoizedState)||(dh=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),i.lastRenderedState=c}return[c,a]}function Yh(){}function Zh(s,e){var i=M,a=Uh(),o=e(),c=!He(a.memoizedState,o);if(c&&(a.memoizedState=o,dh=!0),a=a.queue,$h(ai.bind(null,i,a,s),[s]),a.getSnapshot!==e||c||O!==null&&O.memoizedState.tag&1){if(i.flags|=2048,bi(9,ci.bind(null,i,a,o,e),void 0,null),Q===null)throw Error(p(349));Hh&30||di(i,e,o)}return o}function di(s,e,i){s.flags|=16384,s={getSnapshot:e,value:i},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.stores=[s]):(i=e.stores,i===null?e.stores=[s]:i.push(s))}function ci(s,e,i,a){e.value=i,e.getSnapshot=a,ei(e)&&fi(s)}function ai(s,e,i){return i(function(){ei(e)&&fi(s)})}function ei(s){var e=s.getSnapshot;s=s.value;try{var i=e();return!He(s,i)}catch{return!0}}function fi(s){var e=ih(s,1);e!==null&&gi(e,s,1,-1)}function hi(s){var e=Th();return typeof s=="function"&&(s=s()),e.memoizedState=e.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:s},e.queue=s,s=s.dispatch=ii.bind(null,M,s),[e.memoizedState,s]}function bi(s,e,i,a){return s={tag:s,create:e,destroy:i,deps:a,next:null},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.lastEffect=s.next=s):(i=e.lastEffect,i===null?e.lastEffect=s.next=s:(a=i.next,i.next=s,s.next=a,e.lastEffect=s)),s}function ji(){return Uh().memoizedState}function ki(s,e,i,a){var o=Th();M.flags|=s,o.memoizedState=bi(1|e,i,void 0,a===void 0?null:a)}function li(s,e,i,a){var o=Uh();a=a===void 0?null:a;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,a!==null&&Mh(a,d.deps)){o.memoizedState=bi(e,i,c,a);return}}M.flags|=s,o.memoizedState=bi(1|e,i,c,a)}function mi(s,e){return ki(8390656,8,s,e)}function $h(s,e){return li(2048,8,s,e)}function ni(s,e){return li(4,2,s,e)}function oi(s,e){return li(4,4,s,e)}function pi(s,e){if(typeof e=="function")return s=s(),e(s),function(){e(null)};if(e!=null)return s=s(),e.current=s,function(){e.current=null}}function qi(s,e,i){return i=i!=null?i.concat([s]):null,li(4,4,pi.bind(null,e,s),i)}function ri(){}function si(s,e){var i=Uh();e=e===void 0?null:e;var a=i.memoizedState;return a!==null&&e!==null&&Mh(e,a[1])?a[0]:(i.memoizedState=[s,e],s)}function ti(s,e){var i=Uh();e=e===void 0?null:e;var a=i.memoizedState;return a!==null&&e!==null&&Mh(e,a[1])?a[0]:(s=s(),i.memoizedState=[s,e],s)}function ui(s,e,i){return Hh&21?(He(i,e)||(i=yc(),M.lanes|=i,rh|=i,s.baseState=!0),e):(s.baseState&&(s.baseState=!1,dh=!0),s.memoizedState=i)}function vi(s,e){var i=C;C=i!==0&&4>i?i:4,s(!0);var a=Gh.transition;Gh.transition={};try{s(!1),e()}finally{C=i,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(s,e,i){var a=yi(s);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},zi(s))Ai(e,i);else if(i=hh(s,e,i,a),i!==null){var o=R();gi(i,s,a,o),Bi(i,e,a)}}function ii(s,e,i){var a=yi(s),o={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(zi(s))Ai(e,o);else{var c=s.alternate;if(s.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var d=e.lastRenderedState,g=c(d,i);if(o.hasEagerState=!0,o.eagerState=g,He(g,d)){var b=e.interleaved;b===null?(o.next=o,gh(e)):(o.next=b.next,b.next=o),e.interleaved=o;return}}catch{}finally{}i=hh(s,e,o,a),i!==null&&(o=R(),gi(i,s,a,o),Bi(i,e,a))}}function zi(s){var e=s.alternate;return s===M||e!==null&&e===M}function Ai(s,e){Jh=Ih=!0;var i=s.pending;i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e}function Bi(s,e,i){if(i&4194240){var a=e.lanes;a&=s.pendingLanes,i|=a,e.lanes=i,Cc(s,i)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(s,e){return Th().memoizedState=[s,e===void 0?null:e],s},useContext:eh,useEffect:mi,useImperativeHandle:function(s,e,i){return i=i!=null?i.concat([s]):null,ki(4194308,4,pi.bind(null,e,s),i)},useLayoutEffect:function(s,e){return ki(4194308,4,s,e)},useInsertionEffect:function(s,e){return ki(4,2,s,e)},useMemo:function(s,e){var i=Th();return e=e===void 0?null:e,s=s(),i.memoizedState=[s,e],s},useReducer:function(s,e,i){var a=Th();return e=i!==void 0?i(e):e,a.memoizedState=a.baseState=e,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:e},a.queue=s,s=s.dispatch=xi.bind(null,M,s),[a.memoizedState,s]},useRef:function(s){var e=Th();return s={current:s},e.memoizedState=s},useState:hi,useDebugValue:ri,useDeferredValue:function(s){return Th().memoizedState=s},useTransition:function(){var s=hi(!1),e=s[0];return s=vi.bind(null,s[1]),Th().memoizedState=s,[e,s]},useMutableSource:function(){},useSyncExternalStore:function(s,e,i){var a=M,o=Th();if(I){if(i===void 0)throw Error(p(407));i=i()}else{if(i=e(),Q===null)throw Error(p(349));Hh&30||di(a,e,i)}o.memoizedState=i;var c={value:i,getSnapshot:e};return o.queue=c,mi(ai.bind(null,a,c,s),[s]),a.flags|=2048,bi(9,ci.bind(null,a,c,i,e),void 0,null),i},useId:function(){var s=Th(),e=Q.identifierPrefix;if(I){var i=sg,a=rg;i=(a&~(1<<32-oc(a)-1)).toString(32)+i,e=":"+e+"R"+i,i=Kh++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=Lh++,e=":"+e+"r"+i.toString(32)+":";return s.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var e=Uh();return ui(e,N.memoizedState,s)},useTransition:function(){var s=Wh(Vh)[0],e=Uh().memoizedState;return[s,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var e=Uh();return N===null?e.memoizedState=s:ui(e,N.memoizedState,s)},useTransition:function(){var s=Xh(Vh)[0],e=Uh().memoizedState;return[s,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(s,e){if(s&&s.defaultProps){e=A({},e),s=s.defaultProps;for(var i in s)e[i]===void 0&&(e[i]=s[i]);return e}return e}function Di(s,e,i,a){e=s.memoizedState,i=i(a,e),i=i==null?e:A({},e,i),s.memoizedState=i,s.lanes===0&&(s.updateQueue.baseState=i)}var Ei={isMounted:function(s){return(s=s._reactInternals)?Vb(s)===s:!1},enqueueSetState:function(s,e,i){s=s._reactInternals;var a=R(),o=yi(s),c=mh(a,o);c.payload=e,i!=null&&(c.callback=i),e=nh(s,c,o),e!==null&&(gi(e,s,o,a),oh(e,s,o))},enqueueReplaceState:function(s,e,i){s=s._reactInternals;var a=R(),o=yi(s),c=mh(a,o);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=nh(s,c,o),e!==null&&(gi(e,s,o,a),oh(e,s,o))},enqueueForceUpdate:function(s,e){s=s._reactInternals;var i=R(),a=yi(s),o=mh(i,a);o.tag=2,e!=null&&(o.callback=e),e=nh(s,o,a),e!==null&&(gi(e,s,a,i),oh(e,s,a))}};function Fi(s,e,i,a,o,c,d){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(a,c,d):e.prototype&&e.prototype.isPureReactComponent?!Ie(i,a)||!Ie(o,c):!0}function Gi(s,e,i){var a=!1,o=Vf,c=e.contextType;return typeof c=="object"&&c!==null?c=eh(c):(o=Zf(e)?Xf:H.current,a=e.contextTypes,c=(a=a!=null)?Yf(s,o):Vf),e=new e(i,c),s.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,s.stateNode=e,e._reactInternals=s,a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=c),e}function Hi(s,e,i,a){s=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,a),e.state!==s&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(s,e,i,a){var o=s.stateNode;o.props=i,o.state=s.memoizedState,o.refs={},kh(s);var c=e.contextType;typeof c=="object"&&c!==null?o.context=eh(c):(c=Zf(e)?Xf:H.current,o.context=Yf(s,c)),o.state=s.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(Di(s,e,c,i),o.state=s.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ei.enqueueReplaceState(o,o.state,null),qh(s,i,o,a),o.state=s.memoizedState),typeof o.componentDidMount=="function"&&(s.flags|=4194308)}function Ji(s,e){try{var i="",a=e;do i+=Pa(a),a=a.return;while(a);var o=i}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:s,source:e,stack:o,digest:null}}function Ki(s,e,i){return{value:s,source:null,stack:i??null,digest:e??null}}function Li(s,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(s,e,i){i=mh(-1,i),i.tag=3,i.payload={element:null};var a=e.value;return i.callback=function(){Oi||(Oi=!0,Pi=a),Li(s,e)},i}function Qi(s,e,i){i=mh(-1,i),i.tag=3;var a=s.type.getDerivedStateFromError;if(typeof a=="function"){var o=e.value;i.payload=function(){return a(o)},i.callback=function(){Li(s,e)}}var c=s.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Li(s,e),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=e.stack;this.componentDidCatch(e.value,{componentStack:d!==null?d:""})}),i}function Si(s,e,i){var a=s.pingCache;if(a===null){a=s.pingCache=new Mi;var o=new Set;a.set(e,o)}else o=a.get(e),o===void 0&&(o=new Set,a.set(e,o));o.has(i)||(o.add(i),s=Ti.bind(null,s,e,i),e.then(s,s))}function Ui(s){do{var e;if((e=s.tag===13)&&(e=s.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return s;s=s.return}while(s!==null);return null}function Vi(s,e,i,a,o){return s.mode&1?(s.flags|=65536,s.lanes=o,s):(s===e?s.flags|=65536:(s.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=mh(-1,1),e.tag=2,nh(i,e,1))),i.lanes|=1),s)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(s,e,i,a){e.child=s===null?Vg(e,null,i,a):Ug(e,s.child,i,a)}function Yi(s,e,i,a,o){i=i.render;var c=e.ref;return ch(e,o),a=Nh(s,e,i,a,c,o),i=Sh(),s!==null&&!dh?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~o,Zi(s,e,o)):(I&&i&&vg(e),e.flags|=1,Xi(s,e,a,o),e.child)}function $i(s,e,i,a,o){if(s===null){var c=i.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=c,bj(s,e,c,a,o)):(s=Rg(i.type,null,a,e,e.mode,o),s.ref=e.ref,s.return=e,e.child=s)}if(c=s.child,!(s.lanes&o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(d,a)&&s.ref===e.ref)return Zi(s,e,o)}return e.flags|=1,s=Pg(c,a),s.ref=e.ref,s.return=e,e.child=s}function bj(s,e,i,a,o){if(s!==null){var c=s.memoizedProps;if(Ie(c,a)&&s.ref===e.ref)if(dh=!1,e.pendingProps=a=c,(s.lanes&o)!==0)s.flags&131072&&(dh=!0);else return e.lanes=s.lanes,Zi(s,e,o)}return cj(s,e,i,a,o)}function dj(s,e,i){var a=e.pendingProps,o=a.children,c=s!==null?s.memoizedState:null;if(a.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=i;else{if(!(i&1073741824))return s=c!==null?c.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:s,cachePool:null,transitions:null},e.updateQueue=null,G(ej,fj),fj|=s,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:i,G(ej,fj),fj|=a}else c!==null?(a=c.baseLanes|i,e.memoizedState=null):a=i,G(ej,fj),fj|=a;return Xi(s,e,o,i),e.child}function gj(s,e){var i=e.ref;(s===null&&i!==null||s!==null&&s.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function cj(s,e,i,a,o){var c=Zf(i)?Xf:H.current;return c=Yf(e,c),ch(e,o),i=Nh(s,e,i,a,c,o),a=Sh(),s!==null&&!dh?(e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~o,Zi(s,e,o)):(I&&a&&vg(e),e.flags|=1,Xi(s,e,i,o),e.child)}function hj(s,e,i,a,o){if(Zf(i)){var c=!0;cg(e)}else c=!1;if(ch(e,o),e.stateNode===null)ij(s,e),Gi(e,i,a),Ii(e,i,a,o),a=!0;else if(s===null){var d=e.stateNode,g=e.memoizedProps;d.props=g;var b=d.context,_=i.contextType;typeof _=="object"&&_!==null?_=eh(_):(_=Zf(i)?Xf:H.current,_=Yf(e,_));var j=i.getDerivedStateFromProps,$=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function";$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==a||b!==_)&&Hi(e,d,a,_),jh=!1;var _e=e.memoizedState;d.state=_e,qh(e,a,d,o),b=e.memoizedState,g!==a||_e!==b||Wf.current||jh?(typeof j=="function"&&(Di(e,i,j,a),b=e.memoizedState),(g=jh||Fi(e,i,g,a,_e,b,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=b),d.props=a,d.state=b,d.context=_,a=g):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{d=e.stateNode,lh(s,e),g=e.memoizedProps,_=e.type===e.elementType?g:Ci(e.type,g),d.props=_,$=e.pendingProps,_e=d.context,b=i.contextType,typeof b=="object"&&b!==null?b=eh(b):(b=Zf(i)?Xf:H.current,b=Yf(e,b));var et=i.getDerivedStateFromProps;(j=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==$||_e!==b)&&Hi(e,d,a,b),jh=!1,_e=e.memoizedState,d.state=_e,qh(e,a,d,o);var tt=e.memoizedState;g!==$||_e!==tt||Wf.current||jh?(typeof et=="function"&&(Di(e,i,et,a),tt=e.memoizedState),(_=jh||Fi(e,i,_,a,_e,tt,b)||!1)?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,tt,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,tt,b)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===s.memoizedProps&&_e===s.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===s.memoizedProps&&_e===s.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=tt),d.props=a,d.state=tt,d.context=b,a=_):(typeof d.componentDidUpdate!="function"||g===s.memoizedProps&&_e===s.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===s.memoizedProps&&_e===s.memoizedState||(e.flags|=1024),a=!1)}return jj(s,e,i,a,c,o)}function jj(s,e,i,a,o,c){gj(s,e);var d=(e.flags&128)!==0;if(!a&&!d)return o&&dg(e,i,!1),Zi(s,e,c);a=e.stateNode,Wi.current=e;var g=d&&typeof i.getDerivedStateFromError!="function"?null:a.render();return e.flags|=1,s!==null&&d?(e.child=Ug(e,s.child,null,c),e.child=Ug(e,null,g,c)):Xi(s,e,g,c),e.memoizedState=a.state,o&&dg(e,i,!0),e.child}function kj(s){var e=s.stateNode;e.pendingContext?ag(s,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(s,e.context,!1),yh(s,e.containerInfo)}function lj(s,e,i,a,o){return Ig(),Jg(o),e.flags|=256,Xi(s,e,i,a),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(s){return{baseLanes:s,cachePool:null,transitions:null}}function oj(s,e,i){var a=e.pendingProps,o=L.current,c=!1,d=(e.flags&128)!==0,g;if((g=d)||(g=s!==null&&s.memoizedState===null?!1:(o&2)!==0),g?(c=!0,e.flags&=-129):(s===null||s.memoizedState!==null)&&(o|=1),G(L,o&1),s===null)return Eg(e),s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(e.mode&1?s.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(d=a.children,s=a.fallback,c?(a=e.mode,c=e.child,d={mode:"hidden",children:d},!(a&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,a,0,null),s=Tg(s,a,i,null),c.return=e,s.return=e,c.sibling=s,e.child=c,e.child.memoizedState=nj(i),e.memoizedState=mj,s):qj(e,d));if(o=s.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return rj(s,e,d,a,g,o,i);if(c){c=a.fallback,d=e.mode,o=s.child,g=o.sibling;var b={mode:"hidden",children:a.children};return!(d&1)&&e.child!==o?(a=e.child,a.childLanes=0,a.pendingProps=b,e.deletions=null):(a=Pg(o,b),a.subtreeFlags=o.subtreeFlags&14680064),g!==null?c=Pg(g,c):(c=Tg(c,d,i,null),c.flags|=2),c.return=e,a.return=e,a.sibling=c,e.child=a,a=c,c=e.child,d=s.child.memoizedState,d=d===null?nj(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=s.childLanes&~i,e.memoizedState=mj,a}return c=s.child,s=c.sibling,a=Pg(c,{mode:"visible",children:a.children}),!(e.mode&1)&&(a.lanes=i),a.return=e,a.sibling=null,s!==null&&(i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)),e.child=a,e.memoizedState=null,a}function qj(s,e){return e=pj({mode:"visible",children:e},s.mode,0,null),e.return=s,s.child=e}function sj(s,e,i,a){return a!==null&&Jg(a),Ug(e,s.child,null,i),s=qj(e,e.pendingProps.children),s.flags|=2,e.memoizedState=null,s}function rj(s,e,i,a,o,c,d){if(i)return e.flags&256?(e.flags&=-257,a=Ki(Error(p(422))),sj(s,e,d,a)):e.memoizedState!==null?(e.child=s.child,e.flags|=128,null):(c=a.fallback,o=e.mode,a=pj({mode:"visible",children:a.children},o,0,null),c=Tg(c,o,d,null),c.flags|=2,a.return=e,c.return=e,a.sibling=c,e.child=a,e.mode&1&&Ug(e,s.child,null,d),e.child.memoizedState=nj(d),e.memoizedState=mj,c);if(!(e.mode&1))return sj(s,e,d,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var g=a.dgst;return a=g,c=Error(p(419)),a=Ki(c,a,void 0),sj(s,e,d,a)}if(g=(d&s.childLanes)!==0,dh||g){if(a=Q,a!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|d)?0:o,o!==0&&o!==c.retryLane&&(c.retryLane=o,ih(s,o),gi(a,s,o,-1))}return tj(),a=Ki(Error(p(421))),sj(s,e,d,a)}return o.data==="$?"?(e.flags|=128,e.child=s.child,e=uj.bind(null,s),o._reactRetry=e,null):(s=c.treeContext,yg=Lf(o.nextSibling),xg=e,I=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=e),e=qj(e,a.children),e.flags|=4096,e)}function vj(s,e,i){s.lanes|=e;var a=s.alternate;a!==null&&(a.lanes|=e),bh(s.return,e,i)}function wj(s,e,i,a,o){var c=s.memoizedState;c===null?s.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=o)}function xj(s,e,i){var a=e.pendingProps,o=a.revealOrder,c=a.tail;if(Xi(s,e,a.children,i),a=L.current,a&2)a=a&1|2,e.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=e.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vj(s,i,e);else if(s.tag===19)vj(s,i,e);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a&=1}if(G(L,a),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(i=e.child,o=null;i!==null;)s=i.alternate,s!==null&&Ch(s)===null&&(o=i),i=i.sibling;i=o,i===null?(o=e.child,e.child=null):(o=i.sibling,i.sibling=null),wj(e,!1,o,i,c);break;case"backwards":for(i=null,o=e.child,e.child=null;o!==null;){if(s=o.alternate,s!==null&&Ch(s)===null){e.child=o;break}s=o.sibling,o.sibling=i,i=o,o=s}wj(e,!0,i,null,c);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(s,e){!(e.mode&1)&&s!==null&&(s.alternate=null,e.alternate=null,e.flags|=2)}function Zi(s,e,i){if(s!==null&&(e.dependencies=s.dependencies),rh|=e.lanes,!(i&e.childLanes))return null;if(s!==null&&e.child!==s.child)throw Error(p(153));if(e.child!==null){for(s=e.child,i=Pg(s,s.pendingProps),e.child=i,i.return=e;s.sibling!==null;)s=s.sibling,i=i.sibling=Pg(s,s.pendingProps),i.return=e;i.sibling=null}return e.child}function yj(s,e,i){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var a=e.type._context,o=e.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=o;break;case 13:if(a=e.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),e.flags|=128,null):i&e.child.childLanes?oj(s,e,i):(G(L,L.current&1),s=Zi(s,e,i),s!==null?s.sibling:null);G(L,L.current&1);break;case 19:if(a=(i&e.childLanes)!==0,s.flags&128){if(a)return xj(s,e,i);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return e.lanes=0,dj(s,e,i)}return Zi(s,e,i)}var zj,Aj,Bj,Cj;zj=function(s,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)s.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Aj=function(){};Bj=function(s,e,i,a){var o=s.memoizedProps;if(o!==a){s=e.stateNode,xh(uh.current);var c=null;switch(i){case"input":o=Ya(s,o),a=Ya(s,a),c=[];break;case"select":o=A({},o,{value:void 0}),a=A({},a,{value:void 0}),c=[];break;case"textarea":o=gb(s,o),a=gb(s,a),c=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(s.onclick=Bf)}ub(i,a);var d;i=null;for(_ in o)if(!a.hasOwnProperty(_)&&o.hasOwnProperty(_)&&o[_]!=null)if(_==="style"){var g=o[_];for(d in g)g.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in a){var b=a[_];if(g=o!=null?o[_]:void 0,a.hasOwnProperty(_)&&b!==g&&(b!=null||g!=null))if(_==="style")if(g){for(d in g)!g.hasOwnProperty(d)||b&&b.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in b)b.hasOwnProperty(d)&&g[d]!==b[d]&&(i||(i={}),i[d]=b[d])}else i||(c||(c=[]),c.push(_,i)),i=b;else _==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,g=g?g.__html:void 0,b!=null&&g!==b&&(c=c||[]).push(_,b)):_==="children"?typeof b!="string"&&typeof b!="number"||(c=c||[]).push(_,""+b):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_)?(b!=null&&_==="onScroll"&&D("scroll",s),c||g===b||(c=[])):(c=c||[]).push(_,b))}i&&(c=c||[]).push("style",i);var _=c;(e.updateQueue=_)&&(e.flags|=4)}};Cj=function(s,e,i,a){i!==a&&(e.flags|=4)};function Dj(s,e){if(!I)switch(s.tailMode){case"hidden":e=s.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?s.tail=null:i.sibling=null;break;case"collapsed":i=s.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e||s.tail===null?s.tail=null:s.tail.sibling=null:a.sibling=null}}function S(s){var e=s.alternate!==null&&s.alternate.child===s.child,i=0,a=0;if(e)for(var o=s.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=s,o=o.sibling;else for(o=s.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=s,o=o.sibling;return s.subtreeFlags|=a,s.childLanes=i,e}function Ej(s,e,i){var a=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return a=e.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Gg(e)?e.flags|=4:s===null||s.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(s,e),S(e),null;case 5:Bh(e);var o=xh(wh.current);if(i=e.type,s!==null&&e.stateNode!=null)Bj(s,e,i,a,o),s.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!a){if(e.stateNode===null)throw Error(p(166));return S(e),null}if(s=xh(uh.current),Gg(e)){a=e.stateNode,i=e.type;var c=e.memoizedProps;switch(a[Of]=e,a[Pf]=c,s=(e.mode&1)!==0,i){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,c),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},D("invalid",a);break;case"textarea":hb(a,c),D("invalid",a)}ub(i,c),o=null;for(var d in c)if(c.hasOwnProperty(d)){var g=c[d];d==="children"?typeof g=="string"?a.textContent!==g&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,g,s),o=["children",g]):typeof g=="number"&&a.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&Af(a.textContent,g,s),o=["children",""+g]):ea.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&D("scroll",a)}switch(i){case"input":Va(a),db(a,c,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=Bf)}a=o,e.updateQueue=a,a!==null&&(e.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb(i)),s==="http://www.w3.org/1999/xhtml"?i==="script"?(s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof a.is=="string"?s=d.createElement(i,{is:a.is}):(s=d.createElement(i),i==="select"&&(d=s,a.multiple?d.multiple=!0:a.size&&(d.size=a.size))):s=d.createElementNS(s,i),s[Of]=e,s[Pf]=a,zj(s,e,!1,!1),e.stateNode=s;e:{switch(d=vb(i,a),i){case"dialog":D("cancel",s),D("close",s),o=a;break;case"iframe":case"object":case"embed":D("load",s),o=a;break;case"video":case"audio":for(o=0;o<lf.length;o++)D(lf[o],s);o=a;break;case"source":D("error",s),o=a;break;case"img":case"image":case"link":D("error",s),D("load",s),o=a;break;case"details":D("toggle",s),o=a;break;case"input":Za(s,a),o=Ya(s,a),D("invalid",s);break;case"option":o=a;break;case"select":s._wrapperState={wasMultiple:!!a.multiple},o=A({},a,{value:void 0}),D("invalid",s);break;case"textarea":hb(s,a),o=gb(s,a),D("invalid",s);break;default:o=a}ub(i,o),g=o;for(c in g)if(g.hasOwnProperty(c)){var b=g[c];c==="style"?sb(s,b):c==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&nb(s,b)):c==="children"?typeof b=="string"?(i!=="textarea"||b!=="")&&ob(s,b):typeof b=="number"&&ob(s,""+b):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?b!=null&&c==="onScroll"&&D("scroll",s):b!=null&&ta(s,c,b,d))}switch(i){case"input":Va(s),db(s,a,!1);break;case"textarea":Va(s),jb(s);break;case"option":a.value!=null&&s.setAttribute("value",""+Sa(a.value));break;case"select":s.multiple=!!a.multiple,c=a.value,c!=null?fb(s,!!a.multiple,c,!1):a.defaultValue!=null&&fb(s,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(s.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(s&&e.stateNode!=null)Cj(s,e,s.memoizedProps,a);else{if(typeof a!="string"&&e.stateNode===null)throw Error(p(166));if(i=xh(wh.current),xh(uh.current),Gg(e)){if(a=e.stateNode,i=e.memoizedProps,a[Of]=e,(c=a.nodeValue!==i)&&(s=xg,s!==null))switch(s.tag){case 3:Af(a.nodeValue,i,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,i,(s.mode&1)!==0)}c&&(e.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Of]=e,e.stateNode=a}return S(e),null;case 13:if(E(L),a=e.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,c=!1;else if(c=Gg(e),a!==null&&a.dehydrated!==null){if(s===null){if(!c)throw Error(p(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(a=a!==null,a!==(s!==null&&s.memoizedState!==null)&&a&&(e.child.flags|=8192,e.mode&1&&(s===null||L.current&1?T===0&&(T=3):tj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return zh(),Aj(s,e),s===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return ah(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(L),c=e.memoizedState,c===null)return S(e),null;if(a=(e.flags&128)!==0,d=c.rendering,d===null)if(a)Dj(c,!1);else{if(T!==0||s!==null&&s.flags&128)for(s=e.child;s!==null;){if(d=Ch(s),d!==null){for(e.flags|=128,Dj(c,!1),a=d.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),e.subtreeFlags=0,a=i,i=e.child;i!==null;)c=i,s=a,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=s,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,s=d.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i=i.sibling;return G(L,L.current&1|2),e.child}s=s.sibling}c.tail!==null&&B()>Gj&&(e.flags|=128,a=!0,Dj(c,!1),e.lanes=4194304)}else{if(!a)if(s=Ch(d),s!==null){if(e.flags|=128,a=!0,i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(e),null}else 2*B()-c.renderingStartTime>Gj&&i!==1073741824&&(e.flags|=128,a=!0,Dj(c,!1),e.lanes=4194304);c.isBackwards?(d.sibling=e.child,e.child=d):(i=c.last,i!==null?i.sibling=d:e.child=d,c.last=d)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=B(),e.sibling=null,i=L.current,G(L,a?i&1|2:i&1),e):(S(e),null);case 22:case 23:return Hj(),a=e.memoizedState!==null,s!==null&&s.memoizedState!==null!==a&&(e.flags|=8192),a&&e.mode&1?fj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(s,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 3:return zh(),E(Wf),E(H),Eh(),s=e.flags,s&65536&&!(s&128)?(e.flags=s&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E(L),s=e.memoizedState,s!==null&&s.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(s,e){var i=s.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){W(s,e,a)}else i.current=null}function Mj(s,e,i){try{i()}catch(a){W(s,e,a)}}var Nj=!1;function Oj(s,e){if(Cf=dd,s=Me(),Ne(s)){if("selectionStart"in s)var i={start:s.selectionStart,end:s.selectionEnd};else e:{i=(i=s.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,b=-1,_=0,j=0,$=s,_e=null;t:for(;;){for(var et;$!==i||o!==0&&$.nodeType!==3||(g=d+o),$!==c||a!==0&&$.nodeType!==3||(b=d+a),$.nodeType===3&&(d+=$.nodeValue.length),(et=$.firstChild)!==null;)_e=$,$=et;for(;;){if($===s)break t;if(_e===i&&++_===o&&(g=d),_e===c&&++j===a&&(b=d),(et=$.nextSibling)!==null)break;$=_e,_e=$.parentNode}$=et}i=g===-1||b===-1?null:{start:g,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:s,selectionRange:i},dd=!1,V=e;V!==null;)if(e=V,s=e.child,(e.subtreeFlags&1028)!==0&&s!==null)s.return=e,V=s;else for(;V!==null;){e=V;try{var tt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var it=tt.memoizedProps,rt=tt.memoizedState,nt=e.stateNode,st=nt.getSnapshotBeforeUpdate(e.elementType===e.type?it:Ci(e.type,it),rt);nt.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var ot=e.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ct){W(e,e.return,ct)}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}return tt=Nj,Nj=!1,tt}function Pj(s,e,i){var a=e.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&s)===s){var c=o.destroy;o.destroy=void 0,c!==void 0&&Mj(e,i,c)}o=o.next}while(o!==a)}}function Qj(s,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&s)===s){var a=i.create;i.destroy=a()}i=i.next}while(i!==e)}}function Rj(s){var e=s.ref;if(e!==null){var i=s.stateNode;switch(s.tag){case 5:s=i;break;default:s=i}typeof e=="function"?e(s):e.current=s}}function Sj(s){var e=s.alternate;e!==null&&(s.alternate=null,Sj(e)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(e=s.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tj(s){return s.tag===5||s.tag===3||s.tag===4}function Uj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vj(s,e,i){var a=s.tag;if(a===5||a===6)s=s.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(s,e):i.insertBefore(s,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(s,i)):(e=i,e.appendChild(s)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Bf));else if(a!==4&&(s=s.child,s!==null))for(Vj(s,e,i),s=s.sibling;s!==null;)Vj(s,e,i),s=s.sibling}function Wj(s,e,i){var a=s.tag;if(a===5||a===6)s=s.stateNode,e?i.insertBefore(s,e):i.appendChild(s);else if(a!==4&&(s=s.child,s!==null))for(Wj(s,e,i),s=s.sibling;s!==null;)Wj(s,e,i),s=s.sibling}var X=null,Xj=!1;function Yj(s,e,i){for(i=i.child;i!==null;)Zj(s,e,i),i=i.sibling}function Zj(s,e,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Lj(i,e);case 6:var a=X,o=Xj;X=null,Yj(s,e,i),X=a,Xj=o,X!==null&&(Xj?(s=X,i=i.stateNode,s.nodeType===8?s.parentNode.removeChild(i):s.removeChild(i)):X.removeChild(i.stateNode));break;case 18:X!==null&&(Xj?(s=X,i=i.stateNode,s.nodeType===8?Kf(s.parentNode,i):s.nodeType===1&&Kf(s,i),bd(s)):Kf(X,i.stateNode));break;case 4:a=X,o=Xj,X=i.stateNode.containerInfo,Xj=!0,Yj(s,e,i),X=a,Xj=o;break;case 0:case 11:case 14:case 15:if(!U&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var c=o,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(i,e,d),o=o.next}while(o!==a)}Yj(s,e,i);break;case 1:if(!U&&(Lj(i,e),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(g){W(i,e,g)}Yj(s,e,i);break;case 21:Yj(s,e,i);break;case 22:i.mode&1?(U=(a=U)||i.memoizedState!==null,Yj(s,e,i),U=a):Yj(s,e,i);break;default:Yj(s,e,i)}}function ak(s){var e=s.updateQueue;if(e!==null){s.updateQueue=null;var i=s.stateNode;i===null&&(i=s.stateNode=new Kj),e.forEach(function(a){var o=bk.bind(null,s,a);i.has(a)||(i.add(a),a.then(o,o))})}}function ck(s,e){var i=e.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];try{var c=s,d=e,g=d;e:for(;g!==null;){switch(g.tag){case 5:X=g.stateNode,Xj=!1;break e;case 3:X=g.stateNode.containerInfo,Xj=!0;break e;case 4:X=g.stateNode.containerInfo,Xj=!0;break e}g=g.return}if(X===null)throw Error(p(160));Zj(c,d,o),X=null,Xj=!1;var b=o.alternate;b!==null&&(b.return=null),o.return=null}catch(_){W(o,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,s),e=e.sibling}function dk(s,e){var i=s.alternate,a=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ck(e,s),ek(s),a&4){try{Pj(3,s,s.return),Qj(3,s)}catch(it){W(s,s.return,it)}try{Pj(5,s,s.return)}catch(it){W(s,s.return,it)}}break;case 1:ck(e,s),ek(s),a&512&&i!==null&&Lj(i,i.return);break;case 5:if(ck(e,s),ek(s),a&512&&i!==null&&Lj(i,i.return),s.flags&32){var o=s.stateNode;try{ob(o,"")}catch(it){W(s,s.return,it)}}if(a&4&&(o=s.stateNode,o!=null)){var c=s.memoizedProps,d=i!==null?i.memoizedProps:c,g=s.type,b=s.updateQueue;if(s.updateQueue=null,b!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&ab(o,c),vb(g,d);var _=vb(g,c);for(d=0;d<b.length;d+=2){var j=b[d],$=b[d+1];j==="style"?sb(o,$):j==="dangerouslySetInnerHTML"?nb(o,$):j==="children"?ob(o,$):ta(o,j,$,_)}switch(g){case"input":bb(o,c);break;case"textarea":ib(o,c);break;case"select":var _e=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!c.multiple;var et=c.value;et!=null?fb(o,!!c.multiple,et,!1):_e!==!!c.multiple&&(c.defaultValue!=null?fb(o,!!c.multiple,c.defaultValue,!0):fb(o,!!c.multiple,c.multiple?[]:"",!1))}o[Pf]=c}catch(it){W(s,s.return,it)}}break;case 6:if(ck(e,s),ek(s),a&4){if(s.stateNode===null)throw Error(p(162));o=s.stateNode,c=s.memoizedProps;try{o.nodeValue=c}catch(it){W(s,s.return,it)}}break;case 3:if(ck(e,s),ek(s),a&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(it){W(s,s.return,it)}break;case 4:ck(e,s),ek(s);break;case 13:ck(e,s),ek(s),o=s.child,o.flags&8192&&(c=o.memoizedState!==null,o.stateNode.isHidden=c,!c||o.alternate!==null&&o.alternate.memoizedState!==null||(fk=B())),a&4&&ak(s);break;case 22:if(j=i!==null&&i.memoizedState!==null,s.mode&1?(U=(_=U)||j,ck(e,s),U=_):ck(e,s),ek(s),a&8192){if(_=s.memoizedState!==null,(s.stateNode.isHidden=_)&&!j&&s.mode&1)for(V=s,j=s.child;j!==null;){for($=V=j;V!==null;){switch(_e=V,et=_e.child,_e.tag){case 0:case 11:case 14:case 15:Pj(4,_e,_e.return);break;case 1:Lj(_e,_e.return);var tt=_e.stateNode;if(typeof tt.componentWillUnmount=="function"){a=_e,i=_e.return;try{e=a,tt.props=e.memoizedProps,tt.state=e.memoizedState,tt.componentWillUnmount()}catch(it){W(a,i,it)}}break;case 5:Lj(_e,_e.return);break;case 22:if(_e.memoizedState!==null){gk($);continue}}et!==null?(et.return=_e,V=et):gk($)}j=j.sibling}e:for(j=null,$=s;;){if($.tag===5){if(j===null){j=$;try{o=$.stateNode,_?(c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=$.stateNode,b=$.memoizedProps.style,d=b!=null&&b.hasOwnProperty("display")?b.display:null,g.style.display=rb("display",d))}catch(it){W(s,s.return,it)}}}else if($.tag===6){if(j===null)try{$.stateNode.nodeValue=_?"":$.memoizedProps}catch(it){W(s,s.return,it)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===s)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===s)break e;for(;$.sibling===null;){if($.return===null||$.return===s)break e;j===$&&(j=null),$=$.return}j===$&&(j=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:ck(e,s),ek(s),a&4&&ak(s);break;case 21:break;default:ck(e,s),ek(s)}}function ek(s){var e=s.flags;if(e&2){try{e:{for(var i=s.return;i!==null;){if(Tj(i)){var a=i;break e}i=i.return}throw Error(p(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(ob(o,""),a.flags&=-33);var c=Uj(s);Wj(s,c,o);break;case 3:case 4:var d=a.stateNode.containerInfo,g=Uj(s);Vj(s,g,d);break;default:throw Error(p(161))}}catch(b){W(s,s.return,b)}s.flags&=-3}e&4096&&(s.flags&=-4097)}function hk(s,e,i){V=s,ik(s)}function ik(s,e,i){for(var a=(s.mode&1)!==0;V!==null;){var o=V,c=o.child;if(o.tag===22&&a){var d=o.memoizedState!==null||Jj;if(!d){var g=o.alternate,b=g!==null&&g.memoizedState!==null||U;g=Jj;var _=U;if(Jj=d,(U=b)&&!_)for(V=o;V!==null;)d=V,b=d.child,d.tag===22&&d.memoizedState!==null?jk(o):b!==null?(b.return=d,V=b):jk(o);for(;c!==null;)V=c,ik(c),c=c.sibling;V=o,Jj=g,U=_}kk(s)}else o.subtreeFlags&8772&&c!==null?(c.return=o,V=c):kk(s)}}function kk(s){for(;V!==null;){var e=V;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Qj(5,e);break;case 1:var a=e.stateNode;if(e.flags&4&&!U)if(i===null)a.componentDidMount();else{var o=e.elementType===e.type?i.memoizedProps:Ci(e.type,i.memoizedProps);a.componentDidUpdate(o,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&sh(e,c,a);break;case 3:var d=e.updateQueue;if(d!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}sh(e,d,i)}break;case 5:var g=e.stateNode;if(i===null&&e.flags&4){i=g;var b=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&i.focus();break;case"img":b.src&&(i.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var j=_.memoizedState;if(j!==null){var $=j.dehydrated;$!==null&&bd($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Rj(e)}catch(_e){W(e,e.return,_e)}}if(e===s){V=null;break}if(i=e.sibling,i!==null){i.return=e.return,V=i;break}V=e.return}}function gk(s){for(;V!==null;){var e=V;if(e===s){V=null;break}var i=e.sibling;if(i!==null){i.return=e.return,V=i;break}V=e.return}}function jk(s){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{Qj(4,e)}catch(b){W(e,i,b)}break;case 1:var a=e.stateNode;if(typeof a.componentDidMount=="function"){var o=e.return;try{a.componentDidMount()}catch(b){W(e,o,b)}}var c=e.return;try{Rj(e)}catch(b){W(e,c,b)}break;case 5:var d=e.return;try{Rj(e)}catch(b){W(e,d,b)}}}catch(b){W(e,e.return,b)}if(e===s){V=null;break}var g=e.sibling;if(g!==null){g.return=e.return,V=g;break}V=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(s){return s.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(s=C,s!==0||(s=window.event,s=s===void 0?16:jd(s.type)),s):1}function gi(s,e,i,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(s,i,a),(!(K&2)||s!==Q)&&(s===Q&&(!(K&2)&&(qk|=i),T===4&&Ck(s,Z)),Dk(s,a),i===1&&K===0&&!(e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(s,e){var i=s.callbackNode;wc(s,e);var a=uc(s,s===Q?Z:0);if(a===0)i!==null&&bc(i),s.callbackNode=null,s.callbackPriority=0;else if(e=a&-a,s.callbackPriority!==e){if(i!=null&&bc(i),e===1)s.tag===0?ig(Ek.bind(null,s)):hg(Ek.bind(null,s)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(a)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Fk(i,Gk.bind(null,s))}s.callbackPriority=e,s.callbackNode=i}}function Gk(s,e){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var i=s.callbackNode;if(Hk()&&s.callbackNode!==i)return null;var a=uc(s,s===Q?Z:0);if(a===0)return null;if(a&30||a&s.expiredLanes||e)e=Ik(s,a);else{e=a;var o=K;K|=2;var c=Jk();(Q!==s||Z!==e)&&(uk=null,Gj=B()+500,Kk(s,e));do try{Lk();break}catch(g){Mk(s,g)}while(!0);$g(),mk.current=c,K=o,Y!==null?e=0:(Q=null,Z=0,e=T)}if(e!==0){if(e===2&&(o=xc(s),o!==0&&(a=o,e=Nk(s,o))),e===1)throw i=pk,Kk(s,0),Ck(s,a),Dk(s,B()),i;if(e===6)Ck(s,a);else{if(o=s.current.alternate,!(a&30)&&!Ok(o)&&(e=Ik(s,a),e===2&&(c=xc(s),c!==0&&(a=c,e=Nk(s,c))),e===1))throw i=pk,Kk(s,0),Ck(s,a),Dk(s,B()),i;switch(s.finishedWork=o,s.finishedLanes=a,e){case 0:case 1:throw Error(p(345));case 2:Pk(s,tk,uk);break;case 3:if(Ck(s,a),(a&130023424)===a&&(e=fk+500-B(),10<e)){if(uc(s,0)!==0)break;if(o=s.suspendedLanes,(o&a)!==a){R(),s.pingedLanes|=s.suspendedLanes&o;break}s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),e);break}Pk(s,tk,uk);break;case 4:if(Ck(s,a),(a&4194240)===a)break;for(e=s.eventTimes,o=-1;0<a;){var d=31-oc(a);c=1<<d,d=e[d],d>o&&(o=d),a&=~c}if(a=o,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),a);break}Pk(s,tk,uk);break;case 5:Pk(s,tk,uk);break;default:throw Error(p(329))}}}return Dk(s,B()),s.callbackNode===i?Gk.bind(null,s):null}function Nk(s,e){var i=sk;return s.current.memoizedState.isDehydrated&&(Kk(s,e).flags|=256),s=Ik(s,e),s!==2&&(e=tk,tk=i,e!==null&&Fj(e)),s}function Fj(s){tk===null?tk=s:tk.push.apply(tk,s)}function Ok(s){for(var e=s;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var o=i[a],c=o.getSnapshot;o=o.value;try{if(!He(c(),o))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(s,e){for(e&=~rk,e&=~qk,s.suspendedLanes|=e,s.pingedLanes&=~e,s=s.expirationTimes;0<e;){var i=31-oc(e),a=1<<i;s[i]=-1,e&=~a}}function Ek(s){if(K&6)throw Error(p(327));Hk();var e=uc(s,0);if(!(e&1))return Dk(s,B()),null;var i=Ik(s,e);if(s.tag!==0&&i===2){var a=xc(s);a!==0&&(e=a,i=Nk(s,a))}if(i===1)throw i=pk,Kk(s,0),Ck(s,e),Dk(s,B()),i;if(i===6)throw Error(p(345));return s.finishedWork=s.current.alternate,s.finishedLanes=e,Pk(s,tk,uk),Dk(s,B()),null}function Qk(s,e){var i=K;K|=1;try{return s(e)}finally{K=i,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(s){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var e=K;K|=1;var i=ok.transition,a=C;try{if(ok.transition=null,C=1,s)return s()}finally{C=a,ok.transition=i,K=e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(s,e){s.finishedWork=null,s.finishedLanes=0;var i=s.timeoutHandle;if(i!==-1&&(s.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var a=i;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}i=i.return}if(Q=s,Y=s=Pg(s.current,null),Z=fj=e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(i=fh[e],a=i.interleaved,a!==null){i.interleaved=null;var o=a.next,c=i.pending;if(c!==null){var d=c.next;c.next=o,a.next=d}i.pending=a}fh=null}return s}function Mk(s,e){do{var i=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,i===null||i.return===null){T=1,pk=e,Y=null;break}e:{var c=s,d=i.return,g=i,b=e;if(e=Z,g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var _=b,j=g,$=j.tag;if(!(j.mode&1)&&($===0||$===11||$===15)){var _e=j.alternate;_e?(j.updateQueue=_e.updateQueue,j.memoizedState=_e.memoizedState,j.lanes=_e.lanes):(j.updateQueue=null,j.memoizedState=null)}var et=Ui(d);if(et!==null){et.flags&=-257,Vi(et,d,g,c,e),et.mode&1&&Si(c,_,e),e=et,b=_;var tt=e.updateQueue;if(tt===null){var it=new Set;it.add(b),e.updateQueue=it}else tt.add(b);break e}else{if(!(e&1)){Si(c,_,e),tj();break e}b=Error(p(426))}}else if(I&&g.mode&1){var rt=Ui(d);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Vi(rt,d,g,c,e),Jg(Ji(b,g));break e}}c=b=Ji(b,g),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var nt=Ni(c,b,e);ph(c,nt);break e;case 1:g=b;var st=c.type,ot=c.stateNode;if(!(c.flags&128)&&(typeof st.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(ot)))){c.flags|=65536,e&=-e,c.lanes|=e;var ct=Qi(c,g,e);ph(c,ct);break e}}c=c.return}while(c!==null)}Sk(i)}catch(at){e=at,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(!0)}function Jk(){var s=mk.current;return mk.current=Rh,s===null?Rh:s}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(s,e){var i=K;K|=2;var a=Jk();(Q!==s||Z!==e)&&(uk=null,Kk(s,e));do try{Tk();break}catch(o){Mk(s,o)}while(!0);if($g(),K=i,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(s){var e=Vk(s.alternate,s,fj);s.memoizedProps=s.pendingProps,e===null?Sk(s):Y=e,nk.current=null}function Sk(s){var e=s;do{var i=e.alternate;if(s=e.return,e.flags&32768){if(i=Ij(i,e),i!==null){i.flags&=32767,Y=i;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T=6,Y=null;return}}else if(i=Ej(i,e,fj),i!==null){Y=i;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=s}while(e!==null);T===0&&(T=5)}function Pk(s,e,i){var a=C,o=ok.transition;try{ok.transition=null,C=1,Wk(s,e,i,a)}finally{ok.transition=o,C=a}return null}function Wk(s,e,i,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));i=s.finishedWork;var o=s.finishedLanes;if(i===null)return null;if(s.finishedWork=null,s.finishedLanes=0,i===s.current)throw Error(p(177));s.callbackNode=null,s.callbackPriority=0;var c=i.lanes|i.childLanes;if(Bc(s,c),s===Q&&(Y=Q=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var g=K;K|=4,nk.current=null,Oj(s,i),dk(i,s),Oe(Df),dd=!!Cf,Df=Cf=null,s.current=i,hk(i),dc(),K=g,C=d,ok.transition=c}else s.current=i;if(vk&&(vk=!1,wk=s,xk=o),c=s.pendingLanes,c===0&&(Ri=null),mc(i.stateNode),Dk(s,B()),e!==null)for(a=s.onRecoverableError,i=0;i<e.length;i++)o=e[i],a(o.value,{componentStack:o.stack,digest:o.digest});if(Oi)throw Oi=!1,s=Pi,Pi=null,s;return xk&1&&s.tag!==0&&Hk(),c=s.pendingLanes,c&1?s===zk?yk++:(yk=0,zk=s):yk=0,jg(),null}function Hk(){if(wk!==null){var s=Dc(xk),e=ok.transition,i=C;try{if(ok.transition=null,C=16>s?16:s,wk===null)var a=!1;else{if(s=wk,wk=null,xk=0,K&6)throw Error(p(331));var o=K;for(K|=4,V=s.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var g=c.deletions;if(g!==null){for(var b=0;b<g.length;b++){var _=g[b];for(V=_;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Pj(8,j,c)}var $=j.child;if($!==null)$.return=j,V=$;else for(;V!==null;){j=V;var _e=j.sibling,et=j.return;if(Sj(j),j===_){V=null;break}if(_e!==null){_e.return=et,V=_e;break}V=et}}}var tt=c.alternate;if(tt!==null){var it=tt.child;if(it!==null){tt.child=null;do{var rt=it.sibling;it.sibling=null,it=rt}while(it!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var nt=c.sibling;if(nt!==null){nt.return=c.return,V=nt;break e}V=c.return}}var st=s.current;for(V=st;V!==null;){d=V;var ot=d.child;if(d.subtreeFlags&2064&&ot!==null)ot.return=d,V=ot;else e:for(d=st;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qj(9,g)}}catch(at){W(g,g.return,at)}if(g===d){V=null;break e}var ct=g.sibling;if(ct!==null){ct.return=g.return,V=ct;break e}V=g.return}}if(K=o,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,s)}catch{}a=!0}return a}finally{C=i,ok.transition=e}}return!1}function Xk(s,e,i){e=Ji(i,e),e=Ni(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e))}function W(s,e,i){if(s.tag===3)Xk(s,s,i);else for(;e!==null;){if(e.tag===3){Xk(e,s,i);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){s=Ji(i,s),s=Qi(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s));break}}e=e.return}}function Ti(s,e,i){var a=s.pingCache;a!==null&&a.delete(e),e=R(),s.pingedLanes|=s.suspendedLanes&i,Q===s&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(s,0):rk|=i),Dk(s,e)}function Yk(s,e){e===0&&(s.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var i=R();s=ih(s,e),s!==null&&(Ac(s,e,i),Dk(s,i))}function uj(s){var e=s.memoizedState,i=0;e!==null&&(i=e.retryLane),Yk(s,i)}function bk(s,e){var i=0;switch(s.tag){case 13:var a=s.stateNode,o=s.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=s.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(e),Yk(s,i)}var Vk;Vk=function(s,e,i){if(s!==null)if(s.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(s.lanes&i)&&!(e.flags&128))return dh=!1,yj(s,e,i);dh=!!(s.flags&131072)}else dh=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var a=e.type;ij(s,e),s=e.pendingProps;var o=Yf(e,H.current);ch(e,i),o=Nh(null,e,a,s,o,i);var c=Sh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(a)?(c=!0,cg(e)):c=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,kh(e),o.updater=Ei,e.stateNode=o,o._reactInternals=e,Ii(e,a,s,i),e=jj(null,e,a,!0,c,i)):(e.tag=0,I&&c&&vg(e),Xi(null,e,o,i),e=e.child),e;case 16:a=e.elementType;e:{switch(ij(s,e),s=e.pendingProps,o=a._init,a=o(a._payload),e.type=a,o=e.tag=Zk(a),s=Ci(a,s),o){case 0:e=cj(null,e,a,s,i);break e;case 1:e=hj(null,e,a,s,i);break e;case 11:e=Yi(null,e,a,s,i);break e;case 14:e=$i(null,e,a,Ci(a.type,s),i);break e}throw Error(p(306,a,""))}return e;case 0:return a=e.type,o=e.pendingProps,o=e.elementType===a?o:Ci(a,o),cj(s,e,a,o,i);case 1:return a=e.type,o=e.pendingProps,o=e.elementType===a?o:Ci(a,o),hj(s,e,a,o,i);case 3:e:{if(kj(e),s===null)throw Error(p(387));a=e.pendingProps,c=e.memoizedState,o=c.element,lh(s,e),qh(e,a,null,i);var d=e.memoizedState;if(a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){o=Ji(Error(p(423)),e),e=lj(s,e,a,i,o);break e}else if(a!==o){o=Ji(Error(p(424)),e),e=lj(s,e,a,i,o);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,i=Vg(e,null,a,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),a===o){e=Zi(s,e,i);break e}Xi(s,e,a,i)}e=e.child}return e;case 5:return Ah(e),s===null&&Eg(e),a=e.type,o=e.pendingProps,c=s!==null?s.memoizedProps:null,d=o.children,Ef(a,o)?d=null:c!==null&&Ef(a,c)&&(e.flags|=32),gj(s,e),Xi(s,e,d,i),e.child;case 6:return s===null&&Eg(e),null;case 13:return oj(s,e,i);case 4:return yh(e,e.stateNode.containerInfo),a=e.pendingProps,s===null?e.child=Ug(e,null,a,i):Xi(s,e,a,i),e.child;case 11:return a=e.type,o=e.pendingProps,o=e.elementType===a?o:Ci(a,o),Yi(s,e,a,o,i);case 7:return Xi(s,e,e.pendingProps,i),e.child;case 8:return Xi(s,e,e.pendingProps.children,i),e.child;case 12:return Xi(s,e,e.pendingProps.children,i),e.child;case 10:e:{if(a=e.type._context,o=e.pendingProps,c=e.memoizedProps,d=o.value,G(Wg,a._currentValue),a._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===o.children&&!Wf.current){e=Zi(s,e,i);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var g=c.dependencies;if(g!==null){d=c.child;for(var b=g.firstContext;b!==null;){if(b.context===a){if(c.tag===1){b=mh(-1,i&-i),b.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var j=_.pending;j===null?b.next=b:(b.next=j.next,j.next=b),_.pending=b}}c.lanes|=i,b=c.alternate,b!==null&&(b.lanes|=i),bh(c.return,i,e),g.lanes|=i;break}b=b.next}}else if(c.tag===10)d=c.type===e.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=i,g=d.alternate,g!==null&&(g.lanes|=i),bh(d,i,e),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(s,e,o.children,i),e=e.child}return e;case 9:return o=e.type,a=e.pendingProps.children,ch(e,i),o=eh(o),a=a(o),e.flags|=1,Xi(s,e,a,i),e.child;case 14:return a=e.type,o=Ci(a,e.pendingProps),o=Ci(a.type,o),$i(s,e,a,o,i);case 15:return bj(s,e,e.type,e.pendingProps,i);case 17:return a=e.type,o=e.pendingProps,o=e.elementType===a?o:Ci(a,o),ij(s,e),e.tag=1,Zf(a)?(s=!0,cg(e)):s=!1,ch(e,i),Gi(e,a,o),Ii(e,a,o,i),jj(null,e,a,!0,s,i);case 19:return xj(s,e,i);case 22:return dj(s,e,i)}throw Error(p(156,e.tag))};function Fk(s,e){return ac(s,e)}function $k(s,e,i,a){this.tag=s,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,e,i,a){return new $k(s,e,i,a)}function aj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zk(s){if(typeof s=="function")return aj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da)return 11;if(s===Ga)return 14}return 2}function Pg(s,e){var i=s.alternate;return i===null?(i=Bg(s.tag,e,s.key,s.mode),i.elementType=s.elementType,i.type=s.type,i.stateNode=s.stateNode,i.alternate=s,s.alternate=i):(i.pendingProps=e,i.type=s.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=s.flags&14680064,i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=s.sibling,i.index=s.index,i.ref=s.ref,i}function Rg(s,e,i,a,o,c){var d=2;if(a=s,typeof s=="function")aj(s)&&(d=1);else if(typeof s=="string")d=5;else e:switch(s){case ya:return Tg(i.children,o,c,e);case za:d=8,o|=8;break;case Aa:return s=Bg(12,i,e,o|2),s.elementType=Aa,s.lanes=c,s;case Ea:return s=Bg(13,i,e,o),s.elementType=Ea,s.lanes=c,s;case Fa:return s=Bg(19,i,e,o),s.elementType=Fa,s.lanes=c,s;case Ia:return pj(i,o,c,e);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,a=null;break e}throw Error(p(130,s==null?s:typeof s,""))}return e=Bg(d,i,e,o),e.elementType=s,e.type=a,e.lanes=c,e}function Tg(s,e,i,a){return s=Bg(7,s,a,e),s.lanes=i,s}function pj(s,e,i,a){return s=Bg(22,s,a,e),s.elementType=Ia,s.lanes=i,s.stateNode={isHidden:!1},s}function Qg(s,e,i){return s=Bg(6,s,null,e),s.lanes=i,s}function Sg(s,e,i){return e=Bg(4,s.children!==null?s.children:[],s.key,e),e.lanes=i,e.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},e}function al(s,e,i,a,o){this.tag=e,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bl(s,e,i,a,o,c,d,g,b){return s=new al(s,e,i,g,b),e===1?(e=1,c===!0&&(e|=8)):e=0,c=Bg(3,null,null,e),s.current=c,c.stateNode=s,c.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),s}function cl(s,e,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:s,containerInfo:e,implementation:i}}function dl(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb(s)!==s||s.tag!==1)throw Error(p(170));var e=s;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(s.tag===1){var i=s.type;if(Zf(i))return bg(s,i,e)}return e}function el(s,e,i,a,o,c,d,g,b){return s=bl(i,a,!0,s,o,c,d,g,b),s.context=dl(null),i=s.current,a=R(),o=yi(i),c=mh(a,o),c.callback=e??null,nh(i,c,o),s.current.lanes=o,Ac(s,o,a),Dk(s,a),s}function fl(s,e,i,a){var o=e.current,c=R(),d=yi(o);return i=dl(i),e.context===null?e.context=i:e.pendingContext=i,e=mh(c,d),e.payload={element:s},a=a===void 0?null:a,a!==null&&(e.callback=a),s=nh(o,e,d),s!==null&&(gi(s,o,d,c),oh(s,o,d)),d}function gl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hl(s,e){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var i=s.retryLane;s.retryLane=i!==0&&i<e?i:e}}function il(s,e){hl(s,e),(s=s.alternate)&&hl(s,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(s){console.error(s)};function ll(s){this._internalRoot=s}ml.prototype.render=ll.prototype.render=function(s){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(s,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var e=s.containerInfo;Rk(function(){fl(null,s,null,null)}),e[uf]=null}};function ml(s){this._internalRoot=s}ml.prototype.unstable_scheduleHydration=function(s){if(s){var e=Hc();s={blockedOn:null,target:s,priority:e};for(var i=0;i<Qc.length&&e!==0&&e<Qc[i].priority;i++);Qc.splice(i,0,s),i===0&&Vc(s)}};function nl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(s,e,i,a,o){if(o){if(typeof a=="function"){var c=a;a=function(){var _=gl(d);c.call(_)}}var d=el(e,a,s,0,null,!1,!1,"",pl);return s._reactRootContainer=d,s[uf]=d.current,sf(s.nodeType===8?s.parentNode:s),Rk(),d}for(;o=s.lastChild;)s.removeChild(o);if(typeof a=="function"){var g=a;a=function(){var _=gl(b);g.call(_)}}var b=bl(s,0,!1,null,null,!1,!1,"",pl);return s._reactRootContainer=b,s[uf]=b.current,sf(s.nodeType===8?s.parentNode:s),Rk(function(){fl(e,b,i,a)}),b}function rl(s,e,i,a,o){var c=i._reactRootContainer;if(c){var d=c;if(typeof o=="function"){var g=o;o=function(){var b=gl(d);g.call(b)}}fl(e,d,s,o)}else d=ql(i,e,s,o,a);return gl(d)}Ec=function(s){switch(s.tag){case 3:var e=s.stateNode;if(e.current.memoizedState.isDehydrated){var i=tc(e.pendingLanes);i!==0&&(Cc(e,i|1),Dk(e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(s,1);if(a!==null){var o=R();gi(a,s,1,o)}}),il(s,1)}};Fc=function(s){if(s.tag===13){var e=ih(s,134217728);if(e!==null){var i=R();gi(e,s,134217728,i)}il(s,134217728)}};Gc=function(s){if(s.tag===13){var e=yi(s),i=ih(s,e);if(i!==null){var a=R();gi(i,s,e,a)}il(s,e)}};Hc=function(){return C};Ic=function(s,e){var i=C;try{return C=s,e()}finally{C=i}};yb=function(s,e,i){switch(e){case"input":if(bb(s,i),e=i.name,i.type==="radio"&&e!=null){for(i=s;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var a=i[e];if(a!==s&&a.form===s.form){var o=Db(a);if(!o)throw Error(p(90));Wa(a),bb(a,o)}}}break;case"textarea":ib(s,i);break;case"select":e=i.value,e!=null&&fb(s,!!i.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(s,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(s,e,null,i)};reactDom_production_min.createRoot=function(s,e){if(!nl(s))throw Error(p(299));var i=!1,a="",o=kl;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=bl(s,1,!1,null,null,i,!1,a,o),s[uf]=e.current,sf(s.nodeType===8?s.parentNode:s),new ll(e)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var e=s._reactInternals;if(e===void 0)throw typeof s.render=="function"?Error(p(188)):(s=Object.keys(s).join(","),Error(p(268,s)));return s=Zb(e),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Rk(s)};reactDom_production_min.hydrate=function(s,e,i){if(!ol(e))throw Error(p(200));return rl(null,s,e,!0,i)};reactDom_production_min.hydrateRoot=function(s,e,i){if(!nl(s))throw Error(p(405));var a=i!=null&&i.hydratedSources||null,o=!1,c="",d=kl;if(i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),e=el(e,null,s,1,i??null,o,!1,c,d),s[uf]=e.current,sf(s),a)for(s=0;s<a.length;s++)i=a[s],o=i._getVersion,o=o(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,o]:e.mutableSourceEagerHydrationData.push(i,o);return new ml(e)};reactDom_production_min.render=function(s,e,i){if(!ol(e))throw Error(p(200));return rl(null,s,e,!1,i)};reactDom_production_min.unmountComponentAtNode=function(s){if(!ol(s))throw Error(p(40));return s._reactRootContainer?(Rk(function(){rl(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,e,i,a){if(!ol(i))throw Error(p(200));if(s==null||s._reactInternals===void 0)throw Error(p(38));return rl(s,e,i,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},_extends$2.apply(this,arguments)}var Action;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(s){s===void 0&&(s={});function e(a,o){let{pathname:c,search:d,hash:g}=a.location;return createLocation("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(e,i,null,s)}function invariant(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function warning(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(s,e){return{usr:s.state,key:s.key,idx:e}}function createLocation(s,e,i,a){return i===void 0&&(i=null),_extends$2({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:i,key:e&&e.key||a||createKey()})}function createPath(s){let{pathname:e="/",search:i="",hash:a=""}=s;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function parsePath(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substr(i),s=s.substr(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substr(a),s=s.substr(0,a)),s&&(e.pathname=s)}return e}function getUrlBasedHistory(s,e,i,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,g=Action.Pop,b=null,_=j();_==null&&(_=0,d.replaceState(_extends$2({},d.state,{idx:_}),""));function j(){return(d.state||{idx:null}).idx}function $(){g=Action.Pop;let rt=j(),nt=rt==null?null:rt-_;_=rt,b&&b({action:g,location:it.location,delta:nt})}function _e(rt,nt){g=Action.Push;let st=createLocation(it.location,rt,nt);_=j()+1;let ot=getHistoryState(st,_),ct=it.createHref(st);try{d.pushState(ot,"",ct)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(ct)}c&&b&&b({action:g,location:it.location,delta:1})}function et(rt,nt){g=Action.Replace;let st=createLocation(it.location,rt,nt);_=j();let ot=getHistoryState(st,_),ct=it.createHref(st);d.replaceState(ot,"",ct),c&&b&&b({action:g,location:it.location,delta:0})}function tt(rt){let nt=o.location.origin!=="null"?o.location.origin:o.location.href,st=typeof rt=="string"?rt:createPath(rt);return st=st.replace(/ $/,"%20"),invariant(nt,"No window.location.(origin|href) available to create URL for href: "+st),new URL(st,nt)}let it={get action(){return g},get location(){return s(o,d)},listen(rt){if(b)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,$),b=rt,()=>{o.removeEventListener(PopStateEventType,$),b=null}},createHref(rt){return e(o,rt)},createURL:tt,encodeLocation(rt){let nt=tt(rt);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:_e,replace:et,go(rt){return d.go(rt)}};return it}var ResultType;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ResultType||(ResultType={}));function matchRoutes(s,e,i){return i===void 0&&(i="/"),matchRoutesImpl(s,e,i,!1)}function matchRoutesImpl(s,e,i,a){let o=typeof e=="string"?parsePath(e):e,c=stripBasename(o.pathname||"/",i);if(c==null)return null;let d=flattenRoutes(s);rankRouteBranches(d);let g=null;for(let b=0;g==null&&b<d.length;++b){let _=decodePath(c);g=matchRouteBranch(d[b],_,a)}return g}function flattenRoutes(s,e,i,a){e===void 0&&(e=[]),i===void 0&&(i=[]),a===void 0&&(a="");let o=(c,d,g)=>{let b={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};b.relativePath.startsWith("/")&&(invariant(b.relativePath.startsWith(a),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(a.length));let _=joinPaths([a,b.relativePath]),j=i.concat(b);c.children&&c.children.length>0&&(invariant(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),flattenRoutes(c.children,e,j,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:computeScore(_,c.index),routesMeta:j})};return s.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let b of explodeOptionalSegments(c.path))o(c,d,b)}),e}function explodeOptionalSegments(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=explodeOptionalSegments(a.join("/")),g=[];return g.push(...d.map(b=>b===""?c:[c,b].join("/"))),o&&g.push(...d),g.map(b=>s.startsWith("/")&&b===""?"/":b)}function rankRouteBranches(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:compareIndexes(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,e){let i=s.split("/"),a=i.length;return i.some(isSplat)&&(a+=splatPenalty),e&&(a+=indexRouteValue),i.filter(o=>!isSplat(o)).reduce((o,c)=>o+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function matchRouteBranch(s,e,i){let{routesMeta:a}=s,o={},c="/",d=[];for(let g=0;g<a.length;++g){let b=a[g],_=g===a.length-1,j=c==="/"?e:e.slice(c.length)||"/",$=matchPath({path:b.relativePath,caseSensitive:b.caseSensitive,end:_},j),_e=b.route;if(!$&&_&&i&&!a[a.length-1].route.index&&($=matchPath({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},j)),!$)return null;Object.assign(o,$.params),d.push({params:o,pathname:joinPaths([c,$.pathname]),pathnameBase:normalizePathname(joinPaths([c,$.pathnameBase])),route:_e}),$.pathnameBase!=="/"&&(c=joinPaths([c,$.pathnameBase]))}return d}function matchPath(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=compilePath(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:a.reduce((_,j,$)=>{let{paramName:_e,isOptional:et}=j;if(_e==="*"){let it=g[$]||"";d=c.slice(0,c.length-it.length).replace(/(.)\/+$/,"$1")}const tt=g[$];return et&&!tt?_[_e]=void 0:_[_e]=(tt||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:d,pattern:s}}function compilePath(s,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),warning(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,b)=>(a.push({paramName:g,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function decodePath(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function stripBasename(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function resolvePath(s,e){e===void 0&&(e="/");let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?parsePath(s):s;return{pathname:i?i.startsWith("/")?i:resolvePathname(i,e):e,search:normalizeSearch(a),hash:normalizeHash(o)}}function resolvePathname(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function getInvalidPathError(s,e,i,a){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(s,e){let i=getPathContributingMatches(s);return e?i.map((a,o)=>o===i.length-1?a.pathname:a.pathnameBase):i.map(a=>a.pathnameBase)}function resolveTo(s,e,i,a){a===void 0&&(a=!1);let o;typeof s=="string"?o=parsePath(s):(o=_extends$2({},s),invariant(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let $=e.length-1;if(!a&&d.startsWith("..")){let _e=d.split("/");for(;_e[0]==="..";)_e.shift(),$-=1;o.pathname=_e.join("/")}g=$>=0?e[$]:"/"}let b=resolvePath(o,g),_=d&&d!=="/"&&d.endsWith("/"),j=(c||d===".")&&i.endsWith("/");return!b.pathname.endsWith("/")&&(_||j)&&(b.pathname+="/"),b}const joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function isRouteErrorResponse(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(s,e){let{relative:i}=e===void 0?{}:e;useInRouterContext()||invariant(!1);let{basename:a,navigator:o}=reactExports.useContext(NavigationContext),{hash:c,pathname:d,search:g}=useResolvedPath(s,{relative:i}),b=d;return a!=="/"&&(b=d==="/"?a:joinPaths([a,d])),o.createHref({pathname:b,search:g,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(s){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(s)}function useNavigate(){let{isDataRoute:s}=reactExports.useContext(RouteContext);return s?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let s=reactExports.useContext(DataRouterContext),{basename:e,future:i,navigator:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(o,i.v7_relativeSplatPath)),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{g.current=!0}),reactExports.useCallback(function(_,j){if(j===void 0&&(j={}),!g.current)return;if(typeof _=="number"){a.go(_);return}let $=resolveTo(_,JSON.parse(d),c,j.relative==="path");s==null&&e!=="/"&&($.pathname=$.pathname==="/"?e:joinPaths([e,$.pathname])),(j.replace?a.replace:a.push)($,j.state,j)},[e,a,d,c,s])}function useResolvedPath(s,e){let{relative:i}=e===void 0?{}:e,{future:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),d=JSON.stringify(getResolveToMatches(o,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(s,JSON.parse(d),c,i==="path"),[s,d,c,i])}function useRoutes(s,e){return useRoutesImpl(s,e)}function useRoutesImpl(s,e,i,a){useInRouterContext()||invariant(!1);let{navigator:o}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),d=c[c.length-1],g=d?d.params:{};d&&d.pathname;let b=d?d.pathnameBase:"/";d&&d.route;let _=useLocation(),j;if(e){var $;let rt=typeof e=="string"?parsePath(e):e;b==="/"||($=rt.pathname)!=null&&$.startsWith(b)||invariant(!1),j=rt}else j=_;let _e=j.pathname||"/",et=_e;if(b!=="/"){let rt=b.replace(/^\//,"").split("/");et="/"+_e.replace(/^\//,"").split("/").slice(rt.length).join("/")}let tt=matchRoutes(s,{pathname:et}),it=_renderMatches(tt&&tt.map(rt=>Object.assign({},rt,{params:Object.assign({},g,rt.params),pathname:joinPaths([b,o.encodeLocation?o.encodeLocation(rt.pathname).pathname:rt.pathname]),pathnameBase:rt.pathnameBase==="/"?b:joinPaths([b,o.encodeLocation?o.encodeLocation(rt.pathnameBase).pathname:rt.pathnameBase])})),c,i,a);return e&&it?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:Action.Pop}},it):it}function DefaultErrorComponent(){let s=useRouteError(),e=isRouteErrorResponse(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),i?reactExports.createElement("pre",{style:o},i):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(s){let{routeContext:e,match:i,children:a}=s,o=reactExports.useContext(DataRouterContext);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),reactExports.createElement(RouteContext.Provider,{value:e},a)}function _renderMatches(s,e,i,a){var o;if(e===void 0&&(e=[]),i===void 0&&(i=null),a===void 0&&(a=null),s==null){var c;if(!i)return null;if(i.errors)s=i.matches;else if((c=a)!=null&&c.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let d=s,g=(o=i)==null?void 0:o.errors;if(g!=null){let j=d.findIndex($=>$.route.id&&(g==null?void 0:g[$.route.id])!==void 0);j>=0||invariant(!1),d=d.slice(0,Math.min(d.length,j+1))}let b=!1,_=-1;if(i&&a&&a.v7_partialHydration)for(let j=0;j<d.length;j++){let $=d[j];if(($.route.HydrateFallback||$.route.hydrateFallbackElement)&&(_=j),$.route.id){let{loaderData:_e,errors:et}=i,tt=$.route.loader&&_e[$.route.id]===void 0&&(!et||et[$.route.id]===void 0);if($.route.lazy||tt){b=!0,_>=0?d=d.slice(0,_+1):d=[d[0]];break}}}return d.reduceRight((j,$,_e)=>{let et,tt=!1,it=null,rt=null;i&&(et=g&&$.route.id?g[$.route.id]:void 0,it=$.route.errorElement||defaultErrorElement,b&&(_<0&&_e===0?(tt=!0,rt=null):_===_e&&(tt=!0,rt=$.route.hydrateFallbackElement||null)));let nt=e.concat(d.slice(0,_e+1)),st=()=>{let ot;return et?ot=it:tt?ot=rt:$.route.Component?ot=reactExports.createElement($.route.Component,null):$.route.element?ot=$.route.element:ot=j,reactExports.createElement(RenderedRoute,{match:$,routeContext:{outlet:j,matches:nt,isDataRoute:i!=null},children:ot})};return i&&($.route.ErrorBoundary||$.route.errorElement||_e===0)?reactExports.createElement(RenderErrorBoundary,{location:i.location,revalidation:i.revalidation,component:it,error:et,children:st(),routeContext:{outlet:null,matches:nt,isDataRoute:!0}}):st()},null)}var DataRouterHook$1=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(DataRouterHook$1||{}),DataRouterStateHook$1=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(DataRouterStateHook$1||{});function useDataRouterContext$1(s){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useDataRouterState(s){let e=reactExports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(s){let e=reactExports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(s){let e=useRouteContext(),i=e.matches[e.matches.length-1];return i.route.id||invariant(!1),i.route.id}function useRouteError(){var s;let e=reactExports.useContext(RouteErrorContext),i=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(s=i.errors)==null?void 0:s[a]}function useNavigateStable(){let{router:s}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),i=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{i.current=!0}),reactExports.useCallback(function(o,c){c===void 0&&(c={}),i.current&&(typeof o=="number"?s.navigate(o):s.navigate(o,_extends$1({fromRouteId:e},c)))},[s,e])}const alreadyWarned$1={};function warnOnce$2(s,e){alreadyWarned$1[e]||(alreadyWarned$1[e]=!0,console.warn(e))}const logDeprecation=(s,e,i)=>warnOnce$2(s," React Router Future Flag Warning: "+e+". "+("You can use the `"+s+"` future flag to opt-in early. ")+("For more information, see "+i+"."));function logV6DeprecationWarnings(s,e){s!=null&&s.v7_startTransition||logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(s!=null&&s.v7_relativeSplatPath)&&!e&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Navigate(s){let{to:e,replace:i,state:a,relative:o}=s;useInRouterContext()||invariant(!1);let{future:c,static:d}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),{pathname:b}=useLocation(),_=useNavigate(),j=resolveTo(e,getResolveToMatches(g,c.v7_relativeSplatPath),b,o==="path"),$=JSON.stringify(j);return reactExports.useEffect(()=>_(JSON.parse($),{replace:i,state:a,relative:o}),[_,$,o,i,a]),null}function Route(s){invariant(!1)}function Router(s){let{basename:e="/",children:i=null,location:a,navigationType:o=Action.Pop,navigator:c,static:d=!1,future:g}=s;useInRouterContext()&&invariant(!1);let b=e.replace(/^\/*/,"/"),_=reactExports.useMemo(()=>({basename:b,navigator:c,static:d,future:_extends$1({v7_relativeSplatPath:!1},g)}),[b,g,c,d]);typeof a=="string"&&(a=parsePath(a));let{pathname:j="/",search:$="",hash:_e="",state:et=null,key:tt="default"}=a,it=reactExports.useMemo(()=>{let rt=stripBasename(j,b);return rt==null?null:{location:{pathname:rt,search:$,hash:_e,state:et,key:tt},navigationType:o}},[b,j,$,_e,et,tt,o]);return it==null?null:reactExports.createElement(NavigationContext.Provider,{value:_},reactExports.createElement(LocationContext.Provider,{children:i,value:it}))}function Routes(s){let{children:e,location:i}=s;return useRoutes(createRoutesFromChildren(e),i)}new Promise(()=>{});function createRoutesFromChildren(s,e){e===void 0&&(e=[]);let i=[];return reactExports.Children.forEach(s,(a,o)=>{if(!reactExports.isValidElement(a))return;let c=[...e,o];if(a.type===reactExports.Fragment){i.push.apply(i,createRoutesFromChildren(a.props.children,c));return}a.type!==Route&&invariant(!1),!a.props.index||!a.props.children||invariant(!1);let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=createRoutesFromChildren(a.props.children,c)),i.push(d)}),i}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(s,e){if(s==null)return{};var i={},a=Object.keys(s),o,c;for(c=0;c<a.length;c++)o=a[c],!(e.indexOf(o)>=0)&&(i[o]=s[o]);return i}function isModifiedEvent(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function shouldProcessLinkClick(s,e){return s.button===0&&(!e||e==="_self")&&!isModifiedEvent(s)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_excluded2=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(s){let{basename:e,children:i,future:a,window:o}=s,c=reactExports.useRef();c.current==null&&(c.current=createBrowserHistory({window:o,v5Compat:!0}));let d=c.current,[g,b]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:_}=a||{},j=reactExports.useCallback($=>{_&&startTransitionImpl?startTransitionImpl(()=>b($)):b($)},[b,_]);return reactExports.useLayoutEffect(()=>d.listen(j),[d,j]),reactExports.useEffect(()=>logV6DeprecationWarnings(a),[a]),reactExports.createElement(Router,{basename:e,children:i,location:g.location,navigationType:g.action,navigator:d,future:a})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,i){let{onClick:a,relative:o,reloadDocument:c,replace:d,state:g,target:b,to:_,preventScrollReset:j,viewTransition:$}=e,_e=_objectWithoutPropertiesLoose(e,_excluded),{basename:et}=reactExports.useContext(NavigationContext),tt,it=!1;if(typeof _=="string"&&ABSOLUTE_URL_REGEX.test(_)&&(tt=_,isBrowser))try{let ot=new URL(window.location.href),ct=_.startsWith("//")?new URL(ot.protocol+_):new URL(_),at=stripBasename(ct.pathname,et);ct.origin===ot.origin&&at!=null?_=at+ct.search+ct.hash:it=!0}catch{}let rt=useHref(_,{relative:o}),nt=useLinkClickHandler(_,{replace:d,state:g,target:b,preventScrollReset:j,relative:o,viewTransition:$});function st(ot){a&&a(ot),ot.defaultPrevented||nt(ot)}return reactExports.createElement("a",_extends({},_e,{href:tt||rt,onClick:it||c?a:st,ref:i,target:b}))}),NavLink=reactExports.forwardRef(function(e,i){let{"aria-current":a="page",caseSensitive:o=!1,className:c="",end:d=!1,style:g,to:b,viewTransition:_,children:j}=e,$=_objectWithoutPropertiesLoose(e,_excluded2),_e=useResolvedPath(b,{relative:$.relative}),et=useLocation(),tt=reactExports.useContext(DataRouterStateContext),{navigator:it,basename:rt}=reactExports.useContext(NavigationContext),nt=tt!=null&&useViewTransitionState(_e)&&_===!0,st=it.encodeLocation?it.encodeLocation(_e).pathname:_e.pathname,ot=et.pathname,ct=tt&&tt.navigation&&tt.navigation.location?tt.navigation.location.pathname:null;o||(ot=ot.toLowerCase(),ct=ct?ct.toLowerCase():null,st=st.toLowerCase()),ct&&rt&&(ct=stripBasename(ct,rt)||ct);const at=st!=="/"&&st.endsWith("/")?st.length-1:st.length;let ht=ot===st||!d&&ot.startsWith(st)&&ot.charAt(at)==="/",lt=ct!=null&&(ct===st||!d&&ct.startsWith(st)&&ct.charAt(st.length)==="/"),ft={isActive:ht,isPending:lt,isTransitioning:nt},yt=ht?a:void 0,Et;typeof c=="function"?Et=c(ft):Et=[c,ht?"active":null,lt?"pending":null,nt?"transitioning":null].filter(Boolean).join(" ");let mt=typeof g=="function"?g(ft):g;return reactExports.createElement(Link,_extends({},$,{"aria-current":yt,className:Et,ref:i,style:mt,to:b,viewTransition:_}),typeof j=="function"?j(ft):j)});var DataRouterHook;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(s){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useLinkClickHandler(s,e){let{target:i,replace:a,state:o,preventScrollReset:c,relative:d,viewTransition:g}=e===void 0?{}:e,b=useNavigate(),_=useLocation(),j=useResolvedPath(s,{relative:d});return reactExports.useCallback($=>{if(shouldProcessLinkClick($,i)){$.preventDefault();let _e=a!==void 0?a:createPath(_)===createPath(j);b(s,{replace:_e,state:o,preventScrollReset:c,relative:d,viewTransition:g})}},[_,b,j,a,o,i,s,c,d,g])}function useViewTransitionState(s,e){e===void 0&&(e={});let i=reactExports.useContext(ViewTransitionContext);i==null&&invariant(!1);let{basename:a}=useDataRouterContext(DataRouterHook.useViewTransitionState),o=useResolvedPath(s,{relative:e.relative});if(!i.isTransitioning)return!1;let c=stripBasename(i.currentLocation.pathname,a)||i.currentLocation.pathname,d=stripBasename(i.nextLocation.pathname,a)||i.nextLocation.pathname;return matchPath(o.pathname,d)!=null||matchPath(o.pathname,c)!=null}const logo$1="/assets/logo-CCvq6oUt.png",warn$2=(...s)=>{console!=null&&console.warn&&(isString$1(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),console.warn(...s))},alreadyWarned={},warnOnce$1=(...s)=>{isString$1(s[0])&&alreadyWarned[s[0]]||(isString$1(s[0])&&(alreadyWarned[s[0]]=new Date),warn$2(...s))},loadedClb=(s,e)=>()=>{if(s.isInitialized)e();else{const i=()=>{setTimeout(()=>{s.off("initialized",i)},0),e()};s.on("initialized",i)}},loadNamespaces=(s,e,i)=>{s.loadNamespaces(e,loadedClb(s,i))},loadLanguages=(s,e,i,a)=>{if(isString$1(i)&&(i=[i]),s.options.preload&&s.options.preload.indexOf(e)>-1)return loadNamespaces(s,i,a);i.forEach(o=>{s.options.ns.indexOf(o)<0&&s.options.ns.push(o)}),s.loadLanguages(e,loadedClb(s,a))},hasLoadedNamespace=(s,e,i={})=>!e.languages||!e.languages.length?(warnOnce$1("i18n.languages were undefined or empty",e.languages),!0):e.hasLoadedNamespace(s,{lng:i.lng,precheck:(a,o)=>{var c;if(((c=i.bindI18n)==null?void 0:c.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,s))return!1}}),isString$1=s=>typeof s=="string",isObject=s=>typeof s=="object"&&s!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=s=>htmlEntities[s],unescape$1=s=>s.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1};const setDefaults=(s={})=>{defaultOptions={...defaultOptions,...s}},getDefaults$2=()=>defaultOptions;let i18nInstance;const setI18n=s=>{i18nInstance=s},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(s){setDefaults(s.options.react),setI18n(s)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(i=>{this.usedNamespaces[i]||(this.usedNamespaces[i]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious=(s,e)=>{const i=reactExports.useRef();return reactExports.useEffect(()=>{i.current=s},[s,e]),i.current},alwaysNewT=(s,e,i,a)=>s.getFixedT(e,i,a),useMemoizedT=(s,e,i,a)=>reactExports.useCallback(alwaysNewT(s,e,i,a),[s,e,i,a]),useTranslation=(s,e={})=>{var ct,at,ht,lt;const{i18n:i}=e,{i18n:a,defaultNS:o}=reactExports.useContext(I18nContext)||{},c=i||a||getI18n();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new ReportNamespaces),!c){warnOnce$1("You will need to pass in an i18next instance by using initReactI18next");const ft=(Et,mt)=>isString$1(mt)?mt:isObject(mt)&&isString$1(mt.defaultValue)?mt.defaultValue:Array.isArray(Et)?Et[Et.length-1]:Et,yt=[ft,{},!1];return yt.t=ft,yt.i18n={},yt.ready=!1,yt}(ct=c.options.react)!=null&&ct.wait&&warnOnce$1("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...getDefaults$2(),...c.options.react,...e},{useSuspense:g,keyPrefix:b}=d;let _=o||((at=c.options)==null?void 0:at.defaultNS);_=isString$1(_)?[_]:_||["translation"],(lt=(ht=c.reportNamespaces).addUsedNamespaces)==null||lt.call(ht,_);const j=(c.isInitialized||c.initializedStoreOnce)&&_.every(ft=>hasLoadedNamespace(ft,c,d)),$=useMemoizedT(c,e.lng||null,d.nsMode==="fallback"?_:_[0],b),_e=()=>$,et=()=>alwaysNewT(c,e.lng||null,d.nsMode==="fallback"?_:_[0],b),[tt,it]=reactExports.useState(_e);let rt=_.join();e.lng&&(rt=`${e.lng}${rt}`);const nt=usePrevious(rt),st=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:ft,bindI18nStore:yt}=d;st.current=!0,!j&&!g&&(e.lng?loadLanguages(c,e.lng,_,()=>{st.current&&it(et)}):loadNamespaces(c,_,()=>{st.current&&it(et)})),j&&nt&&nt!==rt&&st.current&&it(et);const Et=()=>{st.current&&it(et)};return ft&&(c==null||c.on(ft,Et)),yt&&(c==null||c.store.on(yt,Et)),()=>{st.current=!1,c&&(ft==null||ft.split(" ").forEach(mt=>c.off(mt,Et))),yt&&c&&yt.split(" ").forEach(mt=>c.store.off(mt,Et))}},[c,rt]),reactExports.useEffect(()=>{st.current&&j&&it(_e)},[c,b,j]);const ot=[tt,c,j];if(ot.t=tt,ot.i18n=c,ot.ready=j,j||!j&&!g)return ot;throw new Promise(ft=>{e.lng?loadLanguages(c,e.lng,_,()=>ft()):loadNamespaces(c,_,()=>ft())})},enFlag="/assets/en-flag-CamCehN9.png",deFlag="/assets/de-flag-8PRgXMNC.png",LanguageSwitcher=()=>{const{i18n:s}=useTranslation(),e=s.language,i=a=>{s.changeLanguage(a)};return jsxRuntimeExports.jsx("div",{className:"language-switcher",children:jsxRuntimeExports.jsx("div",{className:"language-option",onClick:()=>i(e==="en"?"de":"en"),title:e==="en"?"Switch to German":"Switch to English",children:jsxRuntimeExports.jsx("img",{src:e==="en"?enFlag:deFlag,alt:e==="en"?"English":"German"})})})},Header=()=>{const{t:s}=useTranslation(),[e,i]=reactExports.useState(!1),a=useLocation(),c=["/home/beginning","/home/urban-living","/home/podcast","/home/berlin"].includes(a.pathname),d=()=>{i(!e)},g=()=>{i(!1)};return jsxRuntimeExports.jsxs("header",{className:"header",children:[jsxRuntimeExports.jsx("div",{className:"logo-container",children:jsxRuntimeExports.jsx(NavLink,{to:"/",end:!0,children:jsxRuntimeExports.jsx("img",{src:logo$1,alt:"logo",className:"nav-logo"})})}),jsxRuntimeExports.jsxs("button",{className:`menu-toggle ${e?"active":""}`,onClick:d,"aria-label":"Toggle navigation",children:[jsxRuntimeExports.jsx("span",{}),jsxRuntimeExports.jsx("span",{}),jsxRuntimeExports.jsx("span",{})]}),jsxRuntimeExports.jsxs("div",{className:`nav-container ${e?"active":""}`,children:[jsxRuntimeExports.jsxs("ul",{className:`nav-list ${e?"active":""}`,children:[jsxRuntimeExports.jsxs("li",{className:"nav-item",children:[jsxRuntimeExports.jsx(NavLink,{to:"/",end:!0,className:({isActive:b})=>b||c?"active-link":"",onClick:g,children:"HOME"}),jsxRuntimeExports.jsxs("ul",{className:"nav-dropdown",children:[jsxRuntimeExports.jsx("li",{className:"nav-dropdown-item",children:jsxRuntimeExports.jsx(NavLink,{to:"/home/beginning",className:({isActive:b})=>b?"active-link":"",onClick:g,children:s("Beginning")})}),jsxRuntimeExports.jsx("li",{className:"nav-dropdown-item",children:jsxRuntimeExports.jsx(NavLink,{to:"/home/urban-living",className:({isActive:b})=>b?"active-link":"",onClick:g,children:"URBAN LIVING"})}),jsxRuntimeExports.jsx("li",{className:"nav-dropdown-item",children:jsxRuntimeExports.jsx(NavLink,{to:"/home/podcast",className:({isActive:b})=>b?"active-link":"",onClick:g,children:"PODCAST"})}),jsxRuntimeExports.jsx("li",{className:"nav-dropdown-item",children:jsxRuntimeExports.jsx(NavLink,{to:"/home/berlin",className:({isActive:b})=>b?"active-link":"",onClick:g,children:"BERLIN"})})]})]}),jsxRuntimeExports.jsx("li",{className:"nav-item",children:jsxRuntimeExports.jsx(NavLink,{to:"/about",className:({isActive:b})=>b?"active-link":"",onClick:g,children:s("About")})}),jsxRuntimeExports.jsx("li",{className:"nav-item",children:jsxRuntimeExports.jsx(NavLink,{to:"/coaching",className:({isActive:b})=>b?"active-link":"",onClick:g,children:"COACHING"})}),jsxRuntimeExports.jsx("li",{className:"nav-item",children:jsxRuntimeExports.jsx(NavLink,{to:"/contact",className:({isActive:b})=>b?"active-link":"",onClick:g,children:s("Contact")})})]}),jsxRuntimeExports.jsx(LanguageSwitcher,{})]})]})},logo="/assets/logo-black-BtPfLQXK.png";function Footer(){return jsxRuntimeExports.jsxs("footer",{className:"footer",children:[jsxRuntimeExports.jsxs("ul",{className:"ft-list1",children:[jsxRuntimeExports.jsx("li",{className:"boldTextFooter",children:"Guesthouses Top"}),jsxRuntimeExports.jsx("li",{className:"boldTextFooter",children:"Namola UG (haftungsbeschrnkt)"}),jsxRuntimeExports.jsx("li",{className:"normTextFooter",children:"Geschftsfhrerin Nadja Raabe"}),jsxRuntimeExports.jsx("li",{className:"normTextFooter",children:"Strae zum Lwen 25"}),jsxRuntimeExports.jsx("li",{className:"normTextFooter",children:"14109 Berlin"})]}),jsxRuntimeExports.jsx("img",{src:logo,alt:"logo",className:"ft-logo"}),jsxRuntimeExports.jsxs("ul",{className:"ft-list2",children:[jsxRuntimeExports.jsx("li",{className:"normTextFooter",children:"Telephone: +49 (0) 30 - 52 65 56 03"}),jsxRuntimeExports.jsx("li",{className:"normTextFooter",children:"Mobile:     +49 (0) 177 - 600 41 88"}),jsxRuntimeExports.jsxs("li",{className:"normTextFooter",children:["E-Mail: ",jsxRuntimeExports.jsx("a",{href:"mailto:info@guesthouses.top",children:"info@guesthouses.top"})]}),jsxRuntimeExports.jsx("li",{className:"normTextFooter",children:jsxRuntimeExports.jsx("a",{href:"https://www.findQuick.de",target:"_blank",rel:"noopener noreferrer",children:"www.findQuick.de"})}),jsxRuntimeExports.jsx("li",{className:"normTextFooter",children:jsxRuntimeExports.jsx("a",{href:"https://www.guesthouses.top",target:"_blank",rel:"noopener noreferrer",children:"www.guesthouses.top"})})]})]})}const CookieConsent=({reopenModal:s})=>{const[e,i]=reactExports.useState(!0);reactExports.useEffect(()=>{localStorage.getItem("cookiesAccepted")&&i(!1)},[]);const a=()=>{localStorage.setItem("cookiesAccepted","true"),i(!1)},o=()=>{localStorage.setItem("cookiesAccepted","false"),i(!1)};return e&&jsxRuntimeExports.jsx("div",{className:"cookie-modal",children:jsxRuntimeExports.jsxs("div",{className:"cookie-modal-content",children:[jsxRuntimeExports.jsx("h2",{children:"We use cookies"}),jsxRuntimeExports.jsxs("p",{children:["We use cookies to ensure you get the best experience on our website."," ",jsxRuntimeExports.jsx("a",{href:"#",onClick:c=>{c.preventDefault(),s()},children:"Cookie Policy"})]}),jsxRuntimeExports.jsxs("div",{className:"cookie-buttons",children:[jsxRuntimeExports.jsx("button",{onClick:a,children:"Accept"}),jsxRuntimeExports.jsx("button",{onClick:o,children:"Decline"})]})]})})};function Footer2(){const{t:s}=useTranslation(),[e,i]=reactExports.useState(!1),a=()=>{i(!0)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("footer",{className:"footer2",children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("a",{href:"/imprint",rel:"noopener noreferrer",children:s("Imprint")})," |",jsxRuntimeExports.jsx("a",{href:"/data_protection",rel:"noopener noreferrer",children:s("DataProtection")})," |",jsxRuntimeExports.jsx("a",{href:"/login",rel:"noopener noreferrer",children:"Login"})]})}),e&&jsxRuntimeExports.jsx(CookieConsent,{reopenModal:a})]})}const image1="/assets/1-C5t8Zh7W.jpg",image2="/assets/2-D4jMoDGz.jpg",image3="/assets/3-C9Lrzele.jpg",image4="/assets/4-DYMo7MY8.jpg",image5="/assets/toa-heftiba-n5jkZK-4rhs-unsplash-CxeI2YWD.jpg",image6="/assets/toa-heftiba-1-fTW0R5EGs-unsplash-CEb5XWLT.jpg",image8="/assets/8-CC8Ex3nz.jpg",images=[image8,image1,image2,image3,image4,image5,image6];function Carousel(){const[s,e]=reactExports.useState(0),[i,a]=reactExports.useState(!1),o=useLocation(),c=()=>{const d=o.pathname.split("/").filter(Boolean);return d.length===0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" > ",jsxRuntimeExports.jsx(Link,{to:"/",children:"Home"})]}):d.map((g,b)=>jsxRuntimeExports.jsxs("span",{children:[(b>0," > "),jsxRuntimeExports.jsx(Link,{to:`/${d.slice(0,b+1).join("/")}`,children:g.charAt(0).toUpperCase()+g.slice(1)})]},b))};return reactExports.useEffect(()=>{let d=0;images.forEach(g=>{const b=new Image;b.src=g,b.onload=()=>{d+=1,d===images.length&&a(!0)}})},[]),reactExports.useEffect(()=>{const d=setInterval(()=>{e(g=>(g+1)%images.length)},5e3);return()=>clearInterval(d)},[]),jsxRuntimeExports.jsx("div",{className:"carousel-container",children:i?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"carousel-slide",children:images.map((d,g)=>jsxRuntimeExports.jsx("img",{src:d,alt:`Slide ${g}`,className:s===g?"active":""},g))}),jsxRuntimeExports.jsx("div",{className:"breadcrumb",children:c()})]}):jsxRuntimeExports.jsx("p",{children:"Loading..."})})}var lib={exports:{}},core_min={};function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,i){module.exports=e.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(s,e)=>{var Ts;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=St,e.bytesToString=dn,e.createValidAbsoluteUrl=zt,e.getModificationDate=Cn,e.getUuid=qn,e.getVerbosityLevel=Bt,e.info=$t,e.isArrayBuffer=Kt,e.isArrayEqual=Pn,e.isNodeJS=void 0,e.normalizeUnicode=Dn,e.objectFromMap=xn,e.objectSize=bn,e.setVerbosityLevel=qt,e.shadow=_t,e.string32=gn,e.stringToBytes=hn,e.stringToPDFString=fn,e.stringToUTF8String=wn,e.unreachable=Ft,e.utf8StringToString=vn,e.warn=jt;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=i;const a=[1,0,0,1,0,0];e.IDENTITY_MATRIX=a;const o=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=o;const c=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;e.LINE_FACTOR=d;const g=.35;e.LINE_DESCENT_FACTOR=g;const b=g/d;e.BASELINE_FACTOR=b;const _={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=_;const j={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=j;const $="pdfjs_internal_editor_";e.AnnotationEditorPrefix=$;const _e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=_e;const et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=et;const tt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=tt;const it={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=it;const rt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=rt;const nt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=nt;const st={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=st;const ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=ot;const ct={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=ct;const at={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=at;const ht={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=ht;const lt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=lt;const ft={O:"PageOpen",C:"PageClose"};e.PageActionEventType=ft;const yt={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=yt;const Et={NONE:0,BINARY:1};e.CMapCompressionType=Et;const mt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=mt;const At={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=At;let Rt=yt.WARNINGS;function qt(mn){Number.isInteger(mn)&&(Rt=mn)}function Bt(){return Rt}function $t(mn){Rt>=yt.INFOS&&console.log(`Info: ${mn}`)}function jt(mn){Rt>=yt.WARNINGS&&console.log(`Warning: ${mn}`)}function Ft(mn){throw new Error(mn)}function St(mn,Qt){mn||Ft(Qt)}function It(mn){switch(mn==null?void 0:mn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function zt(mn,Qt=null,Jt=null){if(!mn)return null;try{if(Jt&&typeof mn=="string"){if(Jt.addDefaultProtocol&&mn.startsWith("www.")){const Hn=mn.match(/\./g);(Hn==null?void 0:Hn.length)>=2&&(mn=`http://${mn}`)}if(Jt.tryConvertEncoding)try{mn=wn(mn)}catch{}}const jn=Qt?new URL(mn,Qt):new URL(mn);if(It(jn))return jn}catch{}return null}function _t(mn,Qt,Jt,jn=!1){return Object.defineProperty(mn,Qt,{value:Jt,enumerable:!jn,configurable:!0,writable:!1}),Jt}const vt=function(){function Qt(Jt,jn){this.constructor===Qt&&Ft("Cannot initialize BaseException."),this.message=Jt,this.name=jn}return Qt.prototype=new Error,Qt.constructor=Qt,Qt}();e.BaseException=vt;class bt extends vt{constructor(Qt,Jt){super(Qt,"PasswordException"),this.code=Jt}}e.PasswordException=bt;class wt extends vt{constructor(Qt,Jt){super(Qt,"UnknownErrorException"),this.details=Jt}}e.UnknownErrorException=wt;class Pt extends vt{constructor(Qt){super(Qt,"InvalidPDFException")}}e.InvalidPDFException=Pt;class kt extends vt{constructor(Qt){super(Qt,"MissingPDFException")}}e.MissingPDFException=kt;class Mt extends vt{constructor(Qt,Jt){super(Qt,"UnexpectedResponseException"),this.status=Jt}}e.UnexpectedResponseException=Mt;class Gt extends vt{constructor(Qt){super(Qt,"FormatError")}}e.FormatError=Gt;class ln extends vt{constructor(Qt){super(Qt,"AbortException")}}e.AbortException=ln;function dn(mn){(typeof mn!="object"||(mn==null?void 0:mn.length)===void 0)&&Ft("Invalid argument for bytesToString");const Qt=mn.length,Jt=8192;if(Qt<Jt)return String.fromCharCode.apply(null,mn);const jn=[];for(let Hn=0;Hn<Qt;Hn+=Jt){const Jn=Math.min(Hn+Jt,Qt),Ot=mn.subarray(Hn,Jn);jn.push(String.fromCharCode.apply(null,Ot))}return jn.join("")}function hn(mn){typeof mn!="string"&&Ft("Invalid argument for stringToBytes");const Qt=mn.length,Jt=new Uint8Array(Qt);for(let jn=0;jn<Qt;++jn)Jt[jn]=mn.charCodeAt(jn)&255;return Jt}function gn(mn){return String.fromCharCode(mn>>24&255,mn>>16&255,mn>>8&255,mn&255)}function bn(mn){return Object.keys(mn).length}function xn(mn){const Qt=Object.create(null);for(const[Jt,jn]of mn)Qt[Jt]=jn;return Qt}function tn(){const mn=new Uint8Array(4);return mn[0]=1,new Uint32Array(mn.buffer,0,1)[0]===1}function sn(){try{return new Function(""),!0}catch{return!1}}class Ct{static get isLittleEndian(){return _t(this,"isLittleEndian",tn())}static get isEvalSupported(){return _t(this,"isEvalSupported",sn())}static get isOffscreenCanvasSupported(){return _t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?_t(this,"platform",{isWin:!1,isMac:!1}):_t(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Qt,Jt;return _t(this,"isCSSRoundSupported",(Jt=(Qt=globalThis.CSS)==null?void 0:Qt.supports)==null?void 0:Jt.call(Qt,"width: round(1.5px, 1px)"))}}e.FeatureTest=Ct;const Dt=[...Array(256).keys()].map(mn=>mn.toString(16).padStart(2,"0"));class Yt{static makeHexColor(Qt,Jt,jn){return`#${Dt[Qt]}${Dt[Jt]}${Dt[jn]}`}static scaleMinMax(Qt,Jt){let jn;Qt[0]?(Qt[0]<0&&(jn=Jt[0],Jt[0]=Jt[1],Jt[1]=jn),Jt[0]*=Qt[0],Jt[1]*=Qt[0],Qt[3]<0&&(jn=Jt[2],Jt[2]=Jt[3],Jt[3]=jn),Jt[2]*=Qt[3],Jt[3]*=Qt[3]):(jn=Jt[0],Jt[0]=Jt[2],Jt[2]=jn,jn=Jt[1],Jt[1]=Jt[3],Jt[3]=jn,Qt[1]<0&&(jn=Jt[2],Jt[2]=Jt[3],Jt[3]=jn),Jt[2]*=Qt[1],Jt[3]*=Qt[1],Qt[2]<0&&(jn=Jt[0],Jt[0]=Jt[1],Jt[1]=jn),Jt[0]*=Qt[2],Jt[1]*=Qt[2]),Jt[0]+=Qt[4],Jt[1]+=Qt[4],Jt[2]+=Qt[5],Jt[3]+=Qt[5]}static transform(Qt,Jt){return[Qt[0]*Jt[0]+Qt[2]*Jt[1],Qt[1]*Jt[0]+Qt[3]*Jt[1],Qt[0]*Jt[2]+Qt[2]*Jt[3],Qt[1]*Jt[2]+Qt[3]*Jt[3],Qt[0]*Jt[4]+Qt[2]*Jt[5]+Qt[4],Qt[1]*Jt[4]+Qt[3]*Jt[5]+Qt[5]]}static applyTransform(Qt,Jt){const jn=Qt[0]*Jt[0]+Qt[1]*Jt[2]+Jt[4],Hn=Qt[0]*Jt[1]+Qt[1]*Jt[3]+Jt[5];return[jn,Hn]}static applyInverseTransform(Qt,Jt){const jn=Jt[0]*Jt[3]-Jt[1]*Jt[2],Hn=(Qt[0]*Jt[3]-Qt[1]*Jt[2]+Jt[2]*Jt[5]-Jt[4]*Jt[3])/jn,Jn=(-Qt[0]*Jt[1]+Qt[1]*Jt[0]+Jt[4]*Jt[1]-Jt[5]*Jt[0])/jn;return[Hn,Jn]}static getAxialAlignedBoundingBox(Qt,Jt){const jn=this.applyTransform(Qt,Jt),Hn=this.applyTransform(Qt.slice(2,4),Jt),Jn=this.applyTransform([Qt[0],Qt[3]],Jt),Ot=this.applyTransform([Qt[2],Qt[1]],Jt);return[Math.min(jn[0],Hn[0],Jn[0],Ot[0]),Math.min(jn[1],Hn[1],Jn[1],Ot[1]),Math.max(jn[0],Hn[0],Jn[0],Ot[0]),Math.max(jn[1],Hn[1],Jn[1],Ot[1])]}static inverseTransform(Qt){const Jt=Qt[0]*Qt[3]-Qt[1]*Qt[2];return[Qt[3]/Jt,-Qt[1]/Jt,-Qt[2]/Jt,Qt[0]/Jt,(Qt[2]*Qt[5]-Qt[4]*Qt[3])/Jt,(Qt[4]*Qt[1]-Qt[5]*Qt[0])/Jt]}static singularValueDecompose2dScale(Qt){const Jt=[Qt[0],Qt[2],Qt[1],Qt[3]],jn=Qt[0]*Jt[0]+Qt[1]*Jt[2],Hn=Qt[0]*Jt[1]+Qt[1]*Jt[3],Jn=Qt[2]*Jt[0]+Qt[3]*Jt[2],Ot=Qt[2]*Jt[1]+Qt[3]*Jt[3],pn=(jn+Ot)/2,kn=Math.sqrt((jn+Ot)**2-4*(jn*Ot-Jn*Hn))/2,Un=pn+kn||1,Vn=pn-kn||1;return[Math.sqrt(Un),Math.sqrt(Vn)]}static normalizeRect(Qt){const Jt=Qt.slice(0);return Qt[0]>Qt[2]&&(Jt[0]=Qt[2],Jt[2]=Qt[0]),Qt[1]>Qt[3]&&(Jt[1]=Qt[3],Jt[3]=Qt[1]),Jt}static intersect(Qt,Jt){const jn=Math.max(Math.min(Qt[0],Qt[2]),Math.min(Jt[0],Jt[2])),Hn=Math.min(Math.max(Qt[0],Qt[2]),Math.max(Jt[0],Jt[2]));if(jn>Hn)return null;const Jn=Math.max(Math.min(Qt[1],Qt[3]),Math.min(Jt[1],Jt[3])),Ot=Math.min(Math.max(Qt[1],Qt[3]),Math.max(Jt[1],Jt[3]));return Jn>Ot?null:[jn,Jn,Hn,Ot]}static bezierBoundingBox(Qt,Jt,jn,Hn,Jn,Ot,pn,kn){const Un=[],Vn=[[],[]];let In,Lt,Tt,Wt,cn,un,yn,Sn;for(let cs=0;cs<2;++cs){if(cs===0?(Lt=6*Qt-12*jn+6*Jn,In=-3*Qt+9*jn-9*Jn+3*pn,Tt=3*jn-3*Qt):(Lt=6*Jt-12*Hn+6*Ot,In=-3*Jt+9*Hn-9*Ot+3*kn,Tt=3*Hn-3*Jt),Math.abs(In)<1e-12){if(Math.abs(Lt)<1e-12)continue;Wt=-Tt/Lt,0<Wt&&Wt<1&&Un.push(Wt);continue}yn=Lt*Lt-4*Tt*In,Sn=Math.sqrt(yn),!(yn<0)&&(cn=(-Lt+Sn)/(2*In),0<cn&&cn<1&&Un.push(cn),un=(-Lt-Sn)/(2*In),0<un&&un<1&&Un.push(un))}let $n=Un.length,On;const Ln=$n;for(;$n--;)Wt=Un[$n],On=1-Wt,Vn[0][$n]=On*On*On*Qt+3*On*On*Wt*jn+3*On*Wt*Wt*Jn+Wt*Wt*Wt*pn,Vn[1][$n]=On*On*On*Jt+3*On*On*Wt*Hn+3*On*Wt*Wt*Ot+Wt*Wt*Wt*kn;return Vn[0][Ln]=Qt,Vn[1][Ln]=Jt,Vn[0][Ln+1]=pn,Vn[1][Ln+1]=kn,Vn[0].length=Vn[1].length=Ln+2,[Math.min(...Vn[0]),Math.min(...Vn[1]),Math.max(...Vn[0]),Math.max(...Vn[1])]}}e.Util=Yt;const rn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function fn(mn){if(mn[0]>=""){let Jt;if(mn[0]===""&&mn[1]===""?Jt="utf-16be":mn[0]===""&&mn[1]===""?Jt="utf-16le":mn[0]===""&&mn[1]===""&&mn[2]===""&&(Jt="utf-8"),Jt)try{const jn=new TextDecoder(Jt,{fatal:!0}),Hn=hn(mn);return jn.decode(Hn)}catch(jn){jt(`stringToPDFString: "${jn}".`)}}const Qt=[];for(let Jt=0,jn=mn.length;Jt<jn;Jt++){const Hn=rn[mn.charCodeAt(Jt)];Qt.push(Hn?String.fromCharCode(Hn):mn.charAt(Jt))}return Qt.join("")}function wn(mn){return decodeURIComponent(escape(mn))}function vn(mn){return unescape(encodeURIComponent(mn))}function Kt(mn){return typeof mn=="object"&&(mn==null?void 0:mn.byteLength)!==void 0}function Pn(mn,Qt){if(mn.length!==Qt.length)return!1;for(let Jt=0,jn=mn.length;Jt<jn;Jt++)if(mn[Jt]!==Qt[Jt])return!1;return!0}function Cn(mn=new Date){return[mn.getUTCFullYear().toString(),(mn.getUTCMonth()+1).toString().padStart(2,"0"),mn.getUTCDate().toString().padStart(2,"0"),mn.getUTCHours().toString().padStart(2,"0"),mn.getUTCMinutes().toString().padStart(2,"0"),mn.getUTCSeconds().toString().padStart(2,"0")].join("")}class as{constructor(){pt(this,Ts,!1);this.promise=new Promise((Qt,Jt)=>{this.resolve=jn=>{dt(this,Ts,!0),Qt(jn)},this.reject=jn=>{dt(this,Ts,!0),Jt(jn)}})}get settled(){return h(this,Ts)}}Ts=new WeakMap,e.PromiseCapability=as;let _i=null,ys=null;function Dn(mn){return _i||(_i=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ys=new Map([["","t"]])),mn.replaceAll(_i,(Qt,Jt,jn)=>Jt?Jt.normalize("NFKC"):ys.get(jn))}function qn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const mn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(mn);else for(let Qt=0;Qt<32;Qt++)mn[Qt]=Math.floor(Math.random()*255);return dn(mn)}const ds="pdfjs_internal_id_";e.AnnotationPrefix=ds},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var s,i,a,o,Hp,zy,g,b,_,j,$,_e,et,tt,it,Vy,nt,st,ox,ct,at;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(lt){if(typeof lt=="string"||lt instanceof URL?lt={url:lt}:(0,_util.isArrayBuffer)(lt)&&(lt={data:lt}),typeof lt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!lt.url&&!lt.data&&!lt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ft=new PDFDocumentLoadingTask,{docId:yt}=ft,Et=lt.url?getUrlProp(lt.url):null,mt=lt.data?getDataProp(lt.data):null,At=lt.httpHeaders||null,Rt=lt.withCredentials===!0,qt=lt.password??null,Bt=lt.range instanceof PDFDataRangeTransport?lt.range:null,$t=Number.isInteger(lt.rangeChunkSize)&&lt.rangeChunkSize>0?lt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let jt=lt.worker instanceof PDFWorker?lt.worker:null;const Ft=lt.verbosity,St=typeof lt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(lt.docBaseUrl)?lt.docBaseUrl:null,It=typeof lt.cMapUrl=="string"?lt.cMapUrl:null,zt=lt.cMapPacked!==!1,_t=lt.CMapReaderFactory||DefaultCMapReaderFactory,vt=typeof lt.standardFontDataUrl=="string"?lt.standardFontDataUrl:null,bt=lt.StandardFontDataFactory||DefaultStandardFontDataFactory,wt=lt.stopAtErrors!==!0,Pt=Number.isInteger(lt.maxImageSize)&&lt.maxImageSize>-1?lt.maxImageSize:-1,kt=lt.isEvalSupported!==!1,Mt=typeof lt.isOffscreenCanvasSupported=="boolean"?lt.isOffscreenCanvasSupported:!_util.isNodeJS,Gt=Number.isInteger(lt.canvasMaxAreaInBytes)?lt.canvasMaxAreaInBytes:-1,ln=typeof lt.disableFontFace=="boolean"?lt.disableFontFace:_util.isNodeJS,dn=lt.fontExtraProperties===!0,hn=lt.enableXfa===!0,gn=lt.ownerDocument||globalThis.document,bn=lt.disableRange===!0,xn=lt.disableStream===!0,tn=lt.disableAutoFetch===!0,sn=lt.pdfBug===!0,Ct=Bt?Bt.length:lt.length??NaN,Dt=typeof lt.useSystemFonts=="boolean"?lt.useSystemFonts:!_util.isNodeJS&&!ln,Yt=typeof lt.useWorkerFetch=="boolean"?lt.useWorkerFetch:_t===_display_utils.DOMCMapReaderFactory&&bt===_display_utils.DOMStandardFontDataFactory&&It&&vt&&(0,_display_utils.isValidFetchUrl)(It,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(vt,document.baseURI),rn=lt.canvasFactory||new DefaultCanvasFactory({ownerDocument:gn}),fn=lt.filterFactory||new DefaultFilterFactory({docId:yt,ownerDocument:gn}),wn=null;(0,_util.setVerbosityLevel)(Ft);const vn={canvasFactory:rn,filterFactory:fn};if(Yt||(vn.cMapReaderFactory=new _t({baseUrl:It,isCompressed:zt}),vn.standardFontDataFactory=new bt({baseUrl:vt})),!jt){const Cn={verbosity:Ft,port:_worker_options.GlobalWorkerOptions.workerPort};jt=Cn.port?PDFWorker.fromPort(Cn):new PDFWorker(Cn),ft._worker=jt}const Kt={docId:yt,apiVersion:"3.11.174",data:mt,password:qt,disableAutoFetch:tn,rangeChunkSize:$t,length:Ct,docBaseUrl:St,enableXfa:hn,evaluatorOptions:{maxImageSize:Pt,disableFontFace:ln,ignoreErrors:wt,isEvalSupported:kt,isOffscreenCanvasSupported:Mt,canvasMaxAreaInBytes:Gt,fontExtraProperties:dn,useSystemFonts:Dt,cMapUrl:Yt?It:null,standardFontDataUrl:Yt?vt:null}},Pn={ignoreErrors:wt,isEvalSupported:kt,disableFontFace:ln,fontExtraProperties:dn,enableXfa:hn,ownerDocument:gn,disableAutoFetch:tn,pdfBug:sn,styleElement:wn};return jt.promise.then(function(){if(ft.destroyed)throw new Error("Loading aborted");const Cn=_fetchDocument(jt,Kt),as=new Promise(function(_i){let ys;Bt?ys=new _transport_stream.PDFDataTransportStream({length:Ct,initialData:Bt.initialData,progressiveDone:Bt.progressiveDone,contentDispositionFilename:Bt.contentDispositionFilename,disableRange:bn,disableStream:xn},Bt):mt||(ys=(qn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(qn):(0,_display_utils.isValidFetchUrl)(qn.url)?new _displayFetch_stream.PDFFetchStream(qn):new _displayNetwork.PDFNetworkStream(qn))({url:Et,length:Ct,httpHeaders:At,withCredentials:Rt,rangeChunkSize:$t,disableRange:bn,disableStream:xn})),_i(ys)});return Promise.all([Cn,as]).then(function([_i,ys]){if(ft.destroyed)throw new Error("Loading aborted");const Dn=new _message_handler.MessageHandler(yt,_i,jt.port),qn=new WorkerTransport(Dn,ft,ys,Pn,vn);ft._transport=qn,Dn.send("Ready",null)})}).catch(ft._capability.reject),ft}async function _fetchDocument(lt,ft){if(lt.destroyed)throw new Error("Worker was destroyed");const yt=await lt.messageHandler.sendWithPromise("GetDocRequest",ft,ft.data?[ft.data.buffer]:null);if(lt.destroyed)throw new Error("Worker was destroyed");return yt}function getUrlProp(lt){if(lt instanceof URL)return lt.href;try{return new URL(lt,window.location).href}catch{if(_util.isNodeJS&&typeof lt=="string")return lt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(lt){if(_util.isNodeJS&&typeof Buffer<"u"&&lt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(lt instanceof Uint8Array&&lt.byteLength===lt.buffer.byteLength)return lt;if(typeof lt=="string")return(0,_util.stringToBytes)(lt);if(typeof lt=="object"&&!isNaN(lt==null?void 0:lt.length)||(0,_util.isArrayBuffer)(lt))return new Uint8Array(lt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${yr(e,s)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ft,yt,Et;this.destroyed=!0;try{(ft=this._worker)!=null&&ft.port&&(this._worker._pendingDestroy=!0),await((yt=this._transport)==null?void 0:yt.destroy())}catch(mt){throw(Et=this._worker)!=null&&Et.port&&delete this._worker._pendingDestroy,mt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};s=new WeakMap,pt(e,s,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ft,yt,Et=!1,mt=null){this.length=ft,this.initialData=yt,this.progressiveDone=Et,this.contentDispositionFilename=mt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ft){this._rangeListeners.push(ft)}addProgressListener(ft){this._progressListeners.push(ft)}addProgressiveReadListener(ft){this._progressiveReadListeners.push(ft)}addProgressiveDoneListener(ft){this._progressiveDoneListeners.push(ft)}onDataRange(ft,yt){for(const Et of this._rangeListeners)Et(ft,yt)}onDataProgress(ft,yt){this._readyCapability.promise.then(()=>{for(const Et of this._progressListeners)Et(ft,yt)})}onDataProgressiveRead(ft){this._readyCapability.promise.then(()=>{for(const yt of this._progressiveReadListeners)yt(ft)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ft of this._progressiveDoneListeners)ft()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ft,yt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ft,yt){this._pdfInfo=ft,this._transport=yt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Et=>{if(!Et)return Et;const mt=[];for(const At in Et)mt.push(...Et[At]);return mt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ft){return this._transport.getPage(ft)}getPageIndex(ft){return this._transport.getPageIndex(ft)}getDestinations(){return this._transport.getDestinations()}getDestination(ft){return this._transport.getDestination(ft)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ft=!1){return this._transport.startCleanup(ft||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ft,yt,Et,mt=!1){pt(this,o);pt(this,i,null);pt(this,a,!1);this._pageIndex=ft,this._pageInfo=yt,this._transport=Et,this._stats=mt?new _display_utils.StatTimer:null,this._pdfBug=mt,this.commonObjs=Et.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ft,rotation:yt=this.rotate,offsetX:Et=0,offsetY:mt=0,dontFlip:At=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ft,rotation:yt,offsetX:Et,offsetY:mt,dontFlip:At})}getAnnotations({intent:ft="display"}={}){const yt=this._transport.getRenderingIntent(ft);return this._transport.getAnnotations(this._pageIndex,yt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ft;return((ft=this._transport._htmlForXfa)==null?void 0:ft.children[this._pageIndex])||null}render({canvasContext:ft,viewport:yt,intent:Et="display",annotationMode:mt=_util.AnnotationMode.ENABLE,transform:At=null,background:Rt=null,optionalContentConfigPromise:qt=null,annotationCanvasMap:Bt=null,pageColors:$t=null,printAnnotationStorage:jt=null}){var bt,wt;(bt=this._stats)==null||bt.time("Overall");const Ft=this._transport.getRenderingIntent(Et,mt,jt);dt(this,a,!1),ut(this,o,zy).call(this),qt||(qt=this._transport.getOptionalContentConfig());let St=this._intentStates.get(Ft.cacheKey);St||(St=Object.create(null),this._intentStates.set(Ft.cacheKey,St)),St.streamReaderCancelTimeout&&(clearTimeout(St.streamReaderCancelTimeout),St.streamReaderCancelTimeout=null);const It=!!(Ft.renderingIntent&_util.RenderingIntentFlag.PRINT);St.displayReadyCapability||(St.displayReadyCapability=new _util.PromiseCapability,St.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(wt=this._stats)==null||wt.time("Page Request"),this._pumpOperatorList(Ft));const zt=Pt=>{var kt,Mt;St.renderTasks.delete(_t),(this._maybeCleanupAfterRender||It)&&dt(this,a,!0),ut(this,o,Hp).call(this,!It),Pt?(_t.capability.reject(Pt),this._abortOperatorList({intentState:St,reason:Pt instanceof Error?Pt:new Error(Pt)})):_t.capability.resolve(),(kt=this._stats)==null||kt.timeEnd("Rendering"),(Mt=this._stats)==null||Mt.timeEnd("Overall")},_t=new InternalRenderTask({callback:zt,params:{canvasContext:ft,viewport:yt,transform:At,background:Rt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Bt,operatorList:St.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!It,pdfBug:this._pdfBug,pageColors:$t});(St.renderTasks||(St.renderTasks=new Set)).add(_t);const vt=_t.task;return Promise.all([St.displayReadyCapability.promise,qt]).then(([Pt,kt])=>{var Mt;if(this.destroyed){zt();return}(Mt=this._stats)==null||Mt.time("Rendering"),_t.initializeGraphics({transparency:Pt,optionalContentConfig:kt}),_t.operatorListChanged()}).catch(zt),vt}getOperatorList({intent:ft="display",annotationMode:yt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Et=null}={}){var Bt;function mt(){Rt.operatorList.lastChunk&&(Rt.opListReadCapability.resolve(Rt.operatorList),Rt.renderTasks.delete(qt))}const At=this._transport.getRenderingIntent(ft,yt,Et,!0);let Rt=this._intentStates.get(At.cacheKey);Rt||(Rt=Object.create(null),this._intentStates.set(At.cacheKey,Rt));let qt;return Rt.opListReadCapability||(qt=Object.create(null),qt.operatorListChanged=mt,Rt.opListReadCapability=new _util.PromiseCapability,(Rt.renderTasks||(Rt.renderTasks=new Set)).add(qt),Rt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Bt=this._stats)==null||Bt.time("Page Request"),this._pumpOperatorList(At)),Rt.opListReadCapability.promise}streamTextContent({includeMarkedContent:ft=!1,disableNormalization:yt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ft===!0,disableNormalization:yt===!0},{highWaterMark:100,size(mt){return mt.items.length}})}getTextContent(ft={}){if(this._transport._htmlForXfa)return this.getXfa().then(Et=>_xfa_text.XfaText.textContent(Et));const yt=this.streamTextContent(ft);return new Promise(function(Et,mt){function At(){Rt.read().then(function({value:Bt,done:$t}){if($t){Et(qt);return}Object.assign(qt.styles,Bt.styles),qt.items.push(...Bt.items),At()},mt)}const Rt=yt.getReader(),qt={items:[],styles:Object.create(null)};At()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ft=[];for(const yt of this._intentStates.values())if(this._abortOperatorList({intentState:yt,reason:new Error("Page was destroyed."),force:!0}),!yt.opListReadCapability)for(const Et of yt.renderTasks)ft.push(Et.completed),Et.cancel();return this.objs.clear(),dt(this,a,!1),ut(this,o,zy).call(this),Promise.all(ft)}cleanup(ft=!1){dt(this,a,!0);const yt=ut(this,o,Hp).call(this,!1);return ft&&yt&&this._stats&&(this._stats=new _display_utils.StatTimer),yt}_startRenderPage(ft,yt){var mt,At;const Et=this._intentStates.get(yt);Et&&((mt=this._stats)==null||mt.timeEnd("Page Request"),(At=Et.displayReadyCapability)==null||At.resolve(ft))}_renderPageChunk(ft,yt){for(let Et=0,mt=ft.length;Et<mt;Et++)yt.operatorList.fnArray.push(ft.fnArray[Et]),yt.operatorList.argsArray.push(ft.argsArray[Et]);yt.operatorList.lastChunk=ft.lastChunk,yt.operatorList.separateAnnots=ft.separateAnnots;for(const Et of yt.renderTasks)Et.operatorListChanged();ft.lastChunk&&ut(this,o,Hp).call(this,!0)}_pumpOperatorList({renderingIntent:ft,cacheKey:yt,annotationStorageSerializable:Et}){const{map:mt,transfers:At}=Et,qt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ft,cacheKey:yt,annotationStorage:mt},At).getReader(),Bt=this._intentStates.get(yt);Bt.streamReader=qt;const $t=()=>{qt.read().then(({value:jt,done:Ft})=>{if(Ft){Bt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(jt,Bt),$t())},jt=>{if(Bt.streamReader=null,!this._transport.destroyed){if(Bt.operatorList){Bt.operatorList.lastChunk=!0;for(const Ft of Bt.renderTasks)Ft.operatorListChanged();ut(this,o,Hp).call(this,!0)}if(Bt.displayReadyCapability)Bt.displayReadyCapability.reject(jt);else if(Bt.opListReadCapability)Bt.opListReadCapability.reject(jt);else throw jt}})};$t()}_abortOperatorList({intentState:ft,reason:yt,force:Et=!1}){if(ft.streamReader){if(ft.streamReaderCancelTimeout&&(clearTimeout(ft.streamReaderCancelTimeout),ft.streamReaderCancelTimeout=null),!Et){if(ft.renderTasks.size>0)return;if(yt instanceof _display_utils.RenderingCancelledException){let mt=RENDERING_CANCELLED_TIMEOUT;yt.extraDelay>0&&yt.extraDelay<1e3&&(mt+=yt.extraDelay),ft.streamReaderCancelTimeout=setTimeout(()=>{ft.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ft,reason:yt,force:!0})},mt);return}}if(ft.streamReader.cancel(new _util.AbortException(yt.message)).catch(()=>{}),ft.streamReader=null,!this._transport.destroyed){for(const[mt,At]of this._intentStates)if(At===ft){this._intentStates.delete(mt);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,a=new WeakMap,o=new WeakSet,Hp=function(ft=!1){if(ut(this,o,zy).call(this),!h(this,a)||this.destroyed)return!1;if(ft)return dt(this,i,setTimeout(()=>{dt(this,i,null),ut(this,o,Hp).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:yt,operatorList:Et}of this._intentStates.values())if(yt.size>0||!Et.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),dt(this,a,!1),!0},zy=function(){h(this,i)&&(clearTimeout(h(this,i)),dt(this,i,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){pt(this,g,new Set);pt(this,b,Promise.resolve())}postMessage(ft,yt){const Et={data:structuredClone(ft,yt?{transfer:yt}:null)};h(this,b).then(()=>{for(const mt of h(this,g))mt.call(this,Et)})}addEventListener(ft,yt){h(this,g).add(yt)}removeEventListener(ft,yt){h(this,g).delete(yt)}terminate(){h(this,g).clear()}}g=new WeakMap,b=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const lt=(_=document==null?void 0:document.currentScript)==null?void 0:_.src;lt&&(PDFWorkerUtil.fallbackWorkerSrc=lt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(lt,ft){let yt;try{if(yt=new URL(lt),!yt.origin||yt.origin==="null")return!1}catch{return!1}const Et=new URL(ft,yt);return yt.origin===Et.origin},PDFWorkerUtil.createCDNWrapper=function(lt){const ft=`importScripts("${lt}");`;return URL.createObjectURL(new Blob([ft]))}}const _PDFWorker=class _PDFWorker{constructor({name:lt=null,port:ft=null,verbosity:yt=(0,_util.getVerbosityLevel)()}={}){var Et;if(this.name=lt,this.destroyed=!1,this.verbosity=yt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ft){if((Et=h(_PDFWorker,j))!=null&&Et.has(ft))throw new Error("Cannot use more than one PDFWorker per port.");(h(_PDFWorker,j)||dt(_PDFWorker,j,new WeakMap)).set(ft,this),this._initializeFromPort(ft);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(lt){this._port=lt,this._messageHandler=new _message_handler.MessageHandler("main","worker",lt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:lt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,lt)||(lt=PDFWorkerUtil.createCDNWrapper(new URL(lt,window.location).href));const ft=new Worker(lt),yt=new _message_handler.MessageHandler("main","worker",ft),Et=()=>{ft.removeEventListener("error",mt),yt.destroy(),ft.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},mt=()=>{this._webWorker||Et()};ft.addEventListener("error",mt),yt.on("test",Rt=>{if(ft.removeEventListener("error",mt),this.destroyed){Et();return}Rt?(this._messageHandler=yt,this._port=ft,this._webWorker=ft,this._readyCapability.resolve(),yt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),yt.destroy(),ft.terminate())}),yt.on("ready",Rt=>{if(ft.removeEventListener("error",mt),this.destroyed){Et();return}try{At()}catch{this._setupFakeWorker()}});const At=()=>{const Rt=new Uint8Array;yt.send("test",Rt,[Rt.buffer])};At();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(lt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ft=new LoopbackPort;this._port=ft;const yt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Et=new _message_handler.MessageHandler(yt+"_worker",yt,ft);lt.setup(Et,ft);const mt=new _message_handler.MessageHandler(yt,yt+"_worker",ft);this._messageHandler=mt,this._readyCapability.resolve(),mt.send("configure",{verbosity:this.verbosity})}).catch(lt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${lt.message}".`))})}destroy(){var lt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(lt=h(_PDFWorker,j))==null||lt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(lt){var yt;if(!(lt!=null&&lt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ft=(yt=h(this,j))==null?void 0:yt.get(lt.port);if(ft){if(ft._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ft}return new _PDFWorker(lt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var lt;try{return((lt=globalThis.pdfjsWorker)==null?void 0:lt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};j=new WeakMap,pt(_PDFWorker,j);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ft,yt,Et,mt,At){pt(this,it);pt(this,$,new Map);pt(this,_e,new Map);pt(this,et,new Map);pt(this,tt,null);this.messageHandler=ft,this.loadingTask=yt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:mt.ownerDocument,styleElement:mt.styleElement}),this._params=mt,this.canvasFactory=At.canvasFactory,this.filterFactory=At.filterFactory,this.cMapReaderFactory=At.cMapReaderFactory,this.standardFontDataFactory=At.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Et,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ft,yt=_util.AnnotationMode.ENABLE,Et=null,mt=!1){let At=_util.RenderingIntentFlag.DISPLAY,Rt=_annotation_storage.SerializableEmpty;switch(ft){case"any":At=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":At=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ft}`)}switch(yt){case _util.AnnotationMode.DISABLE:At+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:At+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:At+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Rt=(At&_util.RenderingIntentFlag.PRINT&&Et instanceof _annotation_storage.PrintAnnotationStorage?Et:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${yt}`)}return mt&&(At+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:At,cacheKey:`${At}_${Rt.hash}`,annotationStorageSerializable:Rt}}destroy(){var Et;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Et=h(this,tt))==null||Et.reject(new Error("Worker was destroyed during onPassword callback"));const ft=[];for(const mt of h(this,_e).values())ft.push(mt._destroy());h(this,_e).clear(),h(this,et).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const yt=this.messageHandler.sendWithPromise("Terminate",null);return ft.push(yt),Promise.all(ft).then(()=>{var mt;this.commonObjs.clear(),this.fontLoader.clear(),h(this,$).clear(),this.filterFactory.destroy(),(mt=this._networkStream)==null||mt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ft,loadingTask:yt}=this;ft.on("GetReader",(Et,mt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=At=>{this._lastProgress={loaded:At.loaded,total:At.total}},mt.onPull=()=>{this._fullReader.read().then(function({value:At,done:Rt}){if(Rt){mt.close();return}(0,_util.assert)(At instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),mt.enqueue(new Uint8Array(At),1,[At])}).catch(At=>{mt.error(At)})},mt.onCancel=At=>{this._fullReader.cancel(At),mt.ready.catch(Rt=>{if(!this.destroyed)throw Rt})}}),ft.on("ReaderHeadersReady",Et=>{const mt=new _util.PromiseCapability,At=this._fullReader;return At.headersReady.then(()=>{var Rt;(!At.isStreamingSupported||!At.isRangeSupported)&&(this._lastProgress&&((Rt=yt.onProgress)==null||Rt.call(yt,this._lastProgress)),At.onProgress=qt=>{var Bt;(Bt=yt.onProgress)==null||Bt.call(yt,{loaded:qt.loaded,total:qt.total})}),mt.resolve({isStreamingSupported:At.isStreamingSupported,isRangeSupported:At.isRangeSupported,contentLength:At.contentLength})},mt.reject),mt.promise}),ft.on("GetRangeReader",(Et,mt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const At=this._networkStream.getRangeReader(Et.begin,Et.end);if(!At){mt.close();return}mt.onPull=()=>{At.read().then(function({value:Rt,done:qt}){if(qt){mt.close();return}(0,_util.assert)(Rt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),mt.enqueue(new Uint8Array(Rt),1,[Rt])}).catch(Rt=>{mt.error(Rt)})},mt.onCancel=Rt=>{At.cancel(Rt),mt.ready.catch(qt=>{if(!this.destroyed)throw qt})}}),ft.on("GetDoc",({pdfInfo:Et})=>{this._numPages=Et.numPages,this._htmlForXfa=Et.htmlForXfa,delete Et.htmlForXfa,yt._capability.resolve(new PDFDocumentProxy(Et,this))}),ft.on("DocException",function(Et){let mt;switch(Et.name){case"PasswordException":mt=new _util.PasswordException(Et.message,Et.code);break;case"InvalidPDFException":mt=new _util.InvalidPDFException(Et.message);break;case"MissingPDFException":mt=new _util.MissingPDFException(Et.message);break;case"UnexpectedResponseException":mt=new _util.UnexpectedResponseException(Et.message,Et.status);break;case"UnknownErrorException":mt=new _util.UnknownErrorException(Et.message,Et.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}yt._capability.reject(mt)}),ft.on("PasswordRequest",Et=>{if(dt(this,tt,new _util.PromiseCapability),yt.onPassword){const mt=At=>{At instanceof Error?h(this,tt).reject(At):h(this,tt).resolve({password:At})};try{yt.onPassword(mt,Et.code)}catch(At){h(this,tt).reject(At)}}else h(this,tt).reject(new _util.PasswordException(Et.message,Et.code));return h(this,tt).promise}),ft.on("DataLoaded",Et=>{var mt;(mt=yt.onProgress)==null||mt.call(yt,{loaded:Et.length,total:Et.length}),this.downloadInfoCapability.resolve(Et)}),ft.on("StartRenderPage",Et=>{if(this.destroyed)return;h(this,_e).get(Et.pageIndex)._startRenderPage(Et.transparency,Et.cacheKey)}),ft.on("commonobj",([Et,mt,At])=>{var Rt;if(!this.destroyed&&!this.commonObjs.has(Et))switch(mt){case"Font":const qt=this._params;if("error"in At){const jt=At.error;(0,_util.warn)(`Error during font loading: ${jt}`),this.commonObjs.resolve(Et,jt);break}const Bt=qt.pdfBug&&((Rt=globalThis.FontInspector)!=null&&Rt.enabled)?(jt,Ft)=>globalThis.FontInspector.fontAdded(jt,Ft):null,$t=new _font_loader.FontFaceObject(At,{isEvalSupported:qt.isEvalSupported,disableFontFace:qt.disableFontFace,ignoreErrors:qt.ignoreErrors,inspectFont:Bt});this.fontLoader.bind($t).catch(jt=>ft.sendWithPromise("FontFallback",{id:Et})).finally(()=>{!qt.fontExtraProperties&&$t.data&&($t.data=null),this.commonObjs.resolve(Et,$t)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Et,At);break;default:throw new Error(`Got unknown common object type ${mt}`)}}),ft.on("obj",([Et,mt,At,Rt])=>{var Bt;if(this.destroyed)return;const qt=h(this,_e).get(mt);if(!qt.objs.has(Et))switch(At){case"Image":if(qt.objs.resolve(Et,Rt),Rt){let $t;if(Rt.bitmap){const{width:jt,height:Ft}=Rt;$t=jt*Ft*4}else $t=((Bt=Rt.data)==null?void 0:Bt.length)||0;$t>_util.MAX_IMAGE_SIZE_TO_CACHE&&(qt._maybeCleanupAfterRender=!0)}break;case"Pattern":qt.objs.resolve(Et,Rt);break;default:throw new Error(`Got unknown object type ${At}`)}}),ft.on("DocProgress",Et=>{var mt;this.destroyed||(mt=yt.onProgress)==null||mt.call(yt,{loaded:Et.loaded,total:Et.total})}),ft.on("FetchBuiltInCMap",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Et):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ft.on("FetchStandardFontData",Et=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Et):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Et;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ft,transfers:yt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ft,filename:((Et=this._fullReader)==null?void 0:Et.filename)??null},yt).finally(()=>{this.annotationStorage.resetModified()})}getPage(ft){if(!Number.isInteger(ft)||ft<=0||ft>this._numPages)return Promise.reject(new Error("Invalid page request."));const yt=ft-1,Et=h(this,et).get(yt);if(Et)return Et;const mt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:yt}).then(At=>{if(this.destroyed)throw new Error("Transport destroyed");const Rt=new PDFPageProxy(yt,At,this,this._params.pdfBug);return h(this,_e).set(yt,Rt),Rt});return h(this,et).set(yt,mt),mt}getPageIndex(ft){return typeof ft!="object"||ft===null||!Number.isInteger(ft.num)||ft.num<0||!Number.isInteger(ft.gen)||ft.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ft.num,gen:ft.gen})}getAnnotations(ft,yt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ft,intent:yt})}getFieldObjects(){return ut(this,it,Vy).call(this,"GetFieldObjects")}hasJSActions(){return ut(this,it,Vy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ft){return typeof ft!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ft})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ut(this,it,Vy).call(this,"GetDocJSActions")}getPageJSActions(ft){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ft})}getStructTree(ft){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ft})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ft=>new _optional_content_config.OptionalContentConfig(ft))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ft="GetMetadata",yt=h(this,$).get(ft);if(yt)return yt;const Et=this.messageHandler.sendWithPromise(ft,null).then(mt=>{var At,Rt;return{info:mt[0],metadata:mt[1]?new _metadata.Metadata(mt[1]):null,contentDispositionFilename:((At=this._fullReader)==null?void 0:At.filename)??null,contentLength:((Rt=this._fullReader)==null?void 0:Rt.contentLength)??null}});return h(this,$).set(ft,Et),Et}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ft=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const yt of h(this,_e).values())if(!yt.cleanup())throw new Error(`startCleanup: Page ${yt.pageNumber} is currently rendering.`);this.commonObjs.clear(),ft||this.fontLoader.clear(),h(this,$).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ft,enableXfa:yt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ft,enableXfa:yt})}}$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,it=new WeakSet,Vy=function(ft,yt=null){const Et=h(this,$).get(ft);if(Et)return Et;const mt=this.messageHandler.sendWithPromise(ft,yt);return h(this,$).set(ft,mt),mt};class PDFObjects{constructor(){pt(this,st);pt(this,nt,Object.create(null))}get(ft,yt=null){if(yt){const mt=ut(this,st,ox).call(this,ft);return mt.capability.promise.then(()=>yt(mt.data)),null}const Et=h(this,nt)[ft];if(!(Et!=null&&Et.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ft}.`);return Et.data}has(ft){const yt=h(this,nt)[ft];return(yt==null?void 0:yt.capability.settled)||!1}resolve(ft,yt=null){const Et=ut(this,st,ox).call(this,ft);Et.data=yt,Et.capability.resolve()}clear(){var ft;for(const yt in h(this,nt)){const{data:Et}=h(this,nt)[yt];(ft=Et==null?void 0:Et.bitmap)==null||ft.close()}dt(this,nt,Object.create(null))}}nt=new WeakMap,st=new WeakSet,ox=function(ft){var yt;return(yt=h(this,nt))[ft]||(yt[ft]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ft){pt(this,ct,null);dt(this,ct,ft),this.onContinue=null}get promise(){return h(this,ct).capability.promise}cancel(ft=0){h(this,ct).cancel(null,ft)}get separateAnnots(){const{separateAnnots:ft}=h(this,ct).operatorList;if(!ft)return!1;const{annotationCanvasMap:yt}=h(this,ct);return ft.form||ft.canvas&&(yt==null?void 0:yt.size)>0}}ct=new WeakMap,exports.RenderTask=RenderTask;const ht=class ht{constructor({callback:ft,params:yt,objs:Et,commonObjs:mt,annotationCanvasMap:At,operatorList:Rt,pageIndex:qt,canvasFactory:Bt,filterFactory:$t,useRequestAnimationFrame:jt=!1,pdfBug:Ft=!1,pageColors:St=null}){this.callback=ft,this.params=yt,this.objs=Et,this.commonObjs=mt,this.annotationCanvasMap=At,this.operatorListIdx=null,this.operatorList=Rt,this._pageIndex=qt,this.canvasFactory=Bt,this.filterFactory=$t,this._pdfBug=Ft,this.pageColors=St,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=jt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=yt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ft=!1,optionalContentConfig:yt}){var qt,Bt;if(this.cancelled)return;if(this._canvas){if(h(ht,at).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(ht,at).add(this._canvas)}this._pdfBug&&((qt=globalThis.StepperManager)!=null&&qt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Et,viewport:mt,transform:At,background:Rt}=this.params;this.gfx=new _canvas.CanvasGraphics(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:yt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:At,viewport:mt,transparency:ft,background:Rt}),this.operatorListIdx=0,this.graphicsReady=!0,(Bt=this.graphicsReadyCallback)==null||Bt.call(this)}cancel(ft=null,yt=0){var Et;this.running=!1,this.cancelled=!0,(Et=this.gfx)==null||Et.endDrawing(),h(ht,at).delete(this._canvas),this.callback(ft||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,yt))}operatorListChanged(){var ft;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ft=this.stepper)==null||ft.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(ht,at).delete(this._canvas),this.callback())))}};at=new WeakMap,pt(ht,at,new WeakSet);let InternalRenderTask=ht;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(s,e,i)=>{var _,j,$,oE,et;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var a=i(1),o=i(4),c=i(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=d;class g{constructor(){pt(this,$);pt(this,_,!1);pt(this,j,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(it,rt){const nt=h(this,j).get(it);return nt===void 0?rt:Object.assign(rt,nt)}getRawValue(it){return h(this,j).get(it)}remove(it){if(h(this,j).delete(it),h(this,j).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const rt of h(this,j).values())if(rt instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(it,rt){const nt=h(this,j).get(it);let st=!1;if(nt!==void 0)for(const[ot,ct]of Object.entries(rt))nt[ot]!==ct&&(st=!0,nt[ot]=ct);else st=!0,h(this,j).set(it,rt);st&&ut(this,$,oE).call(this),rt instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(rt.constructor._type)}has(it){return h(this,j).has(it)}getAll(){return h(this,j).size>0?(0,a.objectFromMap)(h(this,j)):null}setAll(it){for(const[rt,nt]of Object.entries(it))this.setValue(rt,nt)}get size(){return h(this,j).size}resetModified(){h(this,_)&&(dt(this,_,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(h(this,j).size===0)return d;const it=new Map,rt=new c.MurmurHash3_64,nt=[],st=Object.create(null);let ot=!1;for(const[ct,at]of h(this,j)){const ht=at instanceof o.AnnotationEditor?at.serialize(!1,st):at;ht&&(it.set(ct,ht),rt.update(`${ct}:${JSON.stringify(ht)}`),ot||(ot=!!ht.bitmap))}if(ot)for(const ct of it.values())ct.bitmap&&nt.push(ct.bitmap);return it.size>0?{map:it,hash:rt.hexdigest(),transfers:nt}:d}}_=new WeakMap,j=new WeakMap,$=new WeakSet,oE=function(){h(this,_)||(dt(this,_,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=g;class b extends g{constructor(rt){super();pt(this,et);const{map:nt,hash:st,transfers:ot}=rt.serializable,ct=structuredClone(nt,ot?{transfer:ot}:null);dt(this,et,{map:ct,hash:st,transfers:ot})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,et)}}et=new WeakMap,e.PrintAnnotationStorage=b},(s,e,i)=>{var b,_,j,$,_e,et,tt,it,rt,nt,st,ot,ct,at,ht,lx,cx,yt,ux,dx,lE,cE,uE,hx,dE;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var a=i(5),o=i(1),c=i(6);const jt=class jt{constructor(St){pt(this,ht);pt(this,b,"");pt(this,_,!1);pt(this,j,null);pt(this,$,null);pt(this,_e,null);pt(this,et,!1);pt(this,tt,null);pt(this,it,this.focusin.bind(this));pt(this,rt,this.focusout.bind(this));pt(this,nt,!1);pt(this,st,!1);pt(this,ot,!1);Xn(this,"_initialOptions",Object.create(null));Xn(this,"_uiManager",null);Xn(this,"_focusEventsAllowed",!0);Xn(this,"_l10nPromise",null);pt(this,ct,!1);pt(this,at,jt._zIndex++);this.constructor===jt&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=St.parent,this.id=St.id,this.width=this.height=null,this.pageIndex=St.parent.pageIndex,this.name=St.name,this.div=null,this._uiManager=St.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=St.isCentered,this._structTreeParentId=null;const{rotation:It,rawDims:{pageWidth:zt,pageHeight:_t,pageX:vt,pageY:bt}}=this.parent.viewport;this.rotation=It,this.pageRotation=(360+It-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[zt,_t],this.pageTranslation=[vt,bt];const[wt,Pt]=this.parentDimensions;this.x=St.x/wt,this.y=St.y/Pt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(St){const It=new g({id:St.parent.getNextId(),parent:St.parent,uiManager:St._uiManager});It.annotationElementId=St.annotationElementId,It.deleted=!0,It._uiManager.addToAnnotationStorage(It)}static initialize(St,It=null){if(jt._l10nPromise||(jt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(_t=>[_t,St.get(_t)]))),It!=null&&It.strings)for(const _t of It.strings)jt._l10nPromise.set(_t,St.get(_t));if(jt._borderLineWidth!==-1)return;const zt=getComputedStyle(document.documentElement);jt._borderLineWidth=parseFloat(zt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(St,It){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(St){return!1}static paste(St,It){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,ct)}set _isDraggable(St){var It;dt(this,ct,St),(It=this.div)==null||It.classList.toggle("draggable",St)}center(){const[St,It]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*It/(St*2),this.y+=this.width*St/(It*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*It/(St*2),this.y-=this.width*St/(It*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(St){this._uiManager.addCommands(St)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,at)}setParent(St){St!==null&&(this.pageIndex=St.pageIndex,this.pageDimensions=St.pageDimensions),this.parent=St}focusin(St){this._focusEventsAllowed&&(h(this,nt)?dt(this,nt,!1):this.parent.setSelected(this))}focusout(St){var zt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const It=St.relatedTarget;It!=null&&It.closest(`#${this.id}`)||(St.preventDefault(),(zt=this.parent)!=null&&zt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(St,It,zt,_t){const[vt,bt]=this.parentDimensions;[zt,_t]=this.screenToPageTranslation(zt,_t),this.x=(St+zt)/vt,this.y=(It+_t)/bt,this.fixAndSetPosition()}translate(St,It){ut(this,ht,lx).call(this,this.parentDimensions,St,It)}translateInPage(St,It){ut(this,ht,lx).call(this,this.pageDimensions,St,It),this.div.scrollIntoView({block:"nearest"})}drag(St,It){const[zt,_t]=this.parentDimensions;if(this.x+=St/zt,this.y+=It/_t,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:kt,y:Mt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,kt,Mt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:vt,y:bt}=this;const[wt,Pt]=ut(this,ht,cx).call(this);vt+=wt,bt+=Pt,this.div.style.left=`${(100*vt).toFixed(2)}%`,this.div.style.top=`${(100*bt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[St,It]=this.pageDimensions;let{x:zt,y:_t,width:vt,height:bt}=this;switch(vt*=St,bt*=It,zt*=St,_t*=It,this.rotation){case 0:zt=Math.max(0,Math.min(St-vt,zt)),_t=Math.max(0,Math.min(It-bt,_t));break;case 90:zt=Math.max(0,Math.min(St-bt,zt)),_t=Math.min(It,Math.max(vt,_t));break;case 180:zt=Math.min(St,Math.max(vt,zt)),_t=Math.min(It,Math.max(bt,_t));break;case 270:zt=Math.min(St,Math.max(bt,zt)),_t=Math.max(0,Math.min(It-vt,_t));break}this.x=zt/=St,this.y=_t/=It;const[wt,Pt]=ut(this,ht,cx).call(this);zt+=wt,_t+=Pt;const{style:kt}=this.div;kt.left=`${(100*zt).toFixed(2)}%`,kt.top=`${(100*_t).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(St,It){var zt;return ut(zt=jt,yt,ux).call(zt,St,It,this.parentRotation)}pageTranslationToScreen(St,It){var zt;return ut(zt=jt,yt,ux).call(zt,St,It,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:St,pageDimensions:[It,zt]}=this,_t=It*St,vt=zt*St;return o.FeatureTest.isCSSRoundSupported?[Math.round(_t),Math.round(vt)]:[_t,vt]}setDims(St,It){var vt;const[zt,_t]=this.parentDimensions;this.div.style.width=`${(100*St/zt).toFixed(2)}%`,h(this,et)||(this.div.style.height=`${(100*It/_t).toFixed(2)}%`),(vt=h(this,j))==null||vt.classList.toggle("small",St<jt.SMALL_EDITOR_SIZE||It<jt.SMALL_EDITOR_SIZE)}fixDims(){const{style:St}=this.div,{height:It,width:zt}=St,_t=zt.endsWith("%"),vt=!h(this,et)&&It.endsWith("%");if(_t&&vt)return;const[bt,wt]=this.parentDimensions;_t||(St.width=`${(100*parseFloat(zt)/bt).toFixed(2)}%`),!h(this,et)&&!vt&&(St.height=`${(100*parseFloat(It)/wt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(h(this,j))return;const St=dt(this,j,document.createElement("button"));St.className="altText";const It=await jt._l10nPromise.get("editor_alt_text_button_label");St.textContent=It,St.setAttribute("aria-label",It),St.tabIndex="0",St.addEventListener("contextmenu",c.noContextMenu),St.addEventListener("pointerdown",zt=>zt.stopPropagation()),St.addEventListener("click",zt=>{zt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),St.addEventListener("keydown",zt=>{zt.target===St&&zt.key==="Enter"&&(zt.preventDefault(),this._uiManager.editAltText(this))}),ut(this,ht,hx).call(this),this.div.append(St),jt.SMALL_EDITOR_SIZE||(jt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(St.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:h(this,b),decorative:h(this,_)}}set altTextData({altText:St,decorative:It}){h(this,b)===St&&h(this,_)===It||(dt(this,b,St),dt(this,_,It),ut(this,ht,hx).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",h(this,it)),this.div.addEventListener("focusout",h(this,rt));const[St,It]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*It/St).toFixed(2)}%`,this.div.style.maxHeight=`${(100*St/It).toFixed(2)}%`);const[zt,_t]=this.getInitialTranslation();return this.translate(zt,_t),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(St){const{isMac:It}=o.FeatureTest.platform;if(St.button!==0||St.ctrlKey&&It){St.preventDefault();return}dt(this,nt,!0),ut(this,ht,dE).call(this,St)}moveInDOM(){var St;(St=this.parent)==null||St.moveEditorInDOM(this)}_setParentAndPosition(St,It,zt){St.changeParent(this),this.x=It,this.y=zt,this.fixAndSetPosition()}getRect(St,It){const zt=this.parentScale,[_t,vt]=this.pageDimensions,[bt,wt]=this.pageTranslation,Pt=St/zt,kt=It/zt,Mt=this.x*_t,Gt=this.y*vt,ln=this.width*_t,dn=this.height*vt;switch(this.rotation){case 0:return[Mt+Pt+bt,vt-Gt-kt-dn+wt,Mt+Pt+ln+bt,vt-Gt-kt+wt];case 90:return[Mt+kt+bt,vt-Gt+Pt+wt,Mt+kt+dn+bt,vt-Gt+Pt+ln+wt];case 180:return[Mt-Pt-ln+bt,vt-Gt+kt+wt,Mt-Pt+bt,vt-Gt+kt+dn+wt];case 270:return[Mt-kt-dn+bt,vt-Gt-Pt-ln+wt,Mt-kt+bt,vt-Gt-Pt+wt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(St,It){const[zt,_t,vt,bt]=St,wt=vt-zt,Pt=bt-_t;switch(this.rotation){case 0:return[zt,It-bt,wt,Pt];case 90:return[zt,It-_t,Pt,wt];case 180:return[vt,It-_t,wt,Pt];case 270:return[vt,It-bt,Pt,wt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){dt(this,ot,!0)}disableEditMode(){dt(this,ot,!1)}isInEditMode(){return h(this,ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var St,It;(St=this.div)==null||St.addEventListener("focusin",h(this,it)),(It=this.div)==null||It.addEventListener("focusout",h(this,rt))}serialize(St=!1,It=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(St,It,zt){const _t=new this.prototype.constructor({parent:It,id:It.getNextId(),uiManager:zt});_t.rotation=St.rotation;const[vt,bt]=_t.pageDimensions,[wt,Pt,kt,Mt]=_t.getRectInCurrentCoords(St.rect,bt);return _t.x=wt/vt,_t.y=Pt/bt,_t.width=kt/vt,_t.height=Mt/bt,_t}remove(){var St;this.div.removeEventListener("focusin",h(this,it)),this.div.removeEventListener("focusout",h(this,rt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(St=h(this,j))==null||St.remove(),dt(this,j,null),dt(this,$,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ut(this,ht,lE).call(this),h(this,tt).classList.remove("hidden"))}select(){var St;this.makeResizable(),(St=this.div)==null||St.classList.add("selectedEditor")}unselect(){var St,It,zt;(St=h(this,tt))==null||St.classList.add("hidden"),(It=this.div)==null||It.classList.remove("selectedEditor"),(zt=this.div)!=null&&zt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(St,It){}disableEditing(){h(this,j)&&(h(this,j).hidden=!0)}enableEditing(){h(this,j)&&(h(this,j).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return h(this,st)}set isEditing(St){dt(this,st,St),this.parent&&(St?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(St,It){dt(this,et,!0);const zt=St/It,{style:_t}=this.div;_t.aspectRatio=zt,_t.height="auto"}static get MIN_SIZE(){return 16}};b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,it=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakMap,ct=new WeakMap,at=new WeakMap,ht=new WeakSet,lx=function([St,It],zt,_t){[zt,_t]=this.screenToPageTranslation(zt,_t),this.x+=zt/St,this.y+=_t/It,this.fixAndSetPosition()},cx=function(){const[St,It]=this.parentDimensions,{_borderLineWidth:zt}=jt,_t=zt/St,vt=zt/It;switch(this.rotation){case 90:return[-_t,vt];case 180:return[_t,vt];case 270:return[_t,-vt];default:return[-_t,-vt]}},yt=new WeakSet,ux=function(St,It,zt){switch(zt){case 90:return[It,-St];case 180:return[-St,-It];case 270:return[-It,St];default:return[St,It]}},dx=function(St){switch(St){case 90:{const[It,zt]=this.pageDimensions;return[0,-It/zt,zt/It,0]}case 180:return[-1,0,0,-1];case 270:{const[It,zt]=this.pageDimensions;return[0,It/zt,-zt/It,0]}default:return[1,0,0,1]}},lE=function(){if(h(this,tt))return;dt(this,tt,document.createElement("div")),h(this,tt).classList.add("resizers");const St=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||St.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const It of St){const zt=document.createElement("div");h(this,tt).append(zt),zt.classList.add("resizer",It),zt.addEventListener("pointerdown",ut(this,ht,cE).bind(this,It)),zt.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(h(this,tt))},cE=function(St,It){It.preventDefault();const{isMac:zt}=o.FeatureTest.platform;if(It.button!==0||It.ctrlKey&&zt)return;const _t=ut(this,ht,uE).bind(this,St),vt=this._isDraggable;this._isDraggable=!1;const bt={passive:!0,capture:!0};window.addEventListener("pointermove",_t,bt);const wt=this.x,Pt=this.y,kt=this.width,Mt=this.height,Gt=this.parent.div.style.cursor,ln=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(It.target).cursor;const dn=()=>{this._isDraggable=vt,window.removeEventListener("pointerup",dn),window.removeEventListener("blur",dn),window.removeEventListener("pointermove",_t,bt),this.parent.div.style.cursor=Gt,this.div.style.cursor=ln;const hn=this.x,gn=this.y,bn=this.width,xn=this.height;hn===wt&&gn===Pt&&bn===kt&&xn===Mt||this.addCommands({cmd:()=>{this.width=bn,this.height=xn,this.x=hn,this.y=gn;const[tn,sn]=this.parentDimensions;this.setDims(tn*bn,sn*xn),this.fixAndSetPosition()},undo:()=>{this.width=kt,this.height=Mt,this.x=wt,this.y=Pt;const[tn,sn]=this.parentDimensions;this.setDims(tn*kt,sn*Mt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",dn),window.addEventListener("blur",dn)},uE=function(St,It){const[zt,_t]=this.parentDimensions,vt=this.x,bt=this.y,wt=this.width,Pt=this.height,kt=jt.MIN_SIZE/zt,Mt=jt.MIN_SIZE/_t,Gt=Dn=>Math.round(Dn*1e4)/1e4,ln=ut(this,ht,dx).call(this,this.rotation),dn=(Dn,qn)=>[ln[0]*Dn+ln[2]*qn,ln[1]*Dn+ln[3]*qn],hn=ut(this,ht,dx).call(this,360-this.rotation),gn=(Dn,qn)=>[hn[0]*Dn+hn[2]*qn,hn[1]*Dn+hn[3]*qn];let bn,xn,tn=!1,sn=!1;switch(St){case"topLeft":tn=!0,bn=(Dn,qn)=>[0,0],xn=(Dn,qn)=>[Dn,qn];break;case"topMiddle":bn=(Dn,qn)=>[Dn/2,0],xn=(Dn,qn)=>[Dn/2,qn];break;case"topRight":tn=!0,bn=(Dn,qn)=>[Dn,0],xn=(Dn,qn)=>[0,qn];break;case"middleRight":sn=!0,bn=(Dn,qn)=>[Dn,qn/2],xn=(Dn,qn)=>[0,qn/2];break;case"bottomRight":tn=!0,bn=(Dn,qn)=>[Dn,qn],xn=(Dn,qn)=>[0,0];break;case"bottomMiddle":bn=(Dn,qn)=>[Dn/2,qn],xn=(Dn,qn)=>[Dn/2,0];break;case"bottomLeft":tn=!0,bn=(Dn,qn)=>[0,qn],xn=(Dn,qn)=>[Dn,0];break;case"middleLeft":sn=!0,bn=(Dn,qn)=>[0,qn/2],xn=(Dn,qn)=>[Dn,qn/2];break}const Ct=bn(wt,Pt),Dt=xn(wt,Pt);let Yt=dn(...Dt);const rn=Gt(vt+Yt[0]),fn=Gt(bt+Yt[1]);let wn=1,vn=1,[Kt,Pn]=this.screenToPageTranslation(It.movementX,It.movementY);if([Kt,Pn]=gn(Kt/zt,Pn/_t),tn){const Dn=Math.hypot(wt,Pt);wn=vn=Math.max(Math.min(Math.hypot(Dt[0]-Ct[0]-Kt,Dt[1]-Ct[1]-Pn)/Dn,1/wt,1/Pt),kt/wt,Mt/Pt)}else sn?wn=Math.max(kt,Math.min(1,Math.abs(Dt[0]-Ct[0]-Kt)))/wt:vn=Math.max(Mt,Math.min(1,Math.abs(Dt[1]-Ct[1]-Pn)))/Pt;const Cn=Gt(wt*wn),as=Gt(Pt*vn);Yt=dn(...xn(Cn,as));const _i=rn-Yt[0],ys=fn-Yt[1];this.width=Cn,this.height=as,this.x=_i,this.y=ys,this.setDims(zt*Cn,_t*as),this.fixAndSetPosition()},hx=async function(){var zt;const St=h(this,j);if(!St)return;if(!h(this,b)&&!h(this,_)){St.classList.remove("done"),(zt=h(this,$))==null||zt.remove();return}jt._l10nPromise.get("editor_alt_text_edit_button_label").then(_t=>{St.setAttribute("aria-label",_t)});let It=h(this,$);if(!It){dt(this,$,It=document.createElement("span")),It.className="tooltip",It.setAttribute("role","tooltip");const _t=It.id=`alt-text-tooltip-${this.id}`;St.setAttribute("aria-describedby",_t);const vt=100;St.addEventListener("mouseenter",()=>{dt(this,_e,setTimeout(()=>{dt(this,_e,null),h(this,$).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},vt))}),St.addEventListener("mouseleave",()=>{var bt;clearTimeout(h(this,_e)),dt(this,_e,null),(bt=h(this,$))==null||bt.classList.remove("show")})}St.classList.add("done"),It.innerText=h(this,_)?await jt._l10nPromise.get("editor_alt_text_decorative_tooltip"):h(this,b),It.parentNode||St.append(It)},dE=function(St){if(!this._isDraggable)return;const It=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let zt,_t;It&&(zt={passive:!0,capture:!0},_t=bt=>{const[wt,Pt]=this.screenToPageTranslation(bt.movementX,bt.movementY);this._uiManager.dragSelectedEditors(wt,Pt)},window.addEventListener("pointermove",_t,zt));const vt=()=>{if(window.removeEventListener("pointerup",vt),window.removeEventListener("blur",vt),It&&window.removeEventListener("pointermove",_t,zt),dt(this,nt,!1),!this._uiManager.endDragSession()){const{isMac:bt}=o.FeatureTest.platform;St.ctrlKey&&!bt||St.shiftKey||St.metaKey&&bt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",vt),window.addEventListener("blur",vt)},pt(jt,yt),Xn(jt,"_borderLineWidth",-1),Xn(jt,"_colorManager",new a.ColorManager),Xn(jt,"_zIndex",1),Xn(jt,"SMALL_EDITOR_SIZE",0);let d=jt;e.AnnotationEditor=d;class g extends d{constructor(St){super(St),this.annotationElementId=St.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(s,e,i)=>{var et,tt,it,rt,nt,fx,ct,at,ht,lt,ft,hE,mt,At,Rt,qt,Bt,$t,jt,Ft,St,It,zt,_t,vt,bt,wt,Pt,kt,Mt,Gt,ln,dn,hn,gn,bn,xn,tn,sn,Ct,Dt,Yt,rn,fn,wn,vn,Kt,fE,px,gx,Wy,mx,vx,so,Zm,pE,gE,yx,Jm,bx;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=c,e.opacityToHex=d;var a=i(1),o=i(6);function c(Jn,Ot,pn){for(const kn of pn)Ot.addEventListener(kn,Jn[kn].bind(Jn))}function d(Jn){return Math.round(Math.min(255,Math.max(1,255*Jn))).toString(16).padStart(2,"0")}class g{constructor(){pt(this,et,0)}getId(){return`${a.AnnotationEditorPrefix}${yr(this,et)._++}`}}et=new WeakMap;const ot=class ot{constructor(){pt(this,nt);pt(this,tt,(0,a.getUuid)());pt(this,it,0);pt(this,rt,null)}static get _isSVGFittingCanvas(){const Ot='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',kn=new OffscreenCanvas(1,3).getContext("2d"),Un=new Image;Un.src=Ot;const Vn=Un.decode().then(()=>(kn.drawImage(Un,0,0,1,1,0,0,1,3),new Uint32Array(kn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",Vn)}async getFromFile(Ot){const{lastModified:pn,name:kn,size:Un,type:Vn}=Ot;return ut(this,nt,fx).call(this,`${pn}_${kn}_${Un}_${Vn}`,Ot)}async getFromUrl(Ot){return ut(this,nt,fx).call(this,Ot,Ot)}async getFromId(Ot){h(this,rt)||dt(this,rt,new Map);const pn=h(this,rt).get(Ot);return pn?pn.bitmap?(pn.refCounter+=1,pn):pn.file?this.getFromFile(pn.file):this.getFromUrl(pn.url):null}getSvgUrl(Ot){const pn=h(this,rt).get(Ot);return pn!=null&&pn.isSvg?pn.svgUrl:null}deleteId(Ot){h(this,rt)||dt(this,rt,new Map);const pn=h(this,rt).get(Ot);pn&&(pn.refCounter-=1,pn.refCounter===0&&(pn.bitmap=null))}isValidId(Ot){return Ot.startsWith(`image_${h(this,tt)}_`)}};tt=new WeakMap,it=new WeakMap,rt=new WeakMap,nt=new WeakSet,fx=async function(Ot,pn){h(this,rt)||dt(this,rt,new Map);let kn=h(this,rt).get(Ot);if(kn===null)return null;if(kn!=null&&kn.bitmap)return kn.refCounter+=1,kn;try{kn||(kn={bitmap:null,id:`image_${h(this,tt)}_${yr(this,it)._++}`,refCounter:0,isSvg:!1});let Un;if(typeof pn=="string"){kn.url=pn;const Vn=await fetch(pn);if(!Vn.ok)throw new Error(Vn.statusText);Un=await Vn.blob()}else Un=kn.file=pn;if(Un.type==="image/svg+xml"){const Vn=ot._isSVGFittingCanvas,In=new FileReader,Lt=new Image,Tt=new Promise((Wt,cn)=>{Lt.onload=()=>{kn.bitmap=Lt,kn.isSvg=!0,Wt()},In.onload=async()=>{const un=kn.svgUrl=In.result;Lt.src=await Vn?`${un}#svgView(preserveAspectRatio(none))`:un},Lt.onerror=In.onerror=cn});In.readAsDataURL(Un),await Tt}else kn.bitmap=await createImageBitmap(Un);kn.refCounter=1}catch(Un){console.error(Un),kn=null}return h(this,rt).set(Ot,kn),kn&&h(this,rt).set(kn.id,kn),kn};let b=ot;class _{constructor(Ot=128){pt(this,ct,[]);pt(this,at,!1);pt(this,ht);pt(this,lt,-1);dt(this,ht,Ot)}add({cmd:Ot,undo:pn,mustExec:kn,type:Un=NaN,overwriteIfSameType:Vn=!1,keepUndo:In=!1}){if(kn&&Ot(),h(this,at))return;const Lt={cmd:Ot,undo:pn,type:Un};if(h(this,lt)===-1){h(this,ct).length>0&&(h(this,ct).length=0),dt(this,lt,0),h(this,ct).push(Lt);return}if(Vn&&h(this,ct)[h(this,lt)].type===Un){In&&(Lt.undo=h(this,ct)[h(this,lt)].undo),h(this,ct)[h(this,lt)]=Lt;return}const Tt=h(this,lt)+1;Tt===h(this,ht)?h(this,ct).splice(0,1):(dt(this,lt,Tt),Tt<h(this,ct).length&&h(this,ct).splice(Tt)),h(this,ct).push(Lt)}undo(){h(this,lt)!==-1&&(dt(this,at,!0),h(this,ct)[h(this,lt)].undo(),dt(this,at,!1),dt(this,lt,h(this,lt)-1))}redo(){h(this,lt)<h(this,ct).length-1&&(dt(this,lt,h(this,lt)+1),dt(this,at,!0),h(this,ct)[h(this,lt)].cmd(),dt(this,at,!1))}hasSomethingToUndo(){return h(this,lt)!==-1}hasSomethingToRedo(){return h(this,lt)<h(this,ct).length-1}destroy(){dt(this,ct,null)}}ct=new WeakMap,at=new WeakMap,ht=new WeakMap,lt=new WeakMap,e.CommandManager=_;class j{constructor(Ot){pt(this,ft);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pn}=a.FeatureTest.platform;for(const[kn,Un,Vn={}]of Ot)for(const In of kn){const Lt=In.startsWith("mac+");pn&&Lt?(this.callbacks.set(In.slice(4),{callback:Un,options:Vn}),this.allKeys.add(In.split("+").at(-1))):!pn&&!Lt&&(this.callbacks.set(In,{callback:Un,options:Vn}),this.allKeys.add(In.split("+").at(-1)))}}exec(Ot,pn){if(!this.allKeys.has(pn.key))return;const kn=this.callbacks.get(ut(this,ft,hE).call(this,pn));if(!kn)return;const{callback:Un,options:{bubbles:Vn=!1,args:In=[],checker:Lt=null}}=kn;Lt&&!Lt(Ot,pn)||(Un.bind(Ot,...In)(),Vn||(pn.stopPropagation(),pn.preventDefault()))}}ft=new WeakSet,hE=function(Ot){Ot.altKey&&this.buffer.push("alt"),Ot.ctrlKey&&this.buffer.push("ctrl"),Ot.metaKey&&this.buffer.push("meta"),Ot.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ot.key);const pn=this.buffer.join("+");return this.buffer.length=0,pn},e.KeyboardManager=j;const Et=class Et{get _colors(){const Ot=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(Ot),(0,a.shadow)(this,"_colors",Ot)}convert(Ot){const pn=(0,o.getRGB)(Ot);if(!window.matchMedia("(forced-colors: active)").matches)return pn;for(const[kn,Un]of this._colors)if(Un.every((Vn,In)=>Vn===pn[In]))return Et._colorsMapping.get(kn);return pn}getHexCode(Ot){const pn=this._colors.get(Ot);return pn?a.Util.makeHexColor(...pn):Ot}};Xn(Et,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let $=Et;e.ColorManager=$;const Hn=class Hn{constructor(Ot,pn,kn,Un,Vn,In){pt(this,Kt);pt(this,mt,null);pt(this,At,new Map);pt(this,Rt,new Map);pt(this,qt,null);pt(this,Bt,null);pt(this,$t,new _);pt(this,jt,0);pt(this,Ft,new Set);pt(this,St,null);pt(this,It,null);pt(this,zt,new Set);pt(this,_t,null);pt(this,vt,new g);pt(this,bt,!1);pt(this,wt,!1);pt(this,Pt,null);pt(this,kt,a.AnnotationEditorType.NONE);pt(this,Mt,new Set);pt(this,Gt,null);pt(this,ln,this.blur.bind(this));pt(this,dn,this.focus.bind(this));pt(this,hn,this.copy.bind(this));pt(this,gn,this.cut.bind(this));pt(this,bn,this.paste.bind(this));pt(this,xn,this.keydown.bind(this));pt(this,tn,this.onEditingAction.bind(this));pt(this,sn,this.onPageChanging.bind(this));pt(this,Ct,this.onScaleChanging.bind(this));pt(this,Dt,this.onRotationChanging.bind(this));pt(this,Yt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});pt(this,rn,[0,0]);pt(this,fn,null);pt(this,wn,null);pt(this,vn,null);dt(this,wn,Ot),dt(this,vn,pn),dt(this,qt,kn),this._eventBus=Un,this._eventBus._on("editingaction",h(this,tn)),this._eventBus._on("pagechanging",h(this,sn)),this._eventBus._on("scalechanging",h(this,Ct)),this._eventBus._on("rotationchanging",h(this,Dt)),dt(this,Bt,Vn.annotationStorage),dt(this,_t,Vn.filterFactory),dt(this,Gt,In),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Ot=Hn.prototype,pn=Vn=>{const{activeElement:In}=document;return In&&h(Vn,wn).contains(In)&&Vn.hasSomethingToControl()},kn=this.TRANSLATE_SMALL,Un=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new j([[["ctrl+a","mac+meta+a"],Ot.selectAll],[["ctrl+z","mac+meta+z"],Ot.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Ot.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Ot.delete],[["Escape","mac+Escape"],Ot.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Ot.translateSelectedEditors,{args:[-kn,0],checker:pn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ot.translateSelectedEditors,{args:[-Un,0],checker:pn}],[["ArrowRight","mac+ArrowRight"],Ot.translateSelectedEditors,{args:[kn,0],checker:pn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ot.translateSelectedEditors,{args:[Un,0],checker:pn}],[["ArrowUp","mac+ArrowUp"],Ot.translateSelectedEditors,{args:[0,-kn],checker:pn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ot.translateSelectedEditors,{args:[0,-Un],checker:pn}],[["ArrowDown","mac+ArrowDown"],Ot.translateSelectedEditors,{args:[0,kn],checker:pn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ot.translateSelectedEditors,{args:[0,Un],checker:pn}]]))}destroy(){ut(this,Kt,Wy).call(this),ut(this,Kt,px).call(this),this._eventBus._off("editingaction",h(this,tn)),this._eventBus._off("pagechanging",h(this,sn)),this._eventBus._off("scalechanging",h(this,Ct)),this._eventBus._off("rotationchanging",h(this,Dt));for(const Ot of h(this,Rt).values())Ot.destroy();h(this,Rt).clear(),h(this,At).clear(),h(this,zt).clear(),dt(this,mt,null),h(this,Mt).clear(),h(this,$t).destroy(),h(this,qt).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",h(this,Gt)?h(this,_t).addHCMFilter(h(this,Gt).foreground,h(this,Gt).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(h(this,wn)).direction)}editAltText(Ot){var pn;(pn=h(this,qt))==null||pn.editAltText(this,Ot)}onPageChanging({pageNumber:Ot}){dt(this,jt,Ot-1)}focusMainContainer(){h(this,wn).focus()}findParent(Ot,pn){for(const kn of h(this,Rt).values()){const{x:Un,y:Vn,width:In,height:Lt}=kn.div.getBoundingClientRect();if(Ot>=Un&&Ot<=Un+In&&pn>=Vn&&pn<=Vn+Lt)return kn}return null}disableUserSelect(Ot=!1){h(this,vn).classList.toggle("noUserSelect",Ot)}addShouldRescale(Ot){h(this,zt).add(Ot)}removeShouldRescale(Ot){h(this,zt).delete(Ot)}onScaleChanging({scale:Ot}){this.commitOrRemove(),this.viewParameters.realScale=Ot*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const pn of h(this,zt))pn.onScaleChanging()}onRotationChanging({pagesRotation:Ot}){this.commitOrRemove(),this.viewParameters.rotation=Ot}addToAnnotationStorage(Ot){!Ot.isEmpty()&&h(this,Bt)&&!h(this,Bt).has(Ot.id)&&h(this,Bt).setValue(Ot.id,Ot)}blur(){if(!this.hasSelection)return;const{activeElement:Ot}=document;for(const pn of h(this,Mt))if(pn.div.contains(Ot)){dt(this,Pt,[pn,Ot]),pn._focusEventsAllowed=!1;break}}focus(){if(!h(this,Pt))return;const[Ot,pn]=h(this,Pt);dt(this,Pt,null),pn.addEventListener("focusin",()=>{Ot._focusEventsAllowed=!0},{once:!0}),pn.focus()}addEditListeners(){ut(this,Kt,gx).call(this),ut(this,Kt,mx).call(this)}removeEditListeners(){ut(this,Kt,Wy).call(this),ut(this,Kt,vx).call(this)}copy(Ot){var kn;if(Ot.preventDefault(),(kn=h(this,mt))==null||kn.commitOrRemove(),!this.hasSelection)return;const pn=[];for(const Un of h(this,Mt)){const Vn=Un.serialize(!0);Vn&&pn.push(Vn)}pn.length!==0&&Ot.clipboardData.setData("application/pdfjs",JSON.stringify(pn))}cut(Ot){this.copy(Ot),this.delete()}paste(Ot){Ot.preventDefault();const{clipboardData:pn}=Ot;for(const Vn of pn.items)for(const In of h(this,It))if(In.isHandlingMimeForPasting(Vn.type)){In.paste(Vn,this.currentLayer);return}let kn=pn.getData("application/pdfjs");if(!kn)return;try{kn=JSON.parse(kn)}catch(Vn){(0,a.warn)(`paste: "${Vn.message}".`);return}if(!Array.isArray(kn))return;this.unselectAll();const Un=this.currentLayer;try{const Vn=[];for(const Tt of kn){const Wt=Un.deserialize(Tt);if(!Wt)return;Vn.push(Wt)}const In=()=>{for(const Tt of Vn)ut(this,Kt,yx).call(this,Tt);ut(this,Kt,bx).call(this,Vn)},Lt=()=>{for(const Tt of Vn)Tt.remove()};this.addCommands({cmd:In,undo:Lt,mustExec:!0})}catch(Vn){(0,a.warn)(`paste: "${Vn.message}".`)}}keydown(Ot){var pn;(pn=this.getActive())!=null&&pn.shouldGetKeyboardEvents()||Hn._keyboardManager.exec(this,Ot)}onEditingAction(Ot){["undo","redo","delete","selectAll"].includes(Ot.name)&&this[Ot.name]()}setEditingState(Ot){Ot?(ut(this,Kt,fE).call(this),ut(this,Kt,gx).call(this),ut(this,Kt,mx).call(this),ut(this,Kt,so).call(this,{isEditing:h(this,kt)!==a.AnnotationEditorType.NONE,isEmpty:ut(this,Kt,Jm).call(this),hasSomethingToUndo:h(this,$t).hasSomethingToUndo(),hasSomethingToRedo:h(this,$t).hasSomethingToRedo(),hasSelectedEditor:!1})):(ut(this,Kt,px).call(this),ut(this,Kt,Wy).call(this),ut(this,Kt,vx).call(this),ut(this,Kt,so).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Ot){if(!h(this,It)){dt(this,It,Ot);for(const pn of h(this,It))ut(this,Kt,Zm).call(this,pn.defaultPropertiesToUpdate)}}getId(){return h(this,vt).getId()}get currentLayer(){return h(this,Rt).get(h(this,jt))}getLayer(Ot){return h(this,Rt).get(Ot)}get currentPageIndex(){return h(this,jt)}addLayer(Ot){h(this,Rt).set(Ot.pageIndex,Ot),h(this,bt)?Ot.enable():Ot.disable()}removeLayer(Ot){h(this,Rt).delete(Ot.pageIndex)}updateMode(Ot,pn=null){if(h(this,kt)!==Ot){if(dt(this,kt,Ot),Ot===a.AnnotationEditorType.NONE){this.setEditingState(!1),ut(this,Kt,gE).call(this);return}this.setEditingState(!0),ut(this,Kt,pE).call(this),this.unselectAll();for(const kn of h(this,Rt).values())kn.updateMode(Ot);if(pn){for(const kn of h(this,At).values())if(kn.annotationElementId===pn){this.setSelected(kn),kn.enterInEditMode();break}}}}updateToolbar(Ot){Ot!==h(this,kt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Ot})}updateParams(Ot,pn){if(h(this,It)){if(Ot===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Ot);return}for(const kn of h(this,Mt))kn.updateParams(Ot,pn);for(const kn of h(this,It))kn.updateDefaultParams(Ot,pn)}}enableWaiting(Ot=!1){if(h(this,wt)!==Ot){dt(this,wt,Ot);for(const pn of h(this,Rt).values())Ot?pn.disableClick():pn.enableClick(),pn.div.classList.toggle("waiting",Ot)}}getEditors(Ot){const pn=[];for(const kn of h(this,At).values())kn.pageIndex===Ot&&pn.push(kn);return pn}getEditor(Ot){return h(this,At).get(Ot)}addEditor(Ot){h(this,At).set(Ot.id,Ot)}removeEditor(Ot){var pn;h(this,At).delete(Ot.id),this.unselect(Ot),(!Ot.annotationElementId||!h(this,Ft).has(Ot.annotationElementId))&&((pn=h(this,Bt))==null||pn.remove(Ot.id))}addDeletedAnnotationElement(Ot){h(this,Ft).add(Ot.annotationElementId),Ot.deleted=!0}isDeletedAnnotationElement(Ot){return h(this,Ft).has(Ot)}removeDeletedAnnotationElement(Ot){h(this,Ft).delete(Ot.annotationElementId),Ot.deleted=!1}setActiveEditor(Ot){h(this,mt)!==Ot&&(dt(this,mt,Ot),Ot&&ut(this,Kt,Zm).call(this,Ot.propertiesToUpdate))}toggleSelected(Ot){if(h(this,Mt).has(Ot)){h(this,Mt).delete(Ot),Ot.unselect(),ut(this,Kt,so).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Mt).add(Ot),Ot.select(),ut(this,Kt,Zm).call(this,Ot.propertiesToUpdate),ut(this,Kt,so).call(this,{hasSelectedEditor:!0})}setSelected(Ot){for(const pn of h(this,Mt))pn!==Ot&&pn.unselect();h(this,Mt).clear(),h(this,Mt).add(Ot),Ot.select(),ut(this,Kt,Zm).call(this,Ot.propertiesToUpdate),ut(this,Kt,so).call(this,{hasSelectedEditor:!0})}isSelected(Ot){return h(this,Mt).has(Ot)}unselect(Ot){Ot.unselect(),h(this,Mt).delete(Ot),ut(this,Kt,so).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Mt).size!==0}undo(){h(this,$t).undo(),ut(this,Kt,so).call(this,{hasSomethingToUndo:h(this,$t).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ut(this,Kt,Jm).call(this)})}redo(){h(this,$t).redo(),ut(this,Kt,so).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,$t).hasSomethingToRedo(),isEmpty:ut(this,Kt,Jm).call(this)})}addCommands(Ot){h(this,$t).add(Ot),ut(this,Kt,so).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ut(this,Kt,Jm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ot=[...h(this,Mt)],pn=()=>{for(const Un of Ot)Un.remove()},kn=()=>{for(const Un of Ot)ut(this,Kt,yx).call(this,Un)};this.addCommands({cmd:pn,undo:kn,mustExec:!0})}commitOrRemove(){var Ot;(Ot=h(this,mt))==null||Ot.commitOrRemove()}hasSomethingToControl(){return h(this,mt)||this.hasSelection}selectAll(){for(const Ot of h(this,Mt))Ot.commit();ut(this,Kt,bx).call(this,h(this,At).values())}unselectAll(){if(h(this,mt)){h(this,mt).commitOrRemove();return}if(this.hasSelection){for(const Ot of h(this,Mt))Ot.unselect();h(this,Mt).clear(),ut(this,Kt,so).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Ot,pn,kn=!1){if(kn||this.commitOrRemove(),!this.hasSelection)return;h(this,rn)[0]+=Ot,h(this,rn)[1]+=pn;const[Un,Vn]=h(this,rn),In=[...h(this,Mt)],Lt=1e3;h(this,fn)&&clearTimeout(h(this,fn)),dt(this,fn,setTimeout(()=>{dt(this,fn,null),h(this,rn)[0]=h(this,rn)[1]=0,this.addCommands({cmd:()=>{for(const Tt of In)h(this,At).has(Tt.id)&&Tt.translateInPage(Un,Vn)},undo:()=>{for(const Tt of In)h(this,At).has(Tt.id)&&Tt.translateInPage(-Un,-Vn)},mustExec:!1})},Lt));for(const Tt of In)Tt.translateInPage(Ot,pn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),dt(this,St,new Map);for(const Ot of h(this,Mt))h(this,St).set(Ot,{savedX:Ot.x,savedY:Ot.y,savedPageIndex:Ot.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,St))return!1;this.disableUserSelect(!1);const Ot=h(this,St);dt(this,St,null);let pn=!1;for(const[{x:Un,y:Vn,pageIndex:In},Lt]of Ot)Lt.newX=Un,Lt.newY=Vn,Lt.newPageIndex=In,pn||(pn=Un!==Lt.savedX||Vn!==Lt.savedY||In!==Lt.savedPageIndex);if(!pn)return!1;const kn=(Un,Vn,In,Lt)=>{if(h(this,At).has(Un.id)){const Tt=h(this,Rt).get(Lt);Tt?Un._setParentAndPosition(Tt,Vn,In):(Un.pageIndex=Lt,Un.x=Vn,Un.y=In)}};return this.addCommands({cmd:()=>{for(const[Un,{newX:Vn,newY:In,newPageIndex:Lt}]of Ot)kn(Un,Vn,In,Lt)},undo:()=>{for(const[Un,{savedX:Vn,savedY:In,savedPageIndex:Lt}]of Ot)kn(Un,Vn,In,Lt)},mustExec:!0}),!0}dragSelectedEditors(Ot,pn){if(h(this,St))for(const kn of h(this,St).keys())kn.drag(Ot,pn)}rebuild(Ot){if(Ot.parent===null){const pn=this.getLayer(Ot.pageIndex);pn?(pn.changeParent(Ot),pn.addOrRebuild(Ot)):(this.addEditor(Ot),this.addToAnnotationStorage(Ot),Ot.rebuild())}else Ot.parent.addOrRebuild(Ot)}isActive(Ot){return h(this,mt)===Ot}getActive(){return h(this,mt)}getMode(){return h(this,kt)}get imageManager(){return(0,a.shadow)(this,"imageManager",new b)}};mt=new WeakMap,At=new WeakMap,Rt=new WeakMap,qt=new WeakMap,Bt=new WeakMap,$t=new WeakMap,jt=new WeakMap,Ft=new WeakMap,St=new WeakMap,It=new WeakMap,zt=new WeakMap,_t=new WeakMap,vt=new WeakMap,bt=new WeakMap,wt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Gt=new WeakMap,ln=new WeakMap,dn=new WeakMap,hn=new WeakMap,gn=new WeakMap,bn=new WeakMap,xn=new WeakMap,tn=new WeakMap,sn=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Yt=new WeakMap,rn=new WeakMap,fn=new WeakMap,wn=new WeakMap,vn=new WeakMap,Kt=new WeakSet,fE=function(){window.addEventListener("focus",h(this,dn)),window.addEventListener("blur",h(this,ln))},px=function(){window.removeEventListener("focus",h(this,dn)),window.removeEventListener("blur",h(this,ln))},gx=function(){window.addEventListener("keydown",h(this,xn),{capture:!0})},Wy=function(){window.removeEventListener("keydown",h(this,xn),{capture:!0})},mx=function(){document.addEventListener("copy",h(this,hn)),document.addEventListener("cut",h(this,gn)),document.addEventListener("paste",h(this,bn))},vx=function(){document.removeEventListener("copy",h(this,hn)),document.removeEventListener("cut",h(this,gn)),document.removeEventListener("paste",h(this,bn))},so=function(Ot){Object.entries(Ot).some(([kn,Un])=>h(this,Yt)[kn]!==Un)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Yt),Ot)})},Zm=function(Ot){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Ot})},pE=function(){if(!h(this,bt)){dt(this,bt,!0);for(const Ot of h(this,Rt).values())Ot.enable()}},gE=function(){if(this.unselectAll(),h(this,bt)){dt(this,bt,!1);for(const Ot of h(this,Rt).values())Ot.disable()}},yx=function(Ot){const pn=h(this,Rt).get(Ot.pageIndex);pn?pn.addOrRebuild(Ot):this.addEditor(Ot)},Jm=function(){if(h(this,At).size===0)return!0;if(h(this,At).size===1)for(const Ot of h(this,At).values())return Ot.isEmpty();return!1},bx=function(Ot){h(this,Mt).clear();for(const pn of Ot)pn.isEmpty()||(h(this,Mt).add(pn),pn.select());ut(this,Kt,so).call(this,{hasSelectedEditor:!0})},Xn(Hn,"TRANSLATE_SMALL",1),Xn(Hn,"TRANSLATE_BIG",10);let _e=Hn;e.AnnotationEditorUIManager=_e},(s,e,i)=>{var jt,Ft,St,It,zt,_t,vt,bt,wt,Pt,kt,Mt,Up,$p,xx,Gy,Xy,ev,tv;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=lt,e.getColorValues=At,e.getCurrentTransform=Rt,e.getCurrentTransformInverse=qt,e.getFilenameFromUrl=nt,e.getPdfFilenameFromUrl=st,e.getRGB=mt,e.getXfaPageViewport=Et,e.isDataScheme=it,e.isPdfFile=rt,e.isValidFetchUrl=ct,e.loadScript=ht,e.noContextMenu=at,e.setLayerDimensions=Bt;var a=i(7),o=i(1);const c="http://www.w3.org/2000/svg",$t=class $t{};Xn($t,"CSS",96),Xn($t,"PDF",72),Xn($t,"PDF_TO_CSS_UNITS",$t.CSS/$t.PDF);let d=$t;e.PixelsPerInch=d;class g extends a.BaseFilterFactory{constructor({docId:Ct,ownerDocument:Dt=globalThis.document}={}){super();pt(this,Mt);pt(this,jt);pt(this,Ft);pt(this,St);pt(this,It);pt(this,zt);pt(this,_t);pt(this,vt);pt(this,bt);pt(this,wt);pt(this,Pt);pt(this,kt,0);dt(this,St,Ct),dt(this,It,Dt)}addFilter(Ct){if(!Ct)return"none";let Dt=h(this,Mt,Up).get(Ct);if(Dt)return Dt;let Yt,rn,fn,wn;if(Ct.length===1){const Cn=Ct[0],as=new Array(256);for(let _i=0;_i<256;_i++)as[_i]=Cn[_i]/255;wn=Yt=rn=fn=as.join(",")}else{const[Cn,as,_i]=Ct,ys=new Array(256),Dn=new Array(256),qn=new Array(256);for(let ds=0;ds<256;ds++)ys[ds]=Cn[ds]/255,Dn[ds]=as[ds]/255,qn[ds]=_i[ds]/255;Yt=ys.join(","),rn=Dn.join(","),fn=qn.join(","),wn=`${Yt}${rn}${fn}`}if(Dt=h(this,Mt,Up).get(wn),Dt)return h(this,Mt,Up).set(Ct,Dt),Dt;const vn=`g_${h(this,St)}_transfer_map_${yr(this,kt)._++}`,Kt=`url(#${vn})`;h(this,Mt,Up).set(Ct,Kt),h(this,Mt,Up).set(wn,Kt);const Pn=ut(this,Mt,Gy).call(this,vn);return ut(this,Mt,ev).call(this,Yt,rn,fn,Pn),Kt}addHCMFilter(Ct,Dt){var as;const Yt=`${Ct}-${Dt}`;if(h(this,_t)===Yt)return h(this,vt);if(dt(this,_t,Yt),dt(this,vt,"none"),(as=h(this,zt))==null||as.remove(),!Ct||!Dt)return h(this,vt);const rn=ut(this,Mt,tv).call(this,Ct);Ct=o.Util.makeHexColor(...rn);const fn=ut(this,Mt,tv).call(this,Dt);if(Dt=o.Util.makeHexColor(...fn),h(this,Mt,$p).style.color="",Ct==="#000000"&&Dt==="#ffffff"||Ct===Dt)return h(this,vt);const wn=new Array(256);for(let _i=0;_i<=255;_i++){const ys=_i/255;wn[_i]=ys<=.03928?ys/12.92:((ys+.055)/1.055)**2.4}const vn=wn.join(","),Kt=`g_${h(this,St)}_hcm_filter`,Pn=dt(this,bt,ut(this,Mt,Gy).call(this,Kt));ut(this,Mt,ev).call(this,vn,vn,vn,Pn),ut(this,Mt,xx).call(this,Pn);const Cn=(_i,ys)=>{const Dn=rn[_i]/255,qn=fn[_i]/255,ds=new Array(ys+1);for(let Ts=0;Ts<=ys;Ts++)ds[Ts]=Dn+Ts/ys*(qn-Dn);return ds.join(",")};return ut(this,Mt,ev).call(this,Cn(0,5),Cn(1,5),Cn(2,5),Pn),dt(this,vt,`url(#${Kt})`),h(this,vt)}addHighlightHCMFilter(Ct,Dt,Yt,rn){var qn;const fn=`${Ct}-${Dt}-${Yt}-${rn}`;if(h(this,wt)===fn)return h(this,Pt);if(dt(this,wt,fn),dt(this,Pt,"none"),(qn=h(this,bt))==null||qn.remove(),!Ct||!Dt)return h(this,Pt);const[wn,vn]=[Ct,Dt].map(ut(this,Mt,tv).bind(this));let Kt=Math.round(.2126*wn[0]+.7152*wn[1]+.0722*wn[2]),Pn=Math.round(.2126*vn[0]+.7152*vn[1]+.0722*vn[2]),[Cn,as]=[Yt,rn].map(ut(this,Mt,tv).bind(this));Pn<Kt&&([Kt,Pn,Cn,as]=[Pn,Kt,as,Cn]),h(this,Mt,$p).style.color="";const _i=(ds,Ts,mn)=>{const Qt=new Array(256),Jt=(Pn-Kt)/mn,jn=ds/255,Hn=(Ts-ds)/(255*mn);let Jn=0;for(let Ot=0;Ot<=mn;Ot++){const pn=Math.round(Kt+Ot*Jt),kn=jn+Ot*Hn;for(let Un=Jn;Un<=pn;Un++)Qt[Un]=kn;Jn=pn+1}for(let Ot=Jn;Ot<256;Ot++)Qt[Ot]=Qt[Jn-1];return Qt.join(",")},ys=`g_${h(this,St)}_hcm_highlight_filter`,Dn=dt(this,bt,ut(this,Mt,Gy).call(this,ys));return ut(this,Mt,xx).call(this,Dn),ut(this,Mt,ev).call(this,_i(Cn[0],as[0],5),_i(Cn[1],as[1],5),_i(Cn[2],as[2],5),Dn),dt(this,Pt,`url(#${ys})`),h(this,Pt)}destroy(Ct=!1){Ct&&(h(this,vt)||h(this,Pt))||(h(this,Ft)&&(h(this,Ft).parentNode.parentNode.remove(),dt(this,Ft,null)),h(this,jt)&&(h(this,jt).clear(),dt(this,jt,null)),dt(this,kt,0))}}jt=new WeakMap,Ft=new WeakMap,St=new WeakMap,It=new WeakMap,zt=new WeakMap,_t=new WeakMap,vt=new WeakMap,bt=new WeakMap,wt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakSet,Up=function(){return h(this,jt)||dt(this,jt,new Map)},$p=function(){if(!h(this,Ft)){const Ct=h(this,It).createElement("div"),{style:Dt}=Ct;Dt.visibility="hidden",Dt.contain="strict",Dt.width=Dt.height=0,Dt.position="absolute",Dt.top=Dt.left=0,Dt.zIndex=-1;const Yt=h(this,It).createElementNS(c,"svg");Yt.setAttribute("width",0),Yt.setAttribute("height",0),dt(this,Ft,h(this,It).createElementNS(c,"defs")),Ct.append(Yt),Yt.append(h(this,Ft)),h(this,It).body.append(Ct)}return h(this,Ft)},xx=function(Ct){const Dt=h(this,It).createElementNS(c,"feColorMatrix");Dt.setAttribute("type","matrix"),Dt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Ct.append(Dt)},Gy=function(Ct){const Dt=h(this,It).createElementNS(c,"filter");return Dt.setAttribute("color-interpolation-filters","sRGB"),Dt.setAttribute("id",Ct),h(this,Mt,$p).append(Dt),Dt},Xy=function(Ct,Dt,Yt){const rn=h(this,It).createElementNS(c,Dt);rn.setAttribute("type","discrete"),rn.setAttribute("tableValues",Yt),Ct.append(rn)},ev=function(Ct,Dt,Yt,rn){const fn=h(this,It).createElementNS(c,"feComponentTransfer");rn.append(fn),ut(this,Mt,Xy).call(this,fn,"feFuncR",Ct),ut(this,Mt,Xy).call(this,fn,"feFuncG",Dt),ut(this,Mt,Xy).call(this,fn,"feFuncB",Yt)},tv=function(Ct){return h(this,Mt,$p).style.color=Ct,mt(getComputedStyle(h(this,Mt,$p)).getPropertyValue("color"))},e.DOMFilterFactory=g;class b extends a.BaseCanvasFactory{constructor({ownerDocument:sn=globalThis.document}={}){super(),this._document=sn}_createCanvas(sn,Ct){const Dt=this._document.createElement("canvas");return Dt.width=sn,Dt.height=Ct,Dt}}e.DOMCanvasFactory=b;async function _(tn,sn=!1){if(ct(tn,document.baseURI)){const Ct=await fetch(tn);if(!Ct.ok)throw new Error(Ct.statusText);return sn?new Uint8Array(await Ct.arrayBuffer()):(0,o.stringToBytes)(await Ct.text())}return new Promise((Ct,Dt)=>{const Yt=new XMLHttpRequest;Yt.open("GET",tn,!0),sn&&(Yt.responseType="arraybuffer"),Yt.onreadystatechange=()=>{if(Yt.readyState===XMLHttpRequest.DONE){if(Yt.status===200||Yt.status===0){let rn;if(sn&&Yt.response?rn=new Uint8Array(Yt.response):!sn&&Yt.responseText&&(rn=(0,o.stringToBytes)(Yt.responseText)),rn){Ct(rn);return}}Dt(new Error(Yt.statusText))}},Yt.send(null)})}class j extends a.BaseCMapReaderFactory{_fetchData(sn,Ct){return _(sn,this.isCompressed).then(Dt=>({cMapData:Dt,compressionType:Ct}))}}e.DOMCMapReaderFactory=j;class $ extends a.BaseStandardFontDataFactory{_fetchData(sn){return _(sn,!0)}}e.DOMStandardFontDataFactory=$;class _e extends a.BaseSVGFactory{_createSVG(sn){return document.createElementNS(c,sn)}}e.DOMSVGFactory=_e;class et{constructor({viewBox:sn,scale:Ct,rotation:Dt,offsetX:Yt=0,offsetY:rn=0,dontFlip:fn=!1}){this.viewBox=sn,this.scale=Ct,this.rotation=Dt,this.offsetX=Yt,this.offsetY=rn;const wn=(sn[2]+sn[0])/2,vn=(sn[3]+sn[1])/2;let Kt,Pn,Cn,as;switch(Dt%=360,Dt<0&&(Dt+=360),Dt){case 180:Kt=-1,Pn=0,Cn=0,as=1;break;case 90:Kt=0,Pn=1,Cn=1,as=0;break;case 270:Kt=0,Pn=-1,Cn=-1,as=0;break;case 0:Kt=1,Pn=0,Cn=0,as=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}fn&&(Cn=-Cn,as=-as);let _i,ys,Dn,qn;Kt===0?(_i=Math.abs(vn-sn[1])*Ct+Yt,ys=Math.abs(wn-sn[0])*Ct+rn,Dn=(sn[3]-sn[1])*Ct,qn=(sn[2]-sn[0])*Ct):(_i=Math.abs(wn-sn[0])*Ct+Yt,ys=Math.abs(vn-sn[1])*Ct+rn,Dn=(sn[2]-sn[0])*Ct,qn=(sn[3]-sn[1])*Ct),this.transform=[Kt*Ct,Pn*Ct,Cn*Ct,as*Ct,_i-Kt*Ct*wn-Cn*Ct*vn,ys-Pn*Ct*wn-as*Ct*vn],this.width=Dn,this.height=qn}get rawDims(){const{viewBox:sn}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:sn[2]-sn[0],pageHeight:sn[3]-sn[1],pageX:sn[0],pageY:sn[1]})}clone({scale:sn=this.scale,rotation:Ct=this.rotation,offsetX:Dt=this.offsetX,offsetY:Yt=this.offsetY,dontFlip:rn=!1}={}){return new et({viewBox:this.viewBox.slice(),scale:sn,rotation:Ct,offsetX:Dt,offsetY:Yt,dontFlip:rn})}convertToViewportPoint(sn,Ct){return o.Util.applyTransform([sn,Ct],this.transform)}convertToViewportRectangle(sn){const Ct=o.Util.applyTransform([sn[0],sn[1]],this.transform),Dt=o.Util.applyTransform([sn[2],sn[3]],this.transform);return[Ct[0],Ct[1],Dt[0],Dt[1]]}convertToPdfPoint(sn,Ct){return o.Util.applyInverseTransform([sn,Ct],this.transform)}}e.PageViewport=et;class tt extends o.BaseException{constructor(sn,Ct=0){super(sn,"RenderingCancelledException"),this.extraDelay=Ct}}e.RenderingCancelledException=tt;function it(tn){const sn=tn.length;let Ct=0;for(;Ct<sn&&tn[Ct].trim()==="";)Ct++;return tn.substring(Ct,Ct+5).toLowerCase()==="data:"}function rt(tn){return typeof tn=="string"&&/\.pdf$/i.test(tn)}function nt(tn,sn=!1){return sn||([tn]=tn.split(/[#?]/,1)),tn.substring(tn.lastIndexOf("/")+1)}function st(tn,sn="document.pdf"){if(typeof tn!="string")return sn;if(it(tn))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),sn;const Ct=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Dt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Yt=Ct.exec(tn);let rn=Dt.exec(Yt[1])||Dt.exec(Yt[2])||Dt.exec(Yt[3]);if(rn&&(rn=rn[0],rn.includes("%")))try{rn=Dt.exec(decodeURIComponent(rn))[0]}catch{}return rn||sn}class ot{constructor(){Xn(this,"started",Object.create(null));Xn(this,"times",[])}time(sn){sn in this.started&&(0,o.warn)(`Timer is already running for ${sn}`),this.started[sn]=Date.now()}timeEnd(sn){sn in this.started||(0,o.warn)(`Timer has not been started for ${sn}`),this.times.push({name:sn,start:this.started[sn],end:Date.now()}),delete this.started[sn]}toString(){const sn=[];let Ct=0;for(const{name:Dt}of this.times)Ct=Math.max(Dt.length,Ct);for(const{name:Dt,start:Yt,end:rn}of this.times)sn.push(`${Dt.padEnd(Ct)} ${rn-Yt}ms
`);return sn.join("")}}e.StatTimer=ot;function ct(tn,sn){try{const{protocol:Ct}=sn?new URL(tn,sn):new URL(tn);return Ct==="http:"||Ct==="https:"}catch{return!1}}function at(tn){tn.preventDefault()}function ht(tn,sn=!1){return new Promise((Ct,Dt)=>{const Yt=document.createElement("script");Yt.src=tn,Yt.onload=function(rn){sn&&Yt.remove(),Ct(rn)},Yt.onerror=function(){Dt(new Error(`Cannot load script at: ${Yt.src}`))},(document.head||document.documentElement).append(Yt)})}function lt(tn){console.log("Deprecated API usage: "+tn)}let ft;class yt{static toDateObject(sn){if(!sn||typeof sn!="string")return null;ft||(ft=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Ct=ft.exec(sn);if(!Ct)return null;const Dt=parseInt(Ct[1],10);let Yt=parseInt(Ct[2],10);Yt=Yt>=1&&Yt<=12?Yt-1:0;let rn=parseInt(Ct[3],10);rn=rn>=1&&rn<=31?rn:1;let fn=parseInt(Ct[4],10);fn=fn>=0&&fn<=23?fn:0;let wn=parseInt(Ct[5],10);wn=wn>=0&&wn<=59?wn:0;let vn=parseInt(Ct[6],10);vn=vn>=0&&vn<=59?vn:0;const Kt=Ct[7]||"Z";let Pn=parseInt(Ct[8],10);Pn=Pn>=0&&Pn<=23?Pn:0;let Cn=parseInt(Ct[9],10)||0;return Cn=Cn>=0&&Cn<=59?Cn:0,Kt==="-"?(fn+=Pn,wn+=Cn):Kt==="+"&&(fn-=Pn,wn-=Cn),new Date(Date.UTC(Dt,Yt,rn,fn,wn,vn))}}e.PDFDateString=yt;function Et(tn,{scale:sn=1,rotation:Ct=0}){const{width:Dt,height:Yt}=tn.attributes.style,rn=[0,0,parseInt(Dt),parseInt(Yt)];return new et({viewBox:rn,scale:sn,rotation:Ct})}function mt(tn){if(tn.startsWith("#")){const sn=parseInt(tn.slice(1),16);return[(sn&16711680)>>16,(sn&65280)>>8,sn&255]}return tn.startsWith("rgb(")?tn.slice(4,-1).split(",").map(sn=>parseInt(sn)):tn.startsWith("rgba(")?tn.slice(5,-1).split(",").map(sn=>parseInt(sn)).slice(0,3):((0,o.warn)(`Not a valid color format: "${tn}"`),[0,0,0])}function At(tn){const sn=document.createElement("span");sn.style.visibility="hidden",document.body.append(sn);for(const Ct of tn.keys()){sn.style.color=Ct;const Dt=window.getComputedStyle(sn).color;tn.set(Ct,mt(Dt))}sn.remove()}function Rt(tn){const{a:sn,b:Ct,c:Dt,d:Yt,e:rn,f:fn}=tn.getTransform();return[sn,Ct,Dt,Yt,rn,fn]}function qt(tn){const{a:sn,b:Ct,c:Dt,d:Yt,e:rn,f:fn}=tn.getTransform().invertSelf();return[sn,Ct,Dt,Yt,rn,fn]}function Bt(tn,sn,Ct=!1,Dt=!0){if(sn instanceof et){const{pageWidth:Yt,pageHeight:rn}=sn.rawDims,{style:fn}=tn,wn=o.FeatureTest.isCSSRoundSupported,vn=`var(--scale-factor) * ${Yt}px`,Kt=`var(--scale-factor) * ${rn}px`,Pn=wn?`round(${vn}, 1px)`:`calc(${vn})`,Cn=wn?`round(${Kt}, 1px)`:`calc(${Kt})`;!Ct||sn.rotation%180===0?(fn.width=Pn,fn.height=Cn):(fn.width=Cn,fn.height=Pn)}Dt&&tn.setAttribute("data-main-rotation",sn.rotation)}},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var a=i(1);class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(j){return"none"}addHCMFilter(j,$){return"none"}addHighlightHCMFilter(j,$,_e,et){return"none"}destroy(j=!1){}}e.BaseFilterFactory=o;class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(j,$){if(j<=0||$<=0)throw new Error("Invalid canvas size");const _e=this._createCanvas(j,$);return{canvas:_e,context:_e.getContext("2d")}}reset(j,$,_e){if(!j.canvas)throw new Error("Canvas is not specified");if($<=0||_e<=0)throw new Error("Invalid canvas size");j.canvas.width=$,j.canvas.height=_e}destroy(j){if(!j.canvas)throw new Error("Canvas is not specified");j.canvas.width=0,j.canvas.height=0,j.canvas=null,j.context=null}_createCanvas(j,$){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=c;class d{constructor({baseUrl:j=null,isCompressed:$=!0}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=j,this.isCompressed=$}async fetch({name:j}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!j)throw new Error("CMap name must be specified.");const $=this.baseUrl+j+(this.isCompressed?".bcmap":""),_e=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData($,_e).catch(et=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${$}`)})}_fetchData(j,$){(0,a.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=d;class g{constructor({baseUrl:j=null}){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=j}async fetch({filename:j}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!j)throw new Error("Font filename must be specified.");const $=`${this.baseUrl}${j}`;return this._fetchData($).catch(_e=>{throw new Error(`Unable to load font data at: ${$}`)})}_fetchData(j){(0,a.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=g;class b{constructor(){this.constructor===b&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(j,$,_e=!1){if(j<=0||$<=0)throw new Error("Invalid SVG dimensions");const et=this._createSVG("svg:svg");return et.setAttribute("version","1.1"),_e||(et.setAttribute("width",`${j}px`),et.setAttribute("height",`${$}px`)),et.setAttribute("preserveAspectRatio","none"),et.setAttribute("viewBox",`0 0 ${j} ${$}`),et}createElement(j){if(typeof j!="string")throw new Error("Invalid SVG element type");return this._createSVG(j)}_createSVG(j){(0,a.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=b},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var a=i(1);const o=3285377520,c=4294901760,d=65535;class g{constructor(_){this.h1=_?_&4294967295:o,this.h2=_?_&4294967295:o}update(_){let j,$;if(typeof _=="string"){j=new Uint8Array(_.length*2),$=0;for(let lt=0,ft=_.length;lt<ft;lt++){const yt=_.charCodeAt(lt);yt<=255?j[$++]=yt:(j[$++]=yt>>>8,j[$++]=yt&255)}}else if((0,a.isArrayBuffer)(_))j=_.slice(),$=j.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _e=$>>2,et=$-_e*4,tt=new Uint32Array(j.buffer,0,_e);let it=0,rt=0,nt=this.h1,st=this.h2;const ot=3432918353,ct=461845907,at=ot&d,ht=ct&d;for(let lt=0;lt<_e;lt++)lt&1?(it=tt[lt],it=it*ot&c|it*at&d,it=it<<15|it>>>17,it=it*ct&c|it*ht&d,nt^=it,nt=nt<<13|nt>>>19,nt=nt*5+3864292196):(rt=tt[lt],rt=rt*ot&c|rt*at&d,rt=rt<<15|rt>>>17,rt=rt*ct&c|rt*ht&d,st^=rt,st=st<<13|st>>>19,st=st*5+3864292196);switch(it=0,et){case 3:it^=j[_e*4+2]<<16;case 2:it^=j[_e*4+1]<<8;case 1:it^=j[_e*4],it=it*ot&c|it*at&d,it=it<<15|it>>>17,it=it*ct&c|it*ht&d,_e&1?nt^=it:st^=it}this.h1=nt,this.h2=st}hexdigest(){let _=this.h1,j=this.h2;return _^=j>>>1,_=_*3981806797&c|_*36045&d,j=j*4283543511&c|((j<<16|_>>>16)*2950163797&c)>>>16,_^=j>>>1,_=_*444984403&c|_*60499&d,j=j*3301882366&c|((j<<16|_>>>16)*3120437893&c)>>>16,_^=j>>>1,(_>>>0).toString(16).padStart(8,"0")+(j>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=g},(s,e,i)=>{var d;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var a=i(1);class o{constructor({ownerDocument:b=globalThis.document,styleElement:_=null}){pt(this,d,new Set);this._document=b,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(b){this.nativeFontFaces.add(b),this._document.fonts.add(b)}removeNativeFontFace(b){this.nativeFontFaces.delete(b),this._document.fonts.delete(b)}insertRule(b){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(b,_.cssRules.length)}clear(){for(const b of this.nativeFontFaces)this._document.fonts.delete(b);this.nativeFontFaces.clear(),h(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(b){if(!(!b||h(this,d).has(b.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:j,style:$}=b,_e=new FontFace(_,j,$);this.addNativeFontFace(_e);try{await _e.load(),h(this,d).add(_)}catch{(0,a.warn)(`Cannot load system font: ${b.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(_e)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(b){if(b.attached||b.missingFile&&!b.systemFontInfo)return;if(b.attached=!0,b.systemFontInfo){await this.loadSystemFont(b.systemFontInfo);return}if(this.isFontLoadingAPISupported){const j=b.createNativeFontFace();if(j){this.addNativeFontFace(j);try{await j.loaded}catch($){throw(0,a.warn)(`Failed to load font '${j.family}': '${$}'.`),b.disableFontFace=!0,$}}return}const _=b.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise(j=>{const $=this._queueLoadingCallback(j);this._prepareFontLoadEvent(b,$)})}}get isFontLoadingAPISupported(){var _;const b=!!((_=this._document)!=null&&_.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){let b=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(b=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function _(){for((0,a.assert)(!$.done,"completeRequest() cannot be called twice."),$.done=!0;j.length>0&&j[0].done;){const _e=j.shift();setTimeout(_e.callback,0)}}const{loadingRequests:j}=this,$={done:!1,complete:_,callback:b};return j.push($),$}get _loadTestFont(){const b=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",b)}_prepareFontLoadEvent(b,_){function j(mt,At){return mt.charCodeAt(At)<<24|mt.charCodeAt(At+1)<<16|mt.charCodeAt(At+2)<<8|mt.charCodeAt(At+3)&255}function $(mt,At,Rt,qt){const Bt=mt.substring(0,At),$t=mt.substring(At+Rt);return Bt+qt+$t}let _e,et;const tt=this._document.createElement("canvas");tt.width=1,tt.height=1;const it=tt.getContext("2d");let rt=0;function nt(mt,At){if(++rt>30){(0,a.warn)("Load test font never loaded."),At();return}if(it.font="30px "+mt,it.fillText(".",0,20),it.getImageData(0,0,1,1).data[3]>0){At();return}setTimeout(nt.bind(null,mt,At))}const st=`lt${Date.now()}${this.loadTestFontId++}`;let ot=this._loadTestFont;ot=$(ot,976,st.length,st);const at=16,ht=1482184792;let lt=j(ot,at);for(_e=0,et=st.length-3;_e<et;_e+=4)lt=lt-ht+j(st,_e)|0;_e<st.length&&(lt=lt-ht+j(st+"XXX",_e)|0),ot=$(ot,at,4,(0,a.string32)(lt));const ft=`url(data:font/opentype;base64,${btoa(ot)});`,yt=`@font-face {font-family:"${st}";src:${ft}}`;this.insertRule(yt);const Et=this._document.createElement("div");Et.style.visibility="hidden",Et.style.width=Et.style.height="10px",Et.style.position="absolute",Et.style.top=Et.style.left="0px";for(const mt of[b.loadedName,st]){const At=this._document.createElement("span");At.textContent="Hi",At.style.fontFamily=mt,Et.append(At)}this._document.body.append(Et),nt(st,()=>{Et.remove(),_.complete()})}}d=new WeakMap,e.FontLoader=o;class c{constructor(b,{isEvalSupported:_=!0,disableFontFace:j=!1,ignoreErrors:$=!1,inspectFont:_e=null}){this.compiledGlyphs=Object.create(null);for(const et in b)this[et]=b[et];this.isEvalSupported=_!==!1,this.disableFontFace=j===!0,this.ignoreErrors=$===!0,this._inspectFont=_e}createNativeFontFace(){var _;if(!this.data||this.disableFontFace)return null;let b;if(!this.cssFontInfo)b=new FontFace(this.loadedName,this.data,{});else{const j={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(j.style=`oblique ${this.cssFontInfo.italicAngle}deg`),b=new FontFace(this.cssFontInfo.fontFamily,this.data,j)}return(_=this._inspectFont)==null||_.call(this,this),b}createFontFaceRule(){var $;if(!this.data||this.disableFontFace)return null;const b=(0,a.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(b)});`;let j;if(!this.cssFontInfo)j=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let _e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),j=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_e}src:${_}}`}return($=this._inspectFont)==null||$.call(this,this,_),j}getPathGenerator(b,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let j;try{j=b.get(this.loadedName+"_path_"+_)}catch($){if(!this.ignoreErrors)throw $;return(0,a.warn)(`getPathGenerator - ignoring character: "${$}".`),this.compiledGlyphs[_]=function(_e,et){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const $=[];for(const _e of j){const et=_e.args!==void 0?_e.args.join(","):"";$.push("c.",_e.cmd,"(",et,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",$.join(""))}return this.compiledGlyphs[_]=function($,_e){for(const et of j)et.cmd==="scale"&&(et.args=[_e,-_e]),$[et.cmd].apply($,et.args)}}}e.FontFaceObject=c},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var a=i(7);i(1);const o=function(_){return new Promise((j,$)=>{require$$5.readFile(_,(et,tt)=>{if(et||!tt){$(new Error(et));return}j(new Uint8Array(tt))})})};class c extends a.BaseFilterFactory{}e.NodeFilterFactory=c;class d extends a.BaseCanvasFactory{_createCanvas(j,$){return require$$5.createCanvas(j,$)}}e.NodeCanvasFactory=d;class g extends a.BaseCMapReaderFactory{_fetchData(j,$){return o(j).then(_e=>({cMapData:_e,compressionType:$}))}}e.NodeCMapReaderFactory=g;class b extends a.BaseStandardFontDataFactory{_fetchData(j){return o(j)}}e.NodeStandardFontDataFactory=b},(s,e,i)=>{var Ft,wx,Ex;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var a=i(1),o=i(6),c=i(12),d=i(13);const g=16,b=100,_=4096,j=15,$=10,_e=1e3,et=16;function tt(_t,vt){if(_t._removeMirroring)throw new Error("Context is already forwarding operations.");_t.__originalSave=_t.save,_t.__originalRestore=_t.restore,_t.__originalRotate=_t.rotate,_t.__originalScale=_t.scale,_t.__originalTranslate=_t.translate,_t.__originalTransform=_t.transform,_t.__originalSetTransform=_t.setTransform,_t.__originalResetTransform=_t.resetTransform,_t.__originalClip=_t.clip,_t.__originalMoveTo=_t.moveTo,_t.__originalLineTo=_t.lineTo,_t.__originalBezierCurveTo=_t.bezierCurveTo,_t.__originalRect=_t.rect,_t.__originalClosePath=_t.closePath,_t.__originalBeginPath=_t.beginPath,_t._removeMirroring=()=>{_t.save=_t.__originalSave,_t.restore=_t.__originalRestore,_t.rotate=_t.__originalRotate,_t.scale=_t.__originalScale,_t.translate=_t.__originalTranslate,_t.transform=_t.__originalTransform,_t.setTransform=_t.__originalSetTransform,_t.resetTransform=_t.__originalResetTransform,_t.clip=_t.__originalClip,_t.moveTo=_t.__originalMoveTo,_t.lineTo=_t.__originalLineTo,_t.bezierCurveTo=_t.__originalBezierCurveTo,_t.rect=_t.__originalRect,_t.closePath=_t.__originalClosePath,_t.beginPath=_t.__originalBeginPath,delete _t._removeMirroring},_t.save=function(){vt.save(),this.__originalSave()},_t.restore=function(){vt.restore(),this.__originalRestore()},_t.translate=function(wt,Pt){vt.translate(wt,Pt),this.__originalTranslate(wt,Pt)},_t.scale=function(wt,Pt){vt.scale(wt,Pt),this.__originalScale(wt,Pt)},_t.transform=function(wt,Pt,kt,Mt,Gt,ln){vt.transform(wt,Pt,kt,Mt,Gt,ln),this.__originalTransform(wt,Pt,kt,Mt,Gt,ln)},_t.setTransform=function(wt,Pt,kt,Mt,Gt,ln){vt.setTransform(wt,Pt,kt,Mt,Gt,ln),this.__originalSetTransform(wt,Pt,kt,Mt,Gt,ln)},_t.resetTransform=function(){vt.resetTransform(),this.__originalResetTransform()},_t.rotate=function(wt){vt.rotate(wt),this.__originalRotate(wt)},_t.clip=function(wt){vt.clip(wt),this.__originalClip(wt)},_t.moveTo=function(bt,wt){vt.moveTo(bt,wt),this.__originalMoveTo(bt,wt)},_t.lineTo=function(bt,wt){vt.lineTo(bt,wt),this.__originalLineTo(bt,wt)},_t.bezierCurveTo=function(bt,wt,Pt,kt,Mt,Gt){vt.bezierCurveTo(bt,wt,Pt,kt,Mt,Gt),this.__originalBezierCurveTo(bt,wt,Pt,kt,Mt,Gt)},_t.rect=function(bt,wt,Pt,kt){vt.rect(bt,wt,Pt,kt),this.__originalRect(bt,wt,Pt,kt)},_t.closePath=function(){vt.closePath(),this.__originalClosePath()},_t.beginPath=function(){vt.beginPath(),this.__originalBeginPath()}}class it{constructor(vt){this.canvasFactory=vt,this.cache=Object.create(null)}getCanvas(vt,bt,wt){let Pt;return this.cache[vt]!==void 0?(Pt=this.cache[vt],this.canvasFactory.reset(Pt,bt,wt)):(Pt=this.canvasFactory.create(bt,wt),this.cache[vt]=Pt),Pt}delete(vt){delete this.cache[vt]}clear(){for(const vt in this.cache){const bt=this.cache[vt];this.canvasFactory.destroy(bt),delete this.cache[vt]}}}function rt(_t,vt,bt,wt,Pt,kt,Mt,Gt,ln,dn){const[hn,gn,bn,xn,tn,sn]=(0,o.getCurrentTransform)(_t);if(gn===0&&bn===0){const Yt=Mt*hn+tn,rn=Math.round(Yt),fn=Gt*xn+sn,wn=Math.round(fn),vn=(Mt+ln)*hn+tn,Kt=Math.abs(Math.round(vn)-rn)||1,Pn=(Gt+dn)*xn+sn,Cn=Math.abs(Math.round(Pn)-wn)||1;return _t.setTransform(Math.sign(hn),0,0,Math.sign(xn),rn,wn),_t.drawImage(vt,bt,wt,Pt,kt,0,0,Kt,Cn),_t.setTransform(hn,gn,bn,xn,tn,sn),[Kt,Cn]}if(hn===0&&xn===0){const Yt=Gt*bn+tn,rn=Math.round(Yt),fn=Mt*gn+sn,wn=Math.round(fn),vn=(Gt+dn)*bn+tn,Kt=Math.abs(Math.round(vn)-rn)||1,Pn=(Mt+ln)*gn+sn,Cn=Math.abs(Math.round(Pn)-wn)||1;return _t.setTransform(0,Math.sign(gn),Math.sign(bn),0,rn,wn),_t.drawImage(vt,bt,wt,Pt,kt,0,0,Cn,Kt),_t.setTransform(hn,gn,bn,xn,tn,sn),[Cn,Kt]}_t.drawImage(vt,bt,wt,Pt,kt,Mt,Gt,ln,dn);const Ct=Math.hypot(hn,gn),Dt=Math.hypot(bn,xn);return[Ct*ln,Dt*dn]}function nt(_t){const{width:vt,height:bt}=_t;if(vt>_e||bt>_e)return null;const wt=1e3,Pt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),kt=vt+1;let Mt=new Uint8Array(kt*(bt+1)),Gt,ln,dn;const hn=vt+7&-8;let gn=new Uint8Array(hn*bt),bn=0;for(const Dt of _t.data){let Yt=128;for(;Yt>0;)gn[bn++]=Dt&Yt?0:255,Yt>>=1}let xn=0;for(bn=0,gn[bn]!==0&&(Mt[0]=1,++xn),ln=1;ln<vt;ln++)gn[bn]!==gn[bn+1]&&(Mt[ln]=gn[bn]?2:1,++xn),bn++;for(gn[bn]!==0&&(Mt[ln]=2,++xn),Gt=1;Gt<bt;Gt++){bn=Gt*hn,dn=Gt*kt,gn[bn-hn]!==gn[bn]&&(Mt[dn]=gn[bn]?1:8,++xn);let Dt=(gn[bn]?4:0)+(gn[bn-hn]?8:0);for(ln=1;ln<vt;ln++)Dt=(Dt>>2)+(gn[bn+1]?4:0)+(gn[bn-hn+1]?8:0),Pt[Dt]&&(Mt[dn+ln]=Pt[Dt],++xn),bn++;if(gn[bn-hn]!==gn[bn]&&(Mt[dn+ln]=gn[bn]?2:4,++xn),xn>wt)return null}for(bn=hn*(bt-1),dn=Gt*kt,gn[bn]!==0&&(Mt[dn]=8,++xn),ln=1;ln<vt;ln++)gn[bn]!==gn[bn+1]&&(Mt[dn+ln]=gn[bn]?4:8,++xn),bn++;if(gn[bn]!==0&&(Mt[dn+ln]=4,++xn),xn>wt)return null;const tn=new Int32Array([0,kt,-1,0,-kt,0,0,0,1]),sn=new Path2D;for(Gt=0;xn&&Gt<=bt;Gt++){let Dt=Gt*kt;const Yt=Dt+vt;for(;Dt<Yt&&!Mt[Dt];)Dt++;if(Dt===Yt)continue;sn.moveTo(Dt%kt,Gt);const rn=Dt;let fn=Mt[Dt];do{const wn=tn[fn];do Dt+=wn;while(!Mt[Dt]);const vn=Mt[Dt];vn!==5&&vn!==10?(fn=vn,Mt[Dt]=0):(fn=vn&51*fn>>4,Mt[Dt]&=fn>>2|fn<<2),sn.lineTo(Dt%kt,Dt/kt|0),Mt[Dt]||--xn}while(rn!==Dt);--Gt}return gn=null,Mt=null,function(Dt){Dt.save(),Dt.scale(1/vt,-1/bt),Dt.translate(0,-bt),Dt.fill(sn),Dt.beginPath(),Dt.restore()}}class st{constructor(vt,bt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,vt,bt])}clone(){const vt=Object.create(this);return vt.clipBox=this.clipBox.slice(),vt}setCurrentPoint(vt,bt){this.x=vt,this.y=bt}updatePathMinMax(vt,bt,wt){[bt,wt]=a.Util.applyTransform([bt,wt],vt),this.minX=Math.min(this.minX,bt),this.minY=Math.min(this.minY,wt),this.maxX=Math.max(this.maxX,bt),this.maxY=Math.max(this.maxY,wt)}updateRectMinMax(vt,bt){const wt=a.Util.applyTransform(bt,vt),Pt=a.Util.applyTransform(bt.slice(2),vt);this.minX=Math.min(this.minX,wt[0],Pt[0]),this.minY=Math.min(this.minY,wt[1],Pt[1]),this.maxX=Math.max(this.maxX,wt[0],Pt[0]),this.maxY=Math.max(this.maxY,wt[1],Pt[1])}updateScalingPathMinMax(vt,bt){a.Util.scaleMinMax(vt,bt),this.minX=Math.min(this.minX,bt[0]),this.maxX=Math.max(this.maxX,bt[1]),this.minY=Math.min(this.minY,bt[2]),this.maxY=Math.max(this.maxY,bt[3])}updateCurvePathMinMax(vt,bt,wt,Pt,kt,Mt,Gt,ln,dn,hn){const gn=a.Util.bezierBoundingBox(bt,wt,Pt,kt,Mt,Gt,ln,dn);if(hn){hn[0]=Math.min(hn[0],gn[0],gn[2]),hn[1]=Math.max(hn[1],gn[0],gn[2]),hn[2]=Math.min(hn[2],gn[1],gn[3]),hn[3]=Math.max(hn[3],gn[1],gn[3]);return}this.updateRectMinMax(vt,gn)}getPathBoundingBox(vt=c.PathType.FILL,bt=null){const wt=[this.minX,this.minY,this.maxX,this.maxY];if(vt===c.PathType.STROKE){bt||(0,a.unreachable)("Stroke bounding box must include transform.");const Pt=a.Util.singularValueDecompose2dScale(bt),kt=Pt[0]*this.lineWidth/2,Mt=Pt[1]*this.lineWidth/2;wt[0]-=kt,wt[1]-=Mt,wt[2]+=kt,wt[3]+=Mt}return wt}updateClipFromPath(){const vt=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(vt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(vt){this.clipBox=vt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(vt=c.PathType.FILL,bt=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(vt,bt))}}function ot(_t,vt){if(typeof ImageData<"u"&&vt instanceof ImageData){_t.putImageData(vt,0,0);return}const bt=vt.height,wt=vt.width,Pt=bt%et,kt=(bt-Pt)/et,Mt=Pt===0?kt:kt+1,Gt=_t.createImageData(wt,et);let ln=0,dn;const hn=vt.data,gn=Gt.data;let bn,xn,tn,sn;if(vt.kind===a.ImageKind.GRAYSCALE_1BPP){const Ct=hn.byteLength,Dt=new Uint32Array(gn.buffer,0,gn.byteLength>>2),Yt=Dt.length,rn=wt+7>>3,fn=4294967295,wn=a.FeatureTest.isLittleEndian?4278190080:255;for(bn=0;bn<Mt;bn++){for(tn=bn<kt?et:Pt,dn=0,xn=0;xn<tn;xn++){const vn=Ct-ln;let Kt=0;const Pn=vn>rn?wt:vn*8-7,Cn=Pn&-8;let as=0,_i=0;for(;Kt<Cn;Kt+=8)_i=hn[ln++],Dt[dn++]=_i&128?fn:wn,Dt[dn++]=_i&64?fn:wn,Dt[dn++]=_i&32?fn:wn,Dt[dn++]=_i&16?fn:wn,Dt[dn++]=_i&8?fn:wn,Dt[dn++]=_i&4?fn:wn,Dt[dn++]=_i&2?fn:wn,Dt[dn++]=_i&1?fn:wn;for(;Kt<Pn;Kt++)as===0&&(_i=hn[ln++],as=128),Dt[dn++]=_i&as?fn:wn,as>>=1}for(;dn<Yt;)Dt[dn++]=0;_t.putImageData(Gt,0,bn*et)}}else if(vt.kind===a.ImageKind.RGBA_32BPP){for(xn=0,sn=wt*et*4,bn=0;bn<kt;bn++)gn.set(hn.subarray(ln,ln+sn)),ln+=sn,_t.putImageData(Gt,0,xn),xn+=et;bn<Mt&&(sn=wt*Pt*4,gn.set(hn.subarray(ln,ln+sn)),_t.putImageData(Gt,0,xn))}else if(vt.kind===a.ImageKind.RGB_24BPP)for(tn=et,sn=wt*tn,bn=0;bn<Mt;bn++){for(bn>=kt&&(tn=Pt,sn=wt*tn),dn=0,xn=sn;xn--;)gn[dn++]=hn[ln++],gn[dn++]=hn[ln++],gn[dn++]=hn[ln++],gn[dn++]=255;_t.putImageData(Gt,0,bn*et)}else throw new Error(`bad image kind: ${vt.kind}`)}function ct(_t,vt){if(vt.bitmap){_t.drawImage(vt.bitmap,0,0);return}const bt=vt.height,wt=vt.width,Pt=bt%et,kt=(bt-Pt)/et,Mt=Pt===0?kt:kt+1,Gt=_t.createImageData(wt,et);let ln=0;const dn=vt.data,hn=Gt.data;for(let gn=0;gn<Mt;gn++){const bn=gn<kt?et:Pt;({srcPos:ln}=(0,d.convertBlackAndWhiteToRGBA)({src:dn,srcPos:ln,dest:hn,width:wt,height:bn,nonBlackColor:0})),_t.putImageData(Gt,0,gn*et)}}function at(_t,vt){const bt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const wt of bt)_t[wt]!==void 0&&(vt[wt]=_t[wt]);_t.setLineDash!==void 0&&(vt.setLineDash(_t.getLineDash()),vt.lineDashOffset=_t.lineDashOffset)}function ht(_t){if(_t.strokeStyle=_t.fillStyle="#000000",_t.fillRule="nonzero",_t.globalAlpha=1,_t.lineWidth=1,_t.lineCap="butt",_t.lineJoin="miter",_t.miterLimit=10,_t.globalCompositeOperation="source-over",_t.font="10px sans-serif",_t.setLineDash!==void 0&&(_t.setLineDash([]),_t.lineDashOffset=0),!a.isNodeJS){const{filter:vt}=_t;vt!=="none"&&vt!==""&&(_t.filter="none")}}function lt(_t,vt,bt,wt){const Pt=_t.length;for(let kt=3;kt<Pt;kt+=4){const Mt=_t[kt];if(Mt===0)_t[kt-3]=vt,_t[kt-2]=bt,_t[kt-1]=wt;else if(Mt<255){const Gt=255-Mt;_t[kt-3]=_t[kt-3]*Mt+vt*Gt>>8,_t[kt-2]=_t[kt-2]*Mt+bt*Gt>>8,_t[kt-1]=_t[kt-1]*Mt+wt*Gt>>8}}}function ft(_t,vt,bt){const wt=_t.length,Pt=1/255;for(let kt=3;kt<wt;kt+=4){const Mt=bt?bt[_t[kt]]:_t[kt];vt[kt]=vt[kt]*Mt*Pt|0}}function yt(_t,vt,bt){const wt=_t.length;for(let Pt=3;Pt<wt;Pt+=4){const kt=_t[Pt-3]*77+_t[Pt-2]*152+_t[Pt-1]*28;vt[Pt]=bt?vt[Pt]*bt[kt>>8]>>8:vt[Pt]*kt>>16}}function Et(_t,vt,bt,wt,Pt,kt,Mt,Gt,ln,dn,hn){const gn=!!kt,bn=gn?kt[0]:0,xn=gn?kt[1]:0,tn=gn?kt[2]:0,sn=Pt==="Luminosity"?yt:ft,Dt=Math.min(wt,Math.ceil(1048576/bt));for(let Yt=0;Yt<wt;Yt+=Dt){const rn=Math.min(Dt,wt-Yt),fn=_t.getImageData(Gt-dn,Yt+(ln-hn),bt,rn),wn=vt.getImageData(Gt,Yt+ln,bt,rn);gn&&lt(fn.data,bn,xn,tn),sn(fn.data,wn.data,Mt),vt.putImageData(wn,Gt,Yt+ln)}}function mt(_t,vt,bt,wt){const Pt=wt[0],kt=wt[1],Mt=wt[2]-Pt,Gt=wt[3]-kt;Mt===0||Gt===0||(Et(vt.context,bt,Mt,Gt,vt.subtype,vt.backdrop,vt.transferMap,Pt,kt,vt.offsetX,vt.offsetY),_t.save(),_t.globalAlpha=1,_t.globalCompositeOperation="source-over",_t.setTransform(1,0,0,1,0,0),_t.drawImage(bt.canvas,0,0),_t.restore())}function At(_t,vt){const bt=a.Util.singularValueDecompose2dScale(_t);bt[0]=Math.fround(bt[0]),bt[1]=Math.fround(bt[1]);const wt=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return vt!==void 0?vt:bt[0]<=wt||bt[1]<=wt}const Rt=["butt","round","square"],qt=["miter","round","bevel"],Bt={},$t={},zt=class zt{constructor(vt,bt,wt,Pt,kt,{optionalContentConfig:Mt,markedContentStack:Gt=null},ln,dn){pt(this,Ft);this.ctx=vt,this.current=new st(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=bt,this.objs=wt,this.canvasFactory=Pt,this.filterFactory=kt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Gt||[],this.optionalContentConfig=Mt,this.cachedCanvases=new it(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ln,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=dn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(vt,bt=null){return typeof vt=="string"?vt.startsWith("g_")?this.commonObjs.get(vt):this.objs.get(vt):bt}beginDrawing({transform:vt,viewport:bt,transparency:wt=!1,background:Pt=null}){const kt=this.ctx.canvas.width,Mt=this.ctx.canvas.height,Gt=this.ctx.fillStyle;if(this.ctx.fillStyle=Pt||"#ffffff",this.ctx.fillRect(0,0,kt,Mt),this.ctx.fillStyle=Gt,wt){const ln=this.cachedCanvases.getCanvas("transparent",kt,Mt);this.compositeCtx=this.ctx,this.transparentCanvas=ln.canvas,this.ctx=ln.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ht(this.ctx),vt&&(this.ctx.transform(...vt),this.outputScaleX=vt[0],this.outputScaleY=vt[0]),this.ctx.transform(...bt.transform),this.viewportScale=bt.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(vt,bt,wt,Pt){const kt=vt.argsArray,Mt=vt.fnArray;let Gt=bt||0;const ln=kt.length;if(ln===Gt)return Gt;const dn=ln-Gt>$&&typeof wt=="function",hn=dn?Date.now()+j:0;let gn=0;const bn=this.commonObjs,xn=this.objs;let tn;for(;;){if(Pt!==void 0&&Gt===Pt.nextBreakPoint)return Pt.breakIt(Gt,wt),Gt;if(tn=Mt[Gt],tn!==a.OPS.dependency)this[tn].apply(this,kt[Gt]);else for(const sn of kt[Gt]){const Ct=sn.startsWith("g_")?bn:xn;if(!Ct.has(sn))return Ct.get(sn,wt),Gt}if(Gt++,Gt===ln)return Gt;if(dn&&++gn>$){if(Date.now()>hn)return wt(),Gt;gn=0}}}endDrawing(){ut(this,Ft,wx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const vt of this._cachedBitmapsMap.values()){for(const bt of vt.values())typeof HTMLCanvasElement<"u"&&bt instanceof HTMLCanvasElement&&(bt.width=bt.height=0);vt.clear()}this._cachedBitmapsMap.clear(),ut(this,Ft,Ex).call(this)}_scaleImage(vt,bt){const wt=vt.width,Pt=vt.height;let kt=Math.max(Math.hypot(bt[0],bt[1]),1),Mt=Math.max(Math.hypot(bt[2],bt[3]),1),Gt=wt,ln=Pt,dn="prescale1",hn,gn;for(;kt>2&&Gt>1||Mt>2&&ln>1;){let bn=Gt,xn=ln;kt>2&&Gt>1&&(bn=Gt>=16384?Math.floor(Gt/2)-1||1:Math.ceil(Gt/2),kt/=Gt/bn),Mt>2&&ln>1&&(xn=ln>=16384?Math.floor(ln/2)-1||1:Math.ceil(ln)/2,Mt/=ln/xn),hn=this.cachedCanvases.getCanvas(dn,bn,xn),gn=hn.context,gn.clearRect(0,0,bn,xn),gn.drawImage(vt,0,0,Gt,ln,0,0,bn,xn),vt=hn.canvas,Gt=bn,ln=xn,dn=dn==="prescale1"?"prescale2":"prescale1"}return{img:vt,paintWidth:Gt,paintHeight:ln}}_createMaskCanvas(vt){const bt=this.ctx,{width:wt,height:Pt}=vt,kt=this.current.fillColor,Mt=this.current.patternFill,Gt=(0,o.getCurrentTransform)(bt);let ln,dn,hn,gn;if((vt.bitmap||vt.data)&&vt.count>1){const Kt=vt.bitmap||vt.data.buffer;dn=JSON.stringify(Mt?Gt:[Gt.slice(0,4),kt]),ln=this._cachedBitmapsMap.get(Kt),ln||(ln=new Map,this._cachedBitmapsMap.set(Kt,ln));const Pn=ln.get(dn);if(Pn&&!Mt){const Cn=Math.round(Math.min(Gt[0],Gt[2])+Gt[4]),as=Math.round(Math.min(Gt[1],Gt[3])+Gt[5]);return{canvas:Pn,offsetX:Cn,offsetY:as}}hn=Pn}hn||(gn=this.cachedCanvases.getCanvas("maskCanvas",wt,Pt),ct(gn.context,vt));let bn=a.Util.transform(Gt,[1/wt,0,0,-1/Pt,0,0]);bn=a.Util.transform(bn,[1,0,0,1,0,-Pt]);const xn=a.Util.applyTransform([0,0],bn),tn=a.Util.applyTransform([wt,Pt],bn),sn=a.Util.normalizeRect([xn[0],xn[1],tn[0],tn[1]]),Ct=Math.round(sn[2]-sn[0])||1,Dt=Math.round(sn[3]-sn[1])||1,Yt=this.cachedCanvases.getCanvas("fillCanvas",Ct,Dt),rn=Yt.context,fn=Math.min(xn[0],tn[0]),wn=Math.min(xn[1],tn[1]);rn.translate(-fn,-wn),rn.transform(...bn),hn||(hn=this._scaleImage(gn.canvas,(0,o.getCurrentTransformInverse)(rn)),hn=hn.img,ln&&Mt&&ln.set(dn,hn)),rn.imageSmoothingEnabled=At((0,o.getCurrentTransform)(rn),vt.interpolate),rt(rn,hn,0,0,hn.width,hn.height,0,0,wt,Pt),rn.globalCompositeOperation="source-in";const vn=a.Util.transform((0,o.getCurrentTransformInverse)(rn),[1,0,0,1,-fn,-wn]);return rn.fillStyle=Mt?kt.getPattern(bt,this,vn,c.PathType.FILL):kt,rn.fillRect(0,0,wt,Pt),ln&&!Mt&&(this.cachedCanvases.delete("fillCanvas"),ln.set(dn,Yt.canvas)),{canvas:Yt.canvas,offsetX:Math.round(fn),offsetY:Math.round(wn)}}setLineWidth(vt){vt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=vt,this.ctx.lineWidth=vt}setLineCap(vt){this.ctx.lineCap=Rt[vt]}setLineJoin(vt){this.ctx.lineJoin=qt[vt]}setMiterLimit(vt){this.ctx.miterLimit=vt}setDash(vt,bt){const wt=this.ctx;wt.setLineDash!==void 0&&(wt.setLineDash(vt),wt.lineDashOffset=bt)}setRenderingIntent(vt){}setFlatness(vt){}setGState(vt){for(const[bt,wt]of vt)switch(bt){case"LW":this.setLineWidth(wt);break;case"LC":this.setLineCap(wt);break;case"LJ":this.setLineJoin(wt);break;case"ML":this.setMiterLimit(wt);break;case"D":this.setDash(wt[0],wt[1]);break;case"RI":this.setRenderingIntent(wt);break;case"FL":this.setFlatness(wt);break;case"Font":this.setFont(wt[0],wt[1]);break;case"CA":this.current.strokeAlpha=wt;break;case"ca":this.current.fillAlpha=wt,this.ctx.globalAlpha=wt;break;case"BM":this.ctx.globalCompositeOperation=wt;break;case"SMask":this.current.activeSMask=wt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(wt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const vt=this.inSMaskMode;this.current.activeSMask&&!vt?this.beginSMaskMode():!this.current.activeSMask&&vt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const vt=this.ctx.canvas.width,bt=this.ctx.canvas.height,wt="smaskGroupAt"+this.groupLevel,Pt=this.cachedCanvases.getCanvas(wt,vt,bt);this.suspendedCtx=this.ctx,this.ctx=Pt.context;const kt=this.ctx;kt.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),at(this.suspendedCtx,kt),tt(kt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),at(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(vt){if(!this.current.activeSMask)return;vt?(vt[0]=Math.floor(vt[0]),vt[1]=Math.floor(vt[1]),vt[2]=Math.ceil(vt[2]),vt[3]=Math.ceil(vt[3])):vt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const bt=this.current.activeSMask,wt=this.suspendedCtx;mt(wt,bt,this.ctx,vt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(at(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const vt=this.current;this.stateStack.push(vt),this.current=vt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),at(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(vt,bt,wt,Pt,kt,Mt){this.ctx.transform(vt,bt,wt,Pt,kt,Mt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(vt,bt,wt){const Pt=this.ctx,kt=this.current;let Mt=kt.x,Gt=kt.y,ln,dn;const hn=(0,o.getCurrentTransform)(Pt),gn=hn[0]===0&&hn[3]===0||hn[1]===0&&hn[2]===0,bn=gn?wt.slice(0):null;for(let xn=0,tn=0,sn=vt.length;xn<sn;xn++)switch(vt[xn]|0){case a.OPS.rectangle:Mt=bt[tn++],Gt=bt[tn++];const Ct=bt[tn++],Dt=bt[tn++],Yt=Mt+Ct,rn=Gt+Dt;Pt.moveTo(Mt,Gt),Ct===0||Dt===0?Pt.lineTo(Yt,rn):(Pt.lineTo(Yt,Gt),Pt.lineTo(Yt,rn),Pt.lineTo(Mt,rn)),gn||kt.updateRectMinMax(hn,[Mt,Gt,Yt,rn]),Pt.closePath();break;case a.OPS.moveTo:Mt=bt[tn++],Gt=bt[tn++],Pt.moveTo(Mt,Gt),gn||kt.updatePathMinMax(hn,Mt,Gt);break;case a.OPS.lineTo:Mt=bt[tn++],Gt=bt[tn++],Pt.lineTo(Mt,Gt),gn||kt.updatePathMinMax(hn,Mt,Gt);break;case a.OPS.curveTo:ln=Mt,dn=Gt,Mt=bt[tn+4],Gt=bt[tn+5],Pt.bezierCurveTo(bt[tn],bt[tn+1],bt[tn+2],bt[tn+3],Mt,Gt),kt.updateCurvePathMinMax(hn,ln,dn,bt[tn],bt[tn+1],bt[tn+2],bt[tn+3],Mt,Gt,bn),tn+=6;break;case a.OPS.curveTo2:ln=Mt,dn=Gt,Pt.bezierCurveTo(Mt,Gt,bt[tn],bt[tn+1],bt[tn+2],bt[tn+3]),kt.updateCurvePathMinMax(hn,ln,dn,Mt,Gt,bt[tn],bt[tn+1],bt[tn+2],bt[tn+3],bn),Mt=bt[tn+2],Gt=bt[tn+3],tn+=4;break;case a.OPS.curveTo3:ln=Mt,dn=Gt,Mt=bt[tn+2],Gt=bt[tn+3],Pt.bezierCurveTo(bt[tn],bt[tn+1],Mt,Gt,Mt,Gt),kt.updateCurvePathMinMax(hn,ln,dn,bt[tn],bt[tn+1],Mt,Gt,Mt,Gt,bn),tn+=4;break;case a.OPS.closePath:Pt.closePath();break}gn&&kt.updateScalingPathMinMax(hn,bn),kt.setCurrentPoint(Mt,Gt)}closePath(){this.ctx.closePath()}stroke(vt=!0){const bt=this.ctx,wt=this.current.strokeColor;bt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof wt=="object"&&(wt!=null&&wt.getPattern)?(bt.save(),bt.strokeStyle=wt.getPattern(bt,this,(0,o.getCurrentTransformInverse)(bt),c.PathType.STROKE),this.rescaleAndStroke(!1),bt.restore()):this.rescaleAndStroke(!0)),vt&&this.consumePath(this.current.getClippedPathBoundingBox()),bt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(vt=!0){const bt=this.ctx,wt=this.current.fillColor,Pt=this.current.patternFill;let kt=!1;Pt&&(bt.save(),bt.fillStyle=wt.getPattern(bt,this,(0,o.getCurrentTransformInverse)(bt),c.PathType.FILL),kt=!0);const Mt=this.current.getClippedPathBoundingBox();this.contentVisible&&Mt!==null&&(this.pendingEOFill?(bt.fill("evenodd"),this.pendingEOFill=!1):bt.fill()),kt&&bt.restore(),vt&&this.consumePath(Mt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Bt}eoClip(){this.pendingClip=$t}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const vt=this.pendingTextPaths,bt=this.ctx;if(vt===void 0){bt.beginPath();return}bt.save(),bt.beginPath();for(const wt of vt)bt.setTransform(...wt.transform),bt.translate(wt.x,wt.y),wt.addToPath(bt,wt.fontSize);bt.restore(),bt.clip(),bt.beginPath(),delete this.pendingTextPaths}setCharSpacing(vt){this.current.charSpacing=vt}setWordSpacing(vt){this.current.wordSpacing=vt}setHScale(vt){this.current.textHScale=vt/100}setLeading(vt){this.current.leading=-vt}setFont(vt,bt){var hn;const wt=this.commonObjs.get(vt),Pt=this.current;if(!wt)throw new Error(`Can't find font for ${vt}`);if(Pt.fontMatrix=wt.fontMatrix||a.FONT_IDENTITY_MATRIX,(Pt.fontMatrix[0]===0||Pt.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+vt),bt<0?(bt=-bt,Pt.fontDirection=-1):Pt.fontDirection=1,this.current.font=wt,this.current.fontSize=bt,wt.isType3Font)return;const kt=wt.loadedName||"sans-serif",Mt=((hn=wt.systemFontInfo)==null?void 0:hn.css)||`"${kt}", ${wt.fallbackName}`;let Gt="normal";wt.black?Gt="900":wt.bold&&(Gt="bold");const ln=wt.italic?"italic":"normal";let dn=bt;bt<g?dn=g:bt>b&&(dn=b),this.current.fontSizeScale=bt/dn,this.ctx.font=`${ln} ${Gt} ${dn}px ${Mt}`}setTextRenderingMode(vt){this.current.textRenderingMode=vt}setTextRise(vt){this.current.textRise=vt}moveText(vt,bt){this.current.x=this.current.lineX+=vt,this.current.y=this.current.lineY+=bt}setLeadingMoveText(vt,bt){this.setLeading(-bt),this.moveText(vt,bt)}setTextMatrix(vt,bt,wt,Pt,kt,Mt){this.current.textMatrix=[vt,bt,wt,Pt,kt,Mt],this.current.textMatrixScale=Math.hypot(vt,bt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(vt,bt,wt,Pt){const kt=this.ctx,Mt=this.current,Gt=Mt.font,ln=Mt.textRenderingMode,dn=Mt.fontSize/Mt.fontSizeScale,hn=ln&a.TextRenderingMode.FILL_STROKE_MASK,gn=!!(ln&a.TextRenderingMode.ADD_TO_PATH_FLAG),bn=Mt.patternFill&&!Gt.missingFile;let xn;(Gt.disableFontFace||gn||bn)&&(xn=Gt.getPathGenerator(this.commonObjs,vt)),Gt.disableFontFace||bn?(kt.save(),kt.translate(bt,wt),kt.beginPath(),xn(kt,dn),Pt&&kt.setTransform(...Pt),(hn===a.TextRenderingMode.FILL||hn===a.TextRenderingMode.FILL_STROKE)&&kt.fill(),(hn===a.TextRenderingMode.STROKE||hn===a.TextRenderingMode.FILL_STROKE)&&kt.stroke(),kt.restore()):((hn===a.TextRenderingMode.FILL||hn===a.TextRenderingMode.FILL_STROKE)&&kt.fillText(vt,bt,wt),(hn===a.TextRenderingMode.STROKE||hn===a.TextRenderingMode.FILL_STROKE)&&kt.strokeText(vt,bt,wt)),gn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(kt),x:bt,y:wt,fontSize:dn,addToPath:xn})}get isFontSubpixelAAEnabled(){const{context:vt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);vt.scale(1.5,1),vt.fillText("I",0,10);const bt=vt.getImageData(0,0,10,10).data;let wt=!1;for(let Pt=3;Pt<bt.length;Pt+=4)if(bt[Pt]>0&&bt[Pt]<255){wt=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",wt)}showText(vt){const bt=this.current,wt=bt.font;if(wt.isType3Font)return this.showType3Text(vt);const Pt=bt.fontSize;if(Pt===0)return;const kt=this.ctx,Mt=bt.fontSizeScale,Gt=bt.charSpacing,ln=bt.wordSpacing,dn=bt.fontDirection,hn=bt.textHScale*dn,gn=vt.length,bn=wt.vertical,xn=bn?1:-1,tn=wt.defaultVMetrics,sn=Pt*bt.fontMatrix[0],Ct=bt.textRenderingMode===a.TextRenderingMode.FILL&&!wt.disableFontFace&&!bt.patternFill;kt.save(),kt.transform(...bt.textMatrix),kt.translate(bt.x,bt.y+bt.textRise),dn>0?kt.scale(hn,-1):kt.scale(hn,1);let Dt;if(bt.patternFill){kt.save();const vn=bt.fillColor.getPattern(kt,this,(0,o.getCurrentTransformInverse)(kt),c.PathType.FILL);Dt=(0,o.getCurrentTransform)(kt),kt.restore(),kt.fillStyle=vn}let Yt=bt.lineWidth;const rn=bt.textMatrixScale;if(rn===0||Yt===0){const vn=bt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(vn===a.TextRenderingMode.STROKE||vn===a.TextRenderingMode.FILL_STROKE)&&(Yt=this.getSinglePixelWidth())}else Yt/=rn;if(Mt!==1&&(kt.scale(Mt,Mt),Yt/=Mt),kt.lineWidth=Yt,wt.isInvalidPDFjsFont){const vn=[];let Kt=0;for(const Pn of vt)vn.push(Pn.unicode),Kt+=Pn.width;kt.fillText(vn.join(""),0,0),bt.x+=Kt*sn*hn,kt.restore(),this.compose();return}let fn=0,wn;for(wn=0;wn<gn;++wn){const vn=vt[wn];if(typeof vn=="number"){fn+=xn*vn*Pt/1e3;continue}let Kt=!1;const Pn=(vn.isSpace?ln:0)+Gt,Cn=vn.fontChar,as=vn.accent;let _i,ys,Dn=vn.width;if(bn){const ds=vn.vmetric||tn,Ts=-(vn.vmetric?ds[1]:Dn*.5)*sn,mn=ds[2]*sn;Dn=ds?-ds[0]:Dn,_i=Ts/Mt,ys=(fn+mn)/Mt}else _i=fn/Mt,ys=0;if(wt.remeasure&&Dn>0){const ds=kt.measureText(Cn).width*1e3/Pt*Mt;if(Dn<ds&&this.isFontSubpixelAAEnabled){const Ts=Dn/ds;Kt=!0,kt.save(),kt.scale(Ts,1),_i/=Ts}else Dn!==ds&&(_i+=(Dn-ds)/2e3*Pt/Mt)}if(this.contentVisible&&(vn.isInFont||wt.missingFile)){if(Ct&&!as)kt.fillText(Cn,_i,ys);else if(this.paintChar(Cn,_i,ys,Dt),as){const ds=_i+Pt*as.offset.x/Mt,Ts=ys-Pt*as.offset.y/Mt;this.paintChar(as.fontChar,ds,Ts,Dt)}}const qn=bn?Dn*sn-Pn*dn:Dn*sn+Pn*dn;fn+=qn,Kt&&kt.restore()}bn?bt.y-=fn:bt.x+=fn*hn,kt.restore(),this.compose()}showType3Text(vt){const bt=this.ctx,wt=this.current,Pt=wt.font,kt=wt.fontSize,Mt=wt.fontDirection,Gt=Pt.vertical?1:-1,ln=wt.charSpacing,dn=wt.wordSpacing,hn=wt.textHScale*Mt,gn=wt.fontMatrix||a.FONT_IDENTITY_MATRIX,bn=vt.length,xn=wt.textRenderingMode===a.TextRenderingMode.INVISIBLE;let tn,sn,Ct,Dt;if(!(xn||kt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,bt.save(),bt.transform(...wt.textMatrix),bt.translate(wt.x,wt.y),bt.scale(hn,Mt),tn=0;tn<bn;++tn){if(sn=vt[tn],typeof sn=="number"){Dt=Gt*sn*kt/1e3,this.ctx.translate(Dt,0),wt.x+=Dt*hn;continue}const Yt=(sn.isSpace?dn:0)+ln,rn=Pt.charProcOperatorList[sn.operatorListId];if(!rn){(0,a.warn)(`Type3 character "${sn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=sn,this.save(),bt.scale(kt,kt),bt.transform(...gn),this.executeOperatorList(rn),this.restore()),Ct=a.Util.applyTransform([sn.width,0],gn)[0]*kt+Yt,bt.translate(Ct,0),wt.x+=Ct*hn}bt.restore(),this.processingType3=null}}setCharWidth(vt,bt){}setCharWidthAndBounds(vt,bt,wt,Pt,kt,Mt){this.ctx.rect(wt,Pt,kt-wt,Mt-Pt),this.ctx.clip(),this.endPath()}getColorN_Pattern(vt){let bt;if(vt[0]==="TilingPattern"){const wt=vt[1],Pt=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),kt={createCanvasGraphics:Mt=>new zt(Mt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};bt=new c.TilingPattern(vt,wt,this.ctx,kt,Pt)}else bt=this._getPattern(vt[1],vt[2]);return bt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(vt,bt,wt){const Pt=a.Util.makeHexColor(vt,bt,wt);this.ctx.strokeStyle=Pt,this.current.strokeColor=Pt}setFillRGBColor(vt,bt,wt){const Pt=a.Util.makeHexColor(vt,bt,wt);this.ctx.fillStyle=Pt,this.current.fillColor=Pt,this.current.patternFill=!1}_getPattern(vt,bt=null){let wt;return this.cachedPatterns.has(vt)?wt=this.cachedPatterns.get(vt):(wt=(0,c.getShadingPattern)(this.getObject(vt)),this.cachedPatterns.set(vt,wt)),bt&&(wt.matrix=bt),wt}shadingFill(vt){if(!this.contentVisible)return;const bt=this.ctx;this.save();const wt=this._getPattern(vt);bt.fillStyle=wt.getPattern(bt,this,(0,o.getCurrentTransformInverse)(bt),c.PathType.SHADING);const Pt=(0,o.getCurrentTransformInverse)(bt);if(Pt){const{width:kt,height:Mt}=bt.canvas,[Gt,ln,dn,hn]=a.Util.getAxialAlignedBoundingBox([0,0,kt,Mt],Pt);this.ctx.fillRect(Gt,ln,dn-Gt,hn-ln)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(vt,bt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(vt)&&vt.length===6&&this.transform(...vt),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),bt)){const wt=bt[2]-bt[0],Pt=bt[3]-bt[1];this.ctx.rect(bt[0],bt[1],wt,Pt),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),bt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(vt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const bt=this.ctx;vt.isolated||(0,a.info)("TODO: Support non-isolated groups."),vt.knockout&&(0,a.warn)("Knockout groups not supported.");const wt=(0,o.getCurrentTransform)(bt);if(vt.matrix&&bt.transform(...vt.matrix),!vt.bbox)throw new Error("Bounding box is required.");let Pt=a.Util.getAxialAlignedBoundingBox(vt.bbox,(0,o.getCurrentTransform)(bt));const kt=[0,0,bt.canvas.width,bt.canvas.height];Pt=a.Util.intersect(Pt,kt)||[0,0,0,0];const Mt=Math.floor(Pt[0]),Gt=Math.floor(Pt[1]);let ln=Math.max(Math.ceil(Pt[2])-Mt,1),dn=Math.max(Math.ceil(Pt[3])-Gt,1),hn=1,gn=1;ln>_&&(hn=ln/_,ln=_),dn>_&&(gn=dn/_,dn=_),this.current.startNewPathAndClipBox([0,0,ln,dn]);let bn="groupAt"+this.groupLevel;vt.smask&&(bn+="_smask_"+this.smaskCounter++%2);const xn=this.cachedCanvases.getCanvas(bn,ln,dn),tn=xn.context;tn.scale(1/hn,1/gn),tn.translate(-Mt,-Gt),tn.transform(...wt),vt.smask?this.smaskStack.push({canvas:xn.canvas,context:tn,offsetX:Mt,offsetY:Gt,scaleX:hn,scaleY:gn,subtype:vt.smask.subtype,backdrop:vt.smask.backdrop,transferMap:vt.smask.transferMap||null,startTransformInverse:null}):(bt.setTransform(1,0,0,1,0,0),bt.translate(Mt,Gt),bt.scale(hn,gn),bt.save()),at(bt,tn),this.ctx=tn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(bt),this.groupLevel++}endGroup(vt){if(!this.contentVisible)return;this.groupLevel--;const bt=this.ctx,wt=this.groupStack.pop();if(this.ctx=wt,this.ctx.imageSmoothingEnabled=!1,vt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Pt=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Pt);const kt=a.Util.getAxialAlignedBoundingBox([0,0,bt.canvas.width,bt.canvas.height],Pt);this.ctx.drawImage(bt.canvas,0,0),this.ctx.restore(),this.compose(kt)}}beginAnnotation(vt,bt,wt,Pt,kt){if(ut(this,Ft,wx).call(this),ht(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(bt)&&bt.length===4){const Mt=bt[2]-bt[0],Gt=bt[3]-bt[1];if(kt&&this.annotationCanvasMap){wt=wt.slice(),wt[4]-=bt[0],wt[5]-=bt[1],bt=bt.slice(),bt[0]=bt[1]=0,bt[2]=Mt,bt[3]=Gt;const[ln,dn]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:hn}=this,gn=Math.ceil(Mt*this.outputScaleX*hn),bn=Math.ceil(Gt*this.outputScaleY*hn);this.annotationCanvas=this.canvasFactory.create(gn,bn);const{canvas:xn,context:tn}=this.annotationCanvas;this.annotationCanvasMap.set(vt,xn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=tn,this.ctx.save(),this.ctx.setTransform(ln,0,0,-dn,0,Gt*dn),ht(this.ctx)}else ht(this.ctx),this.ctx.rect(bt[0],bt[1],Mt,Gt),this.ctx.clip(),this.endPath()}this.current=new st(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...wt),this.transform(...Pt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ut(this,Ft,Ex).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(vt){if(!this.contentVisible)return;const bt=vt.count;vt=this.getObject(vt.data,vt),vt.count=bt;const wt=this.ctx,Pt=this.processingType3;if(Pt&&(Pt.compiled===void 0&&(Pt.compiled=nt(vt)),Pt.compiled)){Pt.compiled(wt);return}const kt=this._createMaskCanvas(vt),Mt=kt.canvas;wt.save(),wt.setTransform(1,0,0,1,0,0),wt.drawImage(Mt,kt.offsetX,kt.offsetY),wt.restore(),this.compose()}paintImageMaskXObjectRepeat(vt,bt,wt=0,Pt=0,kt,Mt){if(!this.contentVisible)return;vt=this.getObject(vt.data,vt);const Gt=this.ctx;Gt.save();const ln=(0,o.getCurrentTransform)(Gt);Gt.transform(bt,wt,Pt,kt,0,0);const dn=this._createMaskCanvas(vt);Gt.setTransform(1,0,0,1,dn.offsetX-ln[4],dn.offsetY-ln[5]);for(let hn=0,gn=Mt.length;hn<gn;hn+=2){const bn=a.Util.transform(ln,[bt,wt,Pt,kt,Mt[hn],Mt[hn+1]]),[xn,tn]=a.Util.applyTransform([0,0],bn);Gt.drawImage(dn.canvas,xn,tn)}Gt.restore(),this.compose()}paintImageMaskXObjectGroup(vt){if(!this.contentVisible)return;const bt=this.ctx,wt=this.current.fillColor,Pt=this.current.patternFill;for(const kt of vt){const{data:Mt,width:Gt,height:ln,transform:dn}=kt,hn=this.cachedCanvases.getCanvas("maskCanvas",Gt,ln),gn=hn.context;gn.save();const bn=this.getObject(Mt,kt);ct(gn,bn),gn.globalCompositeOperation="source-in",gn.fillStyle=Pt?wt.getPattern(gn,this,(0,o.getCurrentTransformInverse)(bt),c.PathType.FILL):wt,gn.fillRect(0,0,Gt,ln),gn.restore(),bt.save(),bt.transform(...dn),bt.scale(1,-1),rt(bt,hn.canvas,0,0,Gt,ln,0,-1,1,1),bt.restore()}this.compose()}paintImageXObject(vt){if(!this.contentVisible)return;const bt=this.getObject(vt);if(!bt){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(bt)}paintImageXObjectRepeat(vt,bt,wt,Pt){if(!this.contentVisible)return;const kt=this.getObject(vt);if(!kt){(0,a.warn)("Dependent image isn't ready yet");return}const Mt=kt.width,Gt=kt.height,ln=[];for(let dn=0,hn=Pt.length;dn<hn;dn+=2)ln.push({transform:[bt,0,0,wt,Pt[dn],Pt[dn+1]],x:0,y:0,w:Mt,h:Gt});this.paintInlineImageXObjectGroup(kt,ln)}applyTransferMapsToCanvas(vt){return this.current.transferMaps!=="none"&&(vt.filter=this.current.transferMaps,vt.drawImage(vt.canvas,0,0),vt.filter="none"),vt.canvas}applyTransferMapsToBitmap(vt){if(this.current.transferMaps==="none")return vt.bitmap;const{bitmap:bt,width:wt,height:Pt}=vt,kt=this.cachedCanvases.getCanvas("inlineImage",wt,Pt),Mt=kt.context;return Mt.filter=this.current.transferMaps,Mt.drawImage(bt,0,0),Mt.filter="none",kt.canvas}paintInlineImageXObject(vt){if(!this.contentVisible)return;const bt=vt.width,wt=vt.height,Pt=this.ctx;if(this.save(),!a.isNodeJS){const{filter:Gt}=Pt;Gt!=="none"&&Gt!==""&&(Pt.filter="none")}Pt.scale(1/bt,-1/wt);let kt;if(vt.bitmap)kt=this.applyTransferMapsToBitmap(vt);else if(typeof HTMLElement=="function"&&vt instanceof HTMLElement||!vt.data)kt=vt;else{const ln=this.cachedCanvases.getCanvas("inlineImage",bt,wt).context;ot(ln,vt),kt=this.applyTransferMapsToCanvas(ln)}const Mt=this._scaleImage(kt,(0,o.getCurrentTransformInverse)(Pt));Pt.imageSmoothingEnabled=At((0,o.getCurrentTransform)(Pt),vt.interpolate),rt(Pt,Mt.img,0,0,Mt.paintWidth,Mt.paintHeight,0,-wt,bt,wt),this.compose(),this.restore()}paintInlineImageXObjectGroup(vt,bt){if(!this.contentVisible)return;const wt=this.ctx;let Pt;if(vt.bitmap)Pt=vt.bitmap;else{const kt=vt.width,Mt=vt.height,ln=this.cachedCanvases.getCanvas("inlineImage",kt,Mt).context;ot(ln,vt),Pt=this.applyTransferMapsToCanvas(ln)}for(const kt of bt)wt.save(),wt.transform(...kt.transform),wt.scale(1,-1),rt(wt,Pt,kt.x,kt.y,kt.w,kt.h,0,-1,1,1),wt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(vt){}markPointProps(vt,bt){}beginMarkedContent(vt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(vt,bt){vt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(bt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(vt){const bt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(vt);const wt=this.ctx;this.pendingClip&&(bt||(this.pendingClip===$t?wt.clip("evenodd"):wt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),wt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const vt=(0,o.getCurrentTransform)(this.ctx);if(vt[1]===0&&vt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(vt[0]),Math.abs(vt[3]));else{const bt=Math.abs(vt[0]*vt[3]-vt[2]*vt[1]),wt=Math.hypot(vt[0],vt[2]),Pt=Math.hypot(vt[1],vt[3]);this._cachedGetSinglePixelWidth=Math.max(wt,Pt)/bt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:vt}=this.current,{a:bt,b:wt,c:Pt,d:kt}=this.ctx.getTransform();let Mt,Gt;if(wt===0&&Pt===0){const ln=Math.abs(bt),dn=Math.abs(kt);if(ln===dn)if(vt===0)Mt=Gt=1/ln;else{const hn=ln*vt;Mt=Gt=hn<1?1/hn:1}else if(vt===0)Mt=1/ln,Gt=1/dn;else{const hn=ln*vt,gn=dn*vt;Mt=hn<1?1/hn:1,Gt=gn<1?1/gn:1}}else{const ln=Math.abs(bt*kt-wt*Pt),dn=Math.hypot(bt,wt),hn=Math.hypot(Pt,kt);if(vt===0)Mt=hn/ln,Gt=dn/ln;else{const gn=vt*ln;Mt=hn>gn?hn/gn:1,Gt=dn>gn?dn/gn:1}}this._cachedScaleForStroking[0]=Mt,this._cachedScaleForStroking[1]=Gt}return this._cachedScaleForStroking}rescaleAndStroke(vt){const{ctx:bt}=this,{lineWidth:wt}=this.current,[Pt,kt]=this.getScaleForStroking();if(bt.lineWidth=wt||1,Pt===1&&kt===1){bt.stroke();return}const Mt=bt.getLineDash();if(vt&&bt.save(),bt.scale(Pt,kt),Mt.length>0){const Gt=Math.max(Pt,kt);bt.setLineDash(Mt.map(ln=>ln/Gt)),bt.lineDashOffset/=Gt}bt.stroke(),vt&&bt.restore()}isContentVisible(){for(let vt=this.markedContentStack.length-1;vt>=0;vt--)if(!this.markedContentStack[vt].visible)return!1;return!0}};Ft=new WeakSet,wx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ex=function(){if(this.pageColors){const vt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(vt!=="none"){const bt=this.ctx.filter;this.ctx.filter=vt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=bt}}};let jt=zt;e.CanvasGraphics=jt;for(const _t in a.OPS)jt.prototype[_t]!==void 0&&(jt.prototype[a.OPS[_t]]=jt.prototype[_t])},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=et;var a=i(1),o=i(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=c;function d(nt,st){if(!st)return;const ot=st[2]-st[0],ct=st[3]-st[1],at=new Path2D;at.rect(st[0],st[1],ot,ct),nt.clip(at)}class g{constructor(){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class b extends g{constructor(st){super(),this._type=st[1],this._bbox=st[2],this._colorStops=st[3],this._p0=st[4],this._p1=st[5],this._r0=st[6],this._r1=st[7],this.matrix=null}_createGradient(st){let ot;this._type==="axial"?ot=st.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ot=st.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ct of this._colorStops)ot.addColorStop(ct[0],ct[1]);return ot}getPattern(st,ot,ct,at){let ht;if(at===c.STROKE||at===c.FILL){const lt=ot.current.getClippedPathBoundingBox(at,(0,o.getCurrentTransform)(st))||[0,0,0,0],ft=Math.ceil(lt[2]-lt[0])||1,yt=Math.ceil(lt[3]-lt[1])||1,Et=ot.cachedCanvases.getCanvas("pattern",ft,yt,!0),mt=Et.context;mt.clearRect(0,0,mt.canvas.width,mt.canvas.height),mt.beginPath(),mt.rect(0,0,mt.canvas.width,mt.canvas.height),mt.translate(-lt[0],-lt[1]),ct=a.Util.transform(ct,[1,0,0,1,lt[0],lt[1]]),mt.transform(...ot.baseTransform),this.matrix&&mt.transform(...this.matrix),d(mt,this._bbox),mt.fillStyle=this._createGradient(mt),mt.fill(),ht=st.createPattern(Et.canvas,"no-repeat");const At=new DOMMatrix(ct);ht.setTransform(At)}else d(st,this._bbox),ht=this._createGradient(st);return ht}}function _(nt,st,ot,ct,at,ht,lt,ft){const yt=st.coords,Et=st.colors,mt=nt.data,At=nt.width*4;let Rt;yt[ot+1]>yt[ct+1]&&(Rt=ot,ot=ct,ct=Rt,Rt=ht,ht=lt,lt=Rt),yt[ct+1]>yt[at+1]&&(Rt=ct,ct=at,at=Rt,Rt=lt,lt=ft,ft=Rt),yt[ot+1]>yt[ct+1]&&(Rt=ot,ot=ct,ct=Rt,Rt=ht,ht=lt,lt=Rt);const qt=(yt[ot]+st.offsetX)*st.scaleX,Bt=(yt[ot+1]+st.offsetY)*st.scaleY,$t=(yt[ct]+st.offsetX)*st.scaleX,jt=(yt[ct+1]+st.offsetY)*st.scaleY,Ft=(yt[at]+st.offsetX)*st.scaleX,St=(yt[at+1]+st.offsetY)*st.scaleY;if(Bt>=St)return;const It=Et[ht],zt=Et[ht+1],_t=Et[ht+2],vt=Et[lt],bt=Et[lt+1],wt=Et[lt+2],Pt=Et[ft],kt=Et[ft+1],Mt=Et[ft+2],Gt=Math.round(Bt),ln=Math.round(St);let dn,hn,gn,bn,xn,tn,sn,Ct;for(let Dt=Gt;Dt<=ln;Dt++){if(Dt<jt){const vn=Dt<Bt?0:(Bt-Dt)/(Bt-jt);dn=qt-(qt-$t)*vn,hn=It-(It-vt)*vn,gn=zt-(zt-bt)*vn,bn=_t-(_t-wt)*vn}else{let vn;Dt>St?vn=1:jt===St?vn=0:vn=(jt-Dt)/(jt-St),dn=$t-($t-Ft)*vn,hn=vt-(vt-Pt)*vn,gn=bt-(bt-kt)*vn,bn=wt-(wt-Mt)*vn}let Yt;Dt<Bt?Yt=0:Dt>St?Yt=1:Yt=(Bt-Dt)/(Bt-St),xn=qt-(qt-Ft)*Yt,tn=It-(It-Pt)*Yt,sn=zt-(zt-kt)*Yt,Ct=_t-(_t-Mt)*Yt;const rn=Math.round(Math.min(dn,xn)),fn=Math.round(Math.max(dn,xn));let wn=At*Dt+rn*4;for(let vn=rn;vn<=fn;vn++)Yt=(dn-vn)/(dn-xn),Yt<0?Yt=0:Yt>1&&(Yt=1),mt[wn++]=hn-(hn-tn)*Yt|0,mt[wn++]=gn-(gn-sn)*Yt|0,mt[wn++]=bn-(bn-Ct)*Yt|0,mt[wn++]=255}}function j(nt,st,ot){const ct=st.coords,at=st.colors;let ht,lt;switch(st.type){case"lattice":const ft=st.verticesPerRow,yt=Math.floor(ct.length/ft)-1,Et=ft-1;for(ht=0;ht<yt;ht++){let mt=ht*ft;for(let At=0;At<Et;At++,mt++)_(nt,ot,ct[mt],ct[mt+1],ct[mt+ft],at[mt],at[mt+1],at[mt+ft]),_(nt,ot,ct[mt+ft+1],ct[mt+1],ct[mt+ft],at[mt+ft+1],at[mt+1],at[mt+ft])}break;case"triangles":for(ht=0,lt=ct.length;ht<lt;ht+=3)_(nt,ot,ct[ht],ct[ht+1],ct[ht+2],at[ht],at[ht+1],at[ht+2]);break;default:throw new Error("illegal figure")}}class $ extends g{constructor(st){super(),this._coords=st[2],this._colors=st[3],this._figures=st[4],this._bounds=st[5],this._bbox=st[7],this._background=st[8],this.matrix=null}_createMeshCanvas(st,ot,ct){const ft=Math.floor(this._bounds[0]),yt=Math.floor(this._bounds[1]),Et=Math.ceil(this._bounds[2])-ft,mt=Math.ceil(this._bounds[3])-yt,At=Math.min(Math.ceil(Math.abs(Et*st[0]*1.1)),3e3),Rt=Math.min(Math.ceil(Math.abs(mt*st[1]*1.1)),3e3),qt=Et/At,Bt=mt/Rt,$t={coords:this._coords,colors:this._colors,offsetX:-ft,offsetY:-yt,scaleX:1/qt,scaleY:1/Bt},jt=At+2*2,Ft=Rt+2*2,St=ct.getCanvas("mesh",jt,Ft,!1),It=St.context,zt=It.createImageData(At,Rt);if(ot){const vt=zt.data;for(let bt=0,wt=vt.length;bt<wt;bt+=4)vt[bt]=ot[0],vt[bt+1]=ot[1],vt[bt+2]=ot[2],vt[bt+3]=255}for(const vt of this._figures)j(zt,vt,$t);return It.putImageData(zt,2,2),{canvas:St.canvas,offsetX:ft-2*qt,offsetY:yt-2*Bt,scaleX:qt,scaleY:Bt}}getPattern(st,ot,ct,at){d(st,this._bbox);let ht;if(at===c.SHADING)ht=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(st));else if(ht=a.Util.singularValueDecompose2dScale(ot.baseTransform),this.matrix){const ft=a.Util.singularValueDecompose2dScale(this.matrix);ht=[ht[0]*ft[0],ht[1]*ft[1]]}const lt=this._createMeshCanvas(ht,at===c.SHADING?null:this._background,ot.cachedCanvases);return at!==c.SHADING&&(st.setTransform(...ot.baseTransform),this.matrix&&st.transform(...this.matrix)),st.translate(lt.offsetX,lt.offsetY),st.scale(lt.scaleX,lt.scaleY),st.createPattern(lt.canvas,"no-repeat")}}class _e extends g{getPattern(){return"hotpink"}}function et(nt){switch(nt[0]){case"RadialAxial":return new b(nt);case"Mesh":return new $(nt);case"Dummy":return new _e}throw new Error(`Unknown IR type: ${nt[0]}`)}const tt={COLORED:1,UNCOLORED:2},rt=class rt{constructor(st,ot,ct,at,ht){this.operatorList=st[2],this.matrix=st[3]||[1,0,0,1,0,0],this.bbox=st[4],this.xstep=st[5],this.ystep=st[6],this.paintType=st[7],this.tilingType=st[8],this.color=ot,this.ctx=ct,this.canvasGraphicsFactory=at,this.baseTransform=ht}createPatternCanvas(st){const ot=this.operatorList,ct=this.bbox,at=this.xstep,ht=this.ystep,lt=this.paintType,ft=this.tilingType,yt=this.color,Et=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+ft);const mt=ct[0],At=ct[1],Rt=ct[2],qt=ct[3],Bt=a.Util.singularValueDecompose2dScale(this.matrix),$t=a.Util.singularValueDecompose2dScale(this.baseTransform),jt=[Bt[0]*$t[0],Bt[1]*$t[1]],Ft=this.getSizeAndScale(at,this.ctx.canvas.width,jt[0]),St=this.getSizeAndScale(ht,this.ctx.canvas.height,jt[1]),It=st.cachedCanvases.getCanvas("pattern",Ft.size,St.size,!0),zt=It.context,_t=Et.createCanvasGraphics(zt);_t.groupLevel=st.groupLevel,this.setFillAndStrokeStyleToContext(_t,lt,yt);let vt=mt,bt=At,wt=Rt,Pt=qt;return mt<0&&(vt=0,wt+=Math.abs(mt)),At<0&&(bt=0,Pt+=Math.abs(At)),zt.translate(-(Ft.scale*vt),-(St.scale*bt)),_t.transform(Ft.scale,0,0,St.scale,0,0),zt.save(),this.clipBbox(_t,vt,bt,wt,Pt),_t.baseTransform=(0,o.getCurrentTransform)(_t.ctx),_t.executeOperatorList(ot),_t.endDrawing(),{canvas:It.canvas,scaleX:Ft.scale,scaleY:St.scale,offsetX:vt,offsetY:bt}}getSizeAndScale(st,ot,ct){st=Math.abs(st);const at=Math.max(rt.MAX_PATTERN_SIZE,ot);let ht=Math.ceil(st*ct);return ht>=at?ht=at:ct=ht/st,{scale:ct,size:ht}}clipBbox(st,ot,ct,at,ht){const lt=at-ot,ft=ht-ct;st.ctx.rect(ot,ct,lt,ft),st.current.updateRectMinMax((0,o.getCurrentTransform)(st.ctx),[ot,ct,at,ht]),st.clip(),st.endPath()}setFillAndStrokeStyleToContext(st,ot,ct){const at=st.ctx,ht=st.current;switch(ot){case tt.COLORED:const lt=this.ctx;at.fillStyle=lt.fillStyle,at.strokeStyle=lt.strokeStyle,ht.fillColor=lt.fillStyle,ht.strokeColor=lt.strokeStyle;break;case tt.UNCOLORED:const ft=a.Util.makeHexColor(ct[0],ct[1],ct[2]);at.fillStyle=ft,at.strokeStyle=ft,ht.fillColor=ft,ht.strokeColor=ft;break;default:throw new a.FormatError(`Unsupported paint type: ${ot}`)}}getPattern(st,ot,ct,at){let ht=ct;at!==c.SHADING&&(ht=a.Util.transform(ht,ot.baseTransform),this.matrix&&(ht=a.Util.transform(ht,this.matrix)));const lt=this.createPatternCanvas(ot);let ft=new DOMMatrix(ht);ft=ft.translate(lt.offsetX,lt.offsetY),ft=ft.scale(1/lt.scaleX,1/lt.scaleY);const yt=st.createPattern(lt.canvas,"repeat");return yt.setTransform(ft),yt}};Xn(rt,"MAX_PATTERN_SIZE",3e3);let it=rt;e.TilingPattern=it},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=c,e.convertToRGBA=o,e.grayToRGBA=g;var a=i(1);function o(b){switch(b.kind){case a.ImageKind.GRAYSCALE_1BPP:return c(b);case a.ImageKind.RGB_24BPP:return d(b)}return null}function c({src:b,srcPos:_=0,dest:j,width:$,height:_e,nonBlackColor:et=4294967295,inverseDecode:tt=!1}){const it=a.FeatureTest.isLittleEndian?4278190080:255,[rt,nt]=tt?[et,it]:[it,et],st=$>>3,ot=$&7,ct=b.length;j=new Uint32Array(j.buffer);let at=0;for(let ht=0;ht<_e;ht++){for(const ft=_+st;_<ft;_++){const yt=_<ct?b[_]:255;j[at++]=yt&128?nt:rt,j[at++]=yt&64?nt:rt,j[at++]=yt&32?nt:rt,j[at++]=yt&16?nt:rt,j[at++]=yt&8?nt:rt,j[at++]=yt&4?nt:rt,j[at++]=yt&2?nt:rt,j[at++]=yt&1?nt:rt}if(ot===0)continue;const lt=_<ct?b[_++]:255;for(let ft=0;ft<ot;ft++)j[at++]=lt&1<<7-ft?nt:rt}return{srcPos:_,destPos:at}}function d({src:b,srcPos:_=0,dest:j,destPos:$=0,width:_e,height:et}){let tt=0;const it=b.length>>2,rt=new Uint32Array(b.buffer,_,it);if(a.FeatureTest.isLittleEndian){for(;tt<it-2;tt+=3,$+=4){const nt=rt[tt],st=rt[tt+1],ot=rt[tt+2];j[$]=nt|4278190080,j[$+1]=nt>>>24|st<<8|4278190080,j[$+2]=st>>>16|ot<<16|4278190080,j[$+3]=ot>>>8|4278190080}for(let nt=tt*4,st=b.length;nt<st;nt+=3)j[$++]=b[nt]|b[nt+1]<<8|b[nt+2]<<16|4278190080}else{for(;tt<it-2;tt+=3,$+=4){const nt=rt[tt],st=rt[tt+1],ot=rt[tt+2];j[$]=nt|255,j[$+1]=nt<<24|st>>>8|255,j[$+2]=st<<16|ot>>>16|255,j[$+3]=ot<<8|255}for(let nt=tt*4,st=b.length;nt<st;nt+=3)j[$++]=b[nt]<<24|b[nt+1]<<16|b[nt+2]<<8|255}return{srcPos:_,destPos:$}}function g(b,_){if(a.FeatureTest.isLittleEndian)for(let j=0,$=b.length;j<$;j++)_[j]=b[j]*65793|4278190080;else for(let j=0,$=b.length;j<$;j++)_[j]=b[j]*16843008|255}},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const i=Object.create(null);e.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(s,e,i)=>{var b,mE,vE,qy;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var a=i(1);const o={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new a.AbortException(_e.message);case"MissingPDFException":return new a.MissingPDFException(_e.message);case"PasswordException":return new a.PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new a.UnknownErrorException(_e.message,_e.details);default:return new a.UnknownErrorException(_e.message,_e.toString())}}class g{constructor(et,tt,it){pt(this,b);this.sourceName=et,this.targetName=tt,this.comObj=it,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=rt=>{const nt=rt.data;if(nt.targetName!==this.sourceName)return;if(nt.stream){ut(this,b,vE).call(this,nt);return}if(nt.callback){const ot=nt.callbackId,ct=this.callbackCapabilities[ot];if(!ct)throw new Error(`Cannot resolve callback ${ot}`);if(delete this.callbackCapabilities[ot],nt.callback===o.DATA)ct.resolve(nt.data);else if(nt.callback===o.ERROR)ct.reject(d(nt.reason));else throw new Error("Unexpected callback case");return}const st=this.actionHandler[nt.action];if(!st)throw new Error(`Unknown action from worker: ${nt.action}`);if(nt.callbackId){const ot=this.sourceName,ct=nt.sourceName;new Promise(function(at){at(st(nt.data))}).then(function(at){it.postMessage({sourceName:ot,targetName:ct,callback:o.DATA,callbackId:nt.callbackId,data:at})},function(at){it.postMessage({sourceName:ot,targetName:ct,callback:o.ERROR,callbackId:nt.callbackId,reason:d(at)})});return}if(nt.streamId){ut(this,b,mE).call(this,nt);return}st(nt.data)},it.addEventListener("message",this._onComObjOnMessage)}on(et,tt){const it=this.actionHandler;if(it[et])throw new Error(`There is already an actionName called "${et}"`);it[et]=tt}send(et,tt,it){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:et,data:tt},it)}sendWithPromise(et,tt,it){const rt=this.callbackId++,nt=new a.PromiseCapability;this.callbackCapabilities[rt]=nt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:et,callbackId:rt,data:tt},it)}catch(st){nt.reject(st)}return nt.promise}sendWithStream(et,tt,it,rt){const nt=this.streamId++,st=this.sourceName,ot=this.targetName,ct=this.comObj;return new ReadableStream({start:at=>{const ht=new a.PromiseCapability;return this.streamControllers[nt]={controller:at,startCall:ht,pullCall:null,cancelCall:null,isClosed:!1},ct.postMessage({sourceName:st,targetName:ot,action:et,streamId:nt,data:tt,desiredSize:at.desiredSize},rt),ht.promise},pull:at=>{const ht=new a.PromiseCapability;return this.streamControllers[nt].pullCall=ht,ct.postMessage({sourceName:st,targetName:ot,stream:c.PULL,streamId:nt,desiredSize:at.desiredSize}),ht.promise},cancel:at=>{(0,a.assert)(at instanceof Error,"cancel must have a valid reason");const ht=new a.PromiseCapability;return this.streamControllers[nt].cancelCall=ht,this.streamControllers[nt].isClosed=!0,ct.postMessage({sourceName:st,targetName:ot,stream:c.CANCEL,streamId:nt,reason:d(at)}),ht.promise}},it)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}b=new WeakSet,mE=function(et){const tt=et.streamId,it=this.sourceName,rt=et.sourceName,nt=this.comObj,st=this,ot=this.actionHandler[et.action],ct={enqueue(at,ht=1,lt){if(this.isCancelled)return;const ft=this.desiredSize;this.desiredSize-=ht,ft>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),nt.postMessage({sourceName:it,targetName:rt,stream:c.ENQUEUE,streamId:tt,chunk:at},lt)},close(){this.isCancelled||(this.isCancelled=!0,nt.postMessage({sourceName:it,targetName:rt,stream:c.CLOSE,streamId:tt}),delete st.streamSinks[tt])},error(at){(0,a.assert)(at instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,nt.postMessage({sourceName:it,targetName:rt,stream:c.ERROR,streamId:tt,reason:d(at)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:et.desiredSize,ready:null};ct.sinkCapability.resolve(),ct.ready=ct.sinkCapability.promise,this.streamSinks[tt]=ct,new Promise(function(at){at(ot(et.data,ct))}).then(function(){nt.postMessage({sourceName:it,targetName:rt,stream:c.START_COMPLETE,streamId:tt,success:!0})},function(at){nt.postMessage({sourceName:it,targetName:rt,stream:c.START_COMPLETE,streamId:tt,reason:d(at)})})},vE=function(et){const tt=et.streamId,it=this.sourceName,rt=et.sourceName,nt=this.comObj,st=this.streamControllers[tt],ot=this.streamSinks[tt];switch(et.stream){case c.START_COMPLETE:et.success?st.startCall.resolve():st.startCall.reject(d(et.reason));break;case c.PULL_COMPLETE:et.success?st.pullCall.resolve():st.pullCall.reject(d(et.reason));break;case c.PULL:if(!ot){nt.postMessage({sourceName:it,targetName:rt,stream:c.PULL_COMPLETE,streamId:tt,success:!0});break}ot.desiredSize<=0&&et.desiredSize>0&&ot.sinkCapability.resolve(),ot.desiredSize=et.desiredSize,new Promise(function(ct){var at;ct((at=ot.onPull)==null?void 0:at.call(ot))}).then(function(){nt.postMessage({sourceName:it,targetName:rt,stream:c.PULL_COMPLETE,streamId:tt,success:!0})},function(ct){nt.postMessage({sourceName:it,targetName:rt,stream:c.PULL_COMPLETE,streamId:tt,reason:d(ct)})});break;case c.ENQUEUE:if((0,a.assert)(st,"enqueue should have stream controller"),st.isClosed)break;st.controller.enqueue(et.chunk);break;case c.CLOSE:if((0,a.assert)(st,"close should have stream controller"),st.isClosed)break;st.isClosed=!0,st.controller.close(),ut(this,b,qy).call(this,st,tt);break;case c.ERROR:(0,a.assert)(st,"error should have stream controller"),st.controller.error(d(et.reason)),ut(this,b,qy).call(this,st,tt);break;case c.CANCEL_COMPLETE:et.success?st.cancelCall.resolve():st.cancelCall.reject(d(et.reason)),ut(this,b,qy).call(this,st,tt);break;case c.CANCEL:if(!ot)break;new Promise(function(ct){var at;ct((at=ot.onCancel)==null?void 0:at.call(ot,d(et.reason)))}).then(function(){nt.postMessage({sourceName:it,targetName:rt,stream:c.CANCEL_COMPLETE,streamId:tt,success:!0})},function(ct){nt.postMessage({sourceName:it,targetName:rt,stream:c.CANCEL_COMPLETE,streamId:tt,reason:d(ct)})}),ot.sinkCapability.reject(d(et.reason)),ot.isCancelled=!0,delete this.streamSinks[tt];break;default:throw new Error("Unexpected stream case")}},qy=async function(et,tt){var it,rt,nt;await Promise.allSettled([(it=et.startCall)==null?void 0:it.promise,(rt=et.pullCall)==null?void 0:rt.promise,(nt=et.cancelCall)==null?void 0:nt.promise]),delete this.streamControllers[tt]},e.MessageHandler=g},(s,e,i)=>{var c,d;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var a=i(1);class o{constructor({parsedData:b,rawData:_}){pt(this,c);pt(this,d);dt(this,c,b),dt(this,d,_)}getRaw(){return h(this,d)}get(b){return h(this,c).get(b)??null}getAll(){return(0,a.objectFromMap)(h(this,c))}has(b){return h(this,c).has(b)}}c=new WeakMap,d=new WeakMap,e.Metadata=o},(s,e,i)=>{var b,_,j,$,_e,et,Ax;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var a=i(1),o=i(8);const c=Symbol("INTERNAL");class d{constructor(rt,nt){pt(this,b,!0);this.name=rt,this.intent=nt}get visible(){return h(this,b)}_setVisible(rt,nt){rt!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),dt(this,b,nt)}}b=new WeakMap;class g{constructor(rt){pt(this,et);pt(this,_,null);pt(this,j,new Map);pt(this,$,null);pt(this,_e,null);if(this.name=null,this.creator=null,rt!==null){this.name=rt.name,this.creator=rt.creator,dt(this,_e,rt.order);for(const nt of rt.groups)h(this,j).set(nt.id,new d(nt.name,nt.intent));if(rt.baseState==="OFF")for(const nt of h(this,j).values())nt._setVisible(c,!1);for(const nt of rt.on)h(this,j).get(nt)._setVisible(c,!0);for(const nt of rt.off)h(this,j).get(nt)._setVisible(c,!1);dt(this,$,this.getHash())}}isVisible(rt){if(h(this,j).size===0)return!0;if(!rt)return(0,a.warn)("Optional content group not defined."),!0;if(rt.type==="OCG")return h(this,j).has(rt.id)?h(this,j).get(rt.id).visible:((0,a.warn)(`Optional content group not found: ${rt.id}`),!0);if(rt.type==="OCMD"){if(rt.expression)return ut(this,et,Ax).call(this,rt.expression);if(!rt.policy||rt.policy==="AnyOn"){for(const nt of rt.ids){if(!h(this,j).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(h(this,j).get(nt).visible)return!0}return!1}else if(rt.policy==="AllOn"){for(const nt of rt.ids){if(!h(this,j).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(!h(this,j).get(nt).visible)return!1}return!0}else if(rt.policy==="AnyOff"){for(const nt of rt.ids){if(!h(this,j).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(!h(this,j).get(nt).visible)return!0}return!1}else if(rt.policy==="AllOff"){for(const nt of rt.ids){if(!h(this,j).has(nt))return(0,a.warn)(`Optional content group not found: ${nt}`),!0;if(h(this,j).get(nt).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${rt.policy}.`),!0}return(0,a.warn)(`Unknown group type ${rt.type}.`),!0}setVisibility(rt,nt=!0){if(!h(this,j).has(rt)){(0,a.warn)(`Optional content group not found: ${rt}`);return}h(this,j).get(rt)._setVisible(c,!!nt),dt(this,_,null)}get hasInitialVisibility(){return h(this,$)===null||this.getHash()===h(this,$)}getOrder(){return h(this,j).size?h(this,_e)?h(this,_e).slice():[...h(this,j).keys()]:null}getGroups(){return h(this,j).size>0?(0,a.objectFromMap)(h(this,j)):null}getGroup(rt){return h(this,j).get(rt)||null}getHash(){if(h(this,_)!==null)return h(this,_);const rt=new o.MurmurHash3_64;for(const[nt,st]of h(this,j))rt.update(`${nt}:${st.visible}`);return dt(this,_,rt.hexdigest())}}_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakSet,Ax=function(rt){const nt=rt.length;if(nt<2)return!0;const st=rt[0];for(let ot=1;ot<nt;ot++){const ct=rt[ot];let at;if(Array.isArray(ct))at=ut(this,et,Ax).call(this,ct);else if(h(this,j).has(ct))at=h(this,j).get(ct).visible;else return(0,a.warn)(`Optional content group not found: ${ct}`),!0;switch(st){case"And":if(!at)return!1;break;case"Or":if(at)return!0;break;case"Not":return!at;default:return!0}}return st==="And"},e.OptionalContentConfig=g},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var a=i(1),o=i(6);class c{constructor({length:_,initialData:j,progressiveDone:$=!1,contentDispositionFilename:_e=null,disableRange:et=!1,disableStream:tt=!1},it){if((0,a.assert)(it,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=$,this._contentDispositionFilename=_e,(j==null?void 0:j.length)>0){const rt=j instanceof Uint8Array&&j.byteLength===j.buffer.byteLength?j.buffer:new Uint8Array(j).buffer;this._queuedChunks.push(rt)}this._pdfDataRangeTransport=it,this._isStreamingSupported=!tt,this._isRangeSupported=!et,this._contentLength=_,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((rt,nt)=>{this._onReceiveData({begin:rt,chunk:nt})}),this._pdfDataRangeTransport.addProgressListener((rt,nt)=>{this._onProgress({loaded:rt,total:nt})}),this._pdfDataRangeTransport.addProgressiveReadListener(rt=>{this._onReceiveData({chunk:rt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:_,chunk:j}){const $=j instanceof Uint8Array&&j.byteLength===j.buffer.byteLength?j.buffer:new Uint8Array(j).buffer;if(_===void 0)this._fullRequestReader?this._fullRequestReader._enqueue($):this._queuedChunks.push($);else{const _e=this._rangeReaders.some(function(et){return et._begin!==_?!1:(et._enqueue($),!0)});(0,a.assert)(_e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){var j,$,_e,et;_.total===void 0?($=(j=this._rangeReaders[0])==null?void 0:j.onProgress)==null||$.call(j,{loaded:_.loaded}):(et=(_e=this._fullRequestReader)==null?void 0:_e.onProgress)==null||et.call(_e,{loaded:_.loaded,total:_.total})}_onProgressiveDone(){var _;(_=this._fullRequestReader)==null||_.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const j=this._rangeReaders.indexOf(_);j>=0&&this._rangeReaders.splice(j,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new d(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,j){if(j<=this._progressiveDataLength)return null;const $=new g(this,_,j);return this._pdfDataRangeTransport.requestDataRange(_,j),this._rangeReaders.push($),$}cancelAllRequests(_){var j;(j=this._fullRequestReader)==null||j.cancel(_);for(const $ of this._rangeReaders.slice(0))$.cancel(_);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=c;class d{constructor(_,j,$=!1,_e=null){this._stream=_,this._done=$||!1,this._filename=(0,o.isPdfFile)(_e)?_e:null,this._queuedChunks=j||[],this._loaded=0;for(const et of this._queuedChunks)this._loaded+=et.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new a.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(_,j,$){this._stream=_,this._begin=j,this._end=$,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const j=this._queuedChunk;return this._queuedChunk=null,{value:j,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new a.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var a=i(1),o=i(20);function c($,_e,et){return{method:"GET",headers:$,signal:et.signal,mode:"cors",credentials:_e?"include":"same-origin",redirect:"follow"}}function d($){const _e=new Headers;for(const et in $){const tt=$[et];tt!==void 0&&_e.append(et,tt)}return _e}function g($){return $ instanceof Uint8Array?$.buffer:$ instanceof ArrayBuffer?$:((0,a.warn)(`getArrayBuffer - unexpected data format: ${$}`),new Uint8Array($).buffer)}class b{constructor(_e){this.source=_e,this.isHttp=/^https?:/i.test(_e.url),this.httpHeaders=this.isHttp&&_e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader(_e,et){if(et<=this._progressiveDataLength)return null;const tt=new j(this,_e,et);return this._rangeRequestReaders.push(tt),tt}cancelAllRequests(_e){var et;(et=this._fullRequestReader)==null||et.cancel(_e);for(const tt of this._rangeRequestReaders.slice(0))tt.cancel(_e)}}e.PDFFetchStream=b;class _{constructor(_e){this._stream=_e,this._reader=null,this._loaded=0,this._filename=null;const et=_e.source;this._withCredentials=et.withCredentials||!1,this._contentLength=et.length,this._headersCapability=new a.PromiseCapability,this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._headers=d(this._stream.httpHeaders);const tt=et.url;fetch(tt,c(this._headers,this._withCredentials,this._abortController)).then(it=>{if(!(0,o.validateResponseStatus)(it.status))throw(0,o.createResponseStatusError)(it.status,tt);this._reader=it.body.getReader(),this._headersCapability.resolve();const rt=ot=>it.headers.get(ot),{allowRangeRequests:nt,suggestedLength:st}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:rt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=nt,this._contentLength=st||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(rt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;await this._headersCapability.promise;const{value:_e,done:et}=await this._reader.read();return et?{value:_e,done:et}:(this._loaded+=_e.byteLength,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g(_e),done:!1})}cancel(_e){var et;(et=this._reader)==null||et.cancel(_e),this._abortController.abort()}}class j{constructor(_e,et,tt){this._stream=_e,this._reader=null,this._loaded=0;const it=_e.source;this._withCredentials=it.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!it.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${et}-${tt-1}`);const rt=it.url;fetch(rt,c(this._headers,this._withCredentials,this._abortController)).then(nt=>{if(!(0,o.validateResponseStatus)(nt.status))throw(0,o.createResponseStatusError)(nt.status,rt);this._readCapability.resolve(),this._reader=nt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;await this._readCapability.promise;const{value:_e,done:et}=await this._reader.read();return et?{value:_e,done:et}:(this._loaded+=_e.byteLength,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded}),{value:g(_e),done:!1})}cancel(_e){var et;(et=this._reader)==null||et.cancel(_e),this._abortController.abort()}}},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=b,e.extractFilenameFromHeader=g,e.validateRangeRequestCapabilities=d,e.validateResponseStatus=_;var a=i(1),o=i(21),c=i(6);function d({getResponseHeader:j,isHttp:$,rangeChunkSize:_e,disableRange:et}){const tt={allowRangeRequests:!1,suggestedLength:void 0},it=parseInt(j("Content-Length"),10);return!Number.isInteger(it)||(tt.suggestedLength=it,it<=2*_e)||et||!$||j("Accept-Ranges")!=="bytes"||(j("Content-Encoding")||"identity")!=="identity"||(tt.allowRangeRequests=!0),tt}function g(j){const $=j("Content-Disposition");if($){let _e=(0,o.getFilenameFromContentDispositionHeader)($);if(_e.includes("%"))try{_e=decodeURIComponent(_e)}catch{}if((0,c.isPdfFile)(_e))return _e}return null}function b(j,$){return j===404||j===0&&$.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+$+'".'):new a.UnexpectedResponseException(`Unexpected server response (${j}) while retrieving PDF "${$}".`,j)}function _(j){return j===200||j===206}},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=o;var a=i(1);function o(c){let d=!0,g=b("filename\\*","i").exec(c);if(g){g=g[1];let it=_e(g);return it=unescape(it),it=et(it),it=tt(it),j(it)}if(g=$(c),g){const it=tt(g);return j(it)}if(g=b("filename","i").exec(c),g){g=g[1];let it=_e(g);return it=tt(it),j(it)}function b(it,rt){return new RegExp("(?:^|;)\\s*"+it+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',rt)}function _(it,rt){if(it){if(!/^[\x00-\xFF]+$/.test(rt))return rt;try{const nt=new TextDecoder(it,{fatal:!0}),st=(0,a.stringToBytes)(rt);rt=nt.decode(st),d=!1}catch{}}return rt}function j(it){return d&&/[\x80-\xff]/.test(it)&&(it=_("utf-8",it),d&&(it=_("iso-8859-1",it))),it}function $(it){const rt=[];let nt;const st=b("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(nt=st.exec(it))!==null;){let[,ct,at,ht]=nt;if(ct=parseInt(ct,10),ct in rt){if(ct===0)break;continue}rt[ct]=[at,ht]}const ot=[];for(let ct=0;ct<rt.length&&ct in rt;++ct){let[at,ht]=rt[ct];ht=_e(ht),at&&(ht=unescape(ht),ct===0&&(ht=et(ht))),ot.push(ht)}return ot.join("")}function _e(it){if(it.startsWith('"')){const rt=it.slice(1).split('\\"');for(let nt=0;nt<rt.length;++nt){const st=rt[nt].indexOf('"');st!==-1&&(rt[nt]=rt[nt].slice(0,st),rt.length=nt+1),rt[nt]=rt[nt].replaceAll(/\\(.)/g,"$1")}it=rt.join('"')}return it}function et(it){const rt=it.indexOf("'");if(rt===-1)return it;const nt=it.slice(0,rt),ot=it.slice(rt+1).replace(/^[^']*'/,"");return _(nt,ot)}function tt(it){return!it.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(it)?it:it.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(rt,nt,st,ot){if(st==="q"||st==="Q")return ot=ot.replaceAll("_"," "),ot=ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(ct,at){return String.fromCharCode(parseInt(at,16))}),_(nt,ot);try{ot=atob(ot)}catch{}return _(nt,ot)})}return""}},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var a=i(1),o=i(20);const c=200,d=206;function g(_e){const et=_e.response;return typeof et!="string"?et:(0,a.stringToBytes)(et).buffer}class b{constructor(et,tt={}){this.url=et,this.isHttp=/^https?:/i.test(et),this.httpHeaders=this.isHttp&&tt.httpHeaders||Object.create(null),this.withCredentials=tt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(et,tt,it){const rt={begin:et,end:tt};for(const nt in it)rt[nt]=it[nt];return this.request(rt)}requestFull(et){return this.request(et)}request(et){const tt=new XMLHttpRequest,it=this.currXhrId++,rt=this.pendingRequests[it]={xhr:tt};tt.open("GET",this.url),tt.withCredentials=this.withCredentials;for(const nt in this.httpHeaders){const st=this.httpHeaders[nt];st!==void 0&&tt.setRequestHeader(nt,st)}return this.isHttp&&"begin"in et&&"end"in et?(tt.setRequestHeader("Range",`bytes=${et.begin}-${et.end-1}`),rt.expectedStatus=d):rt.expectedStatus=c,tt.responseType="arraybuffer",et.onError&&(tt.onerror=function(nt){et.onError(tt.status)}),tt.onreadystatechange=this.onStateChange.bind(this,it),tt.onprogress=this.onProgress.bind(this,it),rt.onHeadersReceived=et.onHeadersReceived,rt.onDone=et.onDone,rt.onError=et.onError,rt.onProgress=et.onProgress,tt.send(null),it}onProgress(et,tt){var rt;const it=this.pendingRequests[et];it&&((rt=it.onProgress)==null||rt.call(it,tt))}onStateChange(et,tt){var ct,at,ht;const it=this.pendingRequests[et];if(!it)return;const rt=it.xhr;if(rt.readyState>=2&&it.onHeadersReceived&&(it.onHeadersReceived(),delete it.onHeadersReceived),rt.readyState!==4||!(et in this.pendingRequests))return;if(delete this.pendingRequests[et],rt.status===0&&this.isHttp){(ct=it.onError)==null||ct.call(it,rt.status);return}const nt=rt.status||c;if(!(nt===c&&it.expectedStatus===d)&&nt!==it.expectedStatus){(at=it.onError)==null||at.call(it,rt.status);return}const ot=g(rt);if(nt===d){const lt=rt.getResponseHeader("Content-Range"),ft=/bytes (\d+)-(\d+)\/(\d+)/.exec(lt);it.onDone({begin:parseInt(ft[1],10),chunk:ot})}else ot?it.onDone({begin:0,chunk:ot}):(ht=it.onError)==null||ht.call(it,rt.status)}getRequestXhr(et){return this.pendingRequests[et].xhr}isPendingRequest(et){return et in this.pendingRequests}abortRequest(et){const tt=this.pendingRequests[et].xhr;delete this.pendingRequests[et],tt.abort()}}class _{constructor(et){this._source=et,this._manager=new b(et.url,{httpHeaders:et.httpHeaders,withCredentials:et.withCredentials}),this._rangeChunkSize=et.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(et){const tt=this._rangeRequestReaders.indexOf(et);tt>=0&&this._rangeRequestReaders.splice(tt,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new j(this._manager,this._source),this._fullRequestReader}getRangeReader(et,tt){const it=new $(this._manager,et,tt);return it.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(it),it}cancelAllRequests(et){var tt;(tt=this._fullRequestReader)==null||tt.cancel(et);for(const it of this._rangeRequestReaders.slice(0))it.cancel(et)}}e.PDFNetworkStream=_;class j{constructor(et,tt){this._manager=et;const it={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=tt.url,this._fullRequestId=et.requestFull(it),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=tt.disableRange||!1,this._contentLength=tt.length,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const et=this._fullRequestId,tt=this._manager.getRequestXhr(et),it=st=>tt.getResponseHeader(st),{allowRangeRequests:rt,suggestedLength:nt}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});rt&&(this._isRangeSupported=!0),this._contentLength=nt||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(it),this._isRangeSupported&&this._manager.abortRequest(et),this._headersReceivedCapability.resolve()}_onDone(et){if(et&&(this._requests.length>0?this._requests.shift().resolve({value:et.chunk,done:!1}):this._cachedChunks.push(et.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(et){this._storedError=(0,o.createResponseStatusError)(et,this._url),this._headersReceivedCapability.reject(this._storedError);for(const tt of this._requests)tt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(et){var tt;(tt=this.onProgress)==null||tt.call(this,{loaded:et.loaded,total:et.lengthComputable?et.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const et=new a.PromiseCapability;return this._requests.push(et),et.promise}cancel(et){this._done=!0,this._headersReceivedCapability.reject(et);for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ${constructor(et,tt,it){this._manager=et;const rt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=et.url,this._requestId=et.requestRange(tt,it,rt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var et;(et=this.onClosed)==null||et.call(this,this)}_onDone(et){const tt=et.chunk;this._requests.length>0?this._requests.shift().resolve({value:tt,done:!1}):this._queuedChunk=tt,this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(et){this._storedError=(0,o.createResponseStatusError)(et,this._url);for(const tt of this._requests)tt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(et){var tt;this.isStreamingSupported||(tt=this.onProgress)==null||tt.call(this,{loaded:et.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const tt=this._queuedChunk;return this._queuedChunk=null,{value:tt,done:!1}}if(this._done)return{value:void 0,done:!0};const et=new a.PromiseCapability;return this._requests.push(et),et.promise}cancel(et){this._done=!0;for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var a=i(1),o=i(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(it){const rt=require$$5,nt=rt.parse(it);return nt.protocol==="file:"||nt.host?nt:/^[a-z]:[/\\]/i.test(it)?rt.parse(`file:///${it}`):(nt.host||(nt.protocol="file:"),nt)}class g{constructor(rt){this.source=rt,this.url=d(rt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&rt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var rt;return((rt=this._fullRequestReader)==null?void 0:rt._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new et(this):new $(this),this._fullRequestReader}getRangeReader(rt,nt){if(nt<=this._progressiveDataLength)return null;const st=this.isFsUrl?new tt(this,rt,nt):new _e(this,rt,nt);return this._rangeRequestReaders.push(st),st}cancelAllRequests(rt){var nt;(nt=this._fullRequestReader)==null||nt.cancel(rt);for(const st of this._rangeRequestReaders.slice(0))st.cancel(rt)}}e.PDFNodeStream=g;class b{constructor(rt){this._url=rt.url,this._done=!1,this._storedError=null,this.onProgress=null;const nt=rt.source;this._contentLength=nt.length,this._loaded=0,this._filename=null,this._disableRange=nt.disableRange||!1,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!nt.disableStream,this._isRangeSupported=!nt.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var st;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const rt=this._readableStream.read();return rt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=rt.length,(st=this.onProgress)==null||st.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(rt).buffer,done:!1})}cancel(rt){if(!this._readableStream){this._error(rt);return}this._readableStream.destroy(rt)}_error(rt){this._storedError=rt,this._readCapability.resolve()}_setReadableStream(rt){this._readableStream=rt,rt.on("readable",()=>{this._readCapability.resolve()}),rt.on("end",()=>{rt.destroy(),this._done=!0,this._readCapability.resolve()}),rt.on("error",nt=>{this._error(nt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _{constructor(rt){this._url=rt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const nt=rt.source;this._isStreamingSupported=!nt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var st;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const rt=this._readableStream.read();return rt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=rt.length,(st=this.onProgress)==null||st.call(this,{loaded:this._loaded}),{value:new Uint8Array(rt).buffer,done:!1})}cancel(rt){if(!this._readableStream){this._error(rt);return}this._readableStream.destroy(rt)}_error(rt){this._storedError=rt,this._readCapability.resolve()}_setReadableStream(rt){this._readableStream=rt,rt.on("readable",()=>{this._readCapability.resolve()}),rt.on("end",()=>{rt.destroy(),this._done=!0,this._readCapability.resolve()}),rt.on("error",nt=>{this._error(nt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function j(it,rt){return{protocol:it.protocol,auth:it.auth,host:it.hostname,port:it.port,path:it.path,method:"GET",headers:rt}}class $ extends b{constructor(rt){super(rt);const nt=st=>{if(st.statusCode===404){const ht=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ht,this._headersCapability.reject(ht);return}this._headersCapability.resolve(),this._setReadableStream(st);const ot=ht=>this._readableStream.headers[ht.toLowerCase()],{allowRangeRequests:ct,suggestedLength:at}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:ot,isHttp:rt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ct,this._contentLength=at||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(ot)};if(this._request=null,this._url.protocol==="http:"){const st=require$$5;this._request=st.request(j(this._url,rt.httpHeaders),nt)}else{const st=require$$5;this._request=st.request(j(this._url,rt.httpHeaders),nt)}this._request.on("error",st=>{this._storedError=st,this._headersCapability.reject(st)}),this._request.end()}}class _e extends _{constructor(rt,nt,st){super(rt),this._httpHeaders={};for(const ct in rt.httpHeaders){const at=rt.httpHeaders[ct];at!==void 0&&(this._httpHeaders[ct]=at)}this._httpHeaders.Range=`bytes=${nt}-${st-1}`;const ot=ct=>{if(ct.statusCode===404){const at=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=at;return}this._setReadableStream(ct)};if(this._request=null,this._url.protocol==="http:"){const ct=require$$5;this._request=ct.request(j(this._url,this._httpHeaders),ot)}else{const ct=require$$5;this._request=ct.request(j(this._url,this._httpHeaders),ot)}this._request.on("error",ct=>{this._storedError=ct}),this._request.end()}}class et extends b{constructor(rt){super(rt);let nt=decodeURIComponent(this._url.path);c.test(this._url.href)&&(nt=nt.replace(/^\//,""));const st=require$$5;st.lstat(nt,(ot,ct)=>{if(ot){ot.code==="ENOENT"&&(ot=new a.MissingPDFException(`Missing PDF "${nt}".`)),this._storedError=ot,this._headersCapability.reject(ot);return}this._contentLength=ct.size,this._setReadableStream(st.createReadStream(nt)),this._headersCapability.resolve()})}}class tt extends _{constructor(rt,nt,st){super(rt);let ot=decodeURIComponent(this._url.path);c.test(this._url.href)&&(ot=ot.replace(/^\//,""));const ct=require$$5;this._setReadableStream(ct.createReadStream(ot,{start:nt,end:st-1}))}}},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var a=i(6),o=i(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",b=["butt","round","square"],_=["miter","round","bevel"],j=function(ct,at="",ht=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ht)return URL.createObjectURL(new Blob([ct],{type:at}));const lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ft=`data:${at};base64,`;for(let yt=0,Et=ct.length;yt<Et;yt+=3){const mt=ct[yt]&255,At=ct[yt+1]&255,Rt=ct[yt+2]&255,qt=mt>>2,Bt=(mt&3)<<4|At>>4,$t=yt+1<Et?(At&15)<<2|Rt>>6:64,jt=yt+2<Et?Rt&63:64;ft+=lt[qt]+lt[Bt]+lt[$t]+lt[jt]}return ft},$=function(){const ct=new Uint8Array([137,80,78,71,13,10,26,10]),at=12,ht=new Int32Array(256);for(let Rt=0;Rt<256;Rt++){let qt=Rt;for(let Bt=0;Bt<8;Bt++)qt=qt&1?3988292384^qt>>1&2147483647:qt>>1&2147483647;ht[Rt]=qt}function lt(Rt,qt,Bt){let $t=-1;for(let jt=qt;jt<Bt;jt++){const Ft=($t^Rt[jt])&255,St=ht[Ft];$t=$t>>>8^St}return $t^-1}function ft(Rt,qt,Bt,$t){let jt=$t;const Ft=qt.length;Bt[jt]=Ft>>24&255,Bt[jt+1]=Ft>>16&255,Bt[jt+2]=Ft>>8&255,Bt[jt+3]=Ft&255,jt+=4,Bt[jt]=Rt.charCodeAt(0)&255,Bt[jt+1]=Rt.charCodeAt(1)&255,Bt[jt+2]=Rt.charCodeAt(2)&255,Bt[jt+3]=Rt.charCodeAt(3)&255,jt+=4,Bt.set(qt,jt),jt+=qt.length;const St=lt(Bt,$t+4,jt);Bt[jt]=St>>24&255,Bt[jt+1]=St>>16&255,Bt[jt+2]=St>>8&255,Bt[jt+3]=St&255}function yt(Rt,qt,Bt){let $t=1,jt=0;for(let Ft=qt;Ft<Bt;++Ft)$t=($t+(Rt[Ft]&255))%65521,jt=(jt+$t)%65521;return jt<<16|$t}function Et(Rt){if(!o.isNodeJS)return mt(Rt);try{const qt=parseInt(process.versions.node)>=8?Rt:Buffer.from(Rt),Bt=require$$5.deflateSync(qt,{level:9});return Bt instanceof Uint8Array?Bt:new Uint8Array(Bt)}catch(qt){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+qt)}return mt(Rt)}function mt(Rt){let qt=Rt.length;const Bt=65535,$t=Math.ceil(qt/Bt),jt=new Uint8Array(2+qt+$t*5+4);let Ft=0;jt[Ft++]=120,jt[Ft++]=156;let St=0;for(;qt>Bt;)jt[Ft++]=0,jt[Ft++]=255,jt[Ft++]=255,jt[Ft++]=0,jt[Ft++]=0,jt.set(Rt.subarray(St,St+Bt),Ft),Ft+=Bt,St+=Bt,qt-=Bt;jt[Ft++]=1,jt[Ft++]=qt&255,jt[Ft++]=qt>>8&255,jt[Ft++]=~qt&65535&255,jt[Ft++]=(~qt&65535)>>8&255,jt.set(Rt.subarray(St),Ft),Ft+=Rt.length-St;const It=yt(Rt,0,Rt.length);return jt[Ft++]=It>>24&255,jt[Ft++]=It>>16&255,jt[Ft++]=It>>8&255,jt[Ft++]=It&255,jt}function At(Rt,qt,Bt,$t){const jt=Rt.width,Ft=Rt.height;let St,It,zt;const _t=Rt.data;switch(qt){case o.ImageKind.GRAYSCALE_1BPP:It=0,St=1,zt=jt+7>>3;break;case o.ImageKind.RGB_24BPP:It=2,St=8,zt=jt*3;break;case o.ImageKind.RGBA_32BPP:It=6,St=8,zt=jt*4;break;default:throw new Error("invalid format")}const vt=new Uint8Array((1+zt)*Ft);let bt=0,wt=0;for(let dn=0;dn<Ft;++dn)vt[bt++]=0,vt.set(_t.subarray(wt,wt+zt),bt),wt+=zt,bt+=zt;if(qt===o.ImageKind.GRAYSCALE_1BPP&&$t){bt=0;for(let dn=0;dn<Ft;dn++){bt++;for(let hn=0;hn<zt;hn++)vt[bt++]^=255}}const Pt=new Uint8Array([jt>>24&255,jt>>16&255,jt>>8&255,jt&255,Ft>>24&255,Ft>>16&255,Ft>>8&255,Ft&255,St,It,0,0,0]),kt=Et(vt),Mt=ct.length+at*3+Pt.length+kt.length,Gt=new Uint8Array(Mt);let ln=0;return Gt.set(ct,ln),ln+=ct.length,ft("IHDR",Pt,Gt,ln),ln+=at+Pt.length,ft("IDATA",kt,Gt,ln),ln+=at+kt.length,ft("IEND",new Uint8Array(0),Gt,ln),j(Gt,"image/png",Bt)}return function(qt,Bt,$t){const jt=qt.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:qt.kind;return At(qt,jt,Bt,$t)}}();class _e{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(at,ht){this.x=at,this.y=ht}}function et(ct){let at=[];const ht=[];for(const lt of ct){if(lt.fn==="save"){at.push({fnId:92,fn:"group",items:[]}),ht.push(at),at=at.at(-1).items;continue}lt.fn==="restore"?at=ht.pop():at.push(lt)}return at}function tt(ct){if(Number.isInteger(ct))return ct.toString();const at=ct.toFixed(10);let ht=at.length-1;if(at[ht]!=="0")return at;do ht--;while(at[ht]==="0");return at.substring(0,at[ht]==="."?ht:ht+1)}function it(ct){if(ct[4]===0&&ct[5]===0){if(ct[1]===0&&ct[2]===0)return ct[0]===1&&ct[3]===1?"":`scale(${tt(ct[0])} ${tt(ct[3])})`;if(ct[0]===ct[3]&&ct[1]===-ct[2]){const at=Math.acos(ct[0])*180/Math.PI;return`rotate(${tt(at)})`}}else if(ct[0]===1&&ct[1]===0&&ct[2]===0&&ct[3]===1)return`translate(${tt(ct[4])} ${tt(ct[5])})`;return`matrix(${tt(ct[0])} ${tt(ct[1])} ${tt(ct[2])} ${tt(ct[3])} ${tt(ct[4])} ${tt(ct[5])})`}let rt=0,nt=0,st=0;class ot{constructor(at,ht,lt=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new _e,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=at,this.objs=ht,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!lt,this._operatorIdMapping=[];for(const ft in o.OPS)this._operatorIdMapping[o.OPS[ft]]=ft}getObject(at,ht=null){return typeof at=="string"?at.startsWith("g_")?this.commonObjs.get(at):this.objs.get(at):ht}save(){this.transformStack.push(this.transformMatrix);const at=this.current;this.extraStack.push(at),this.current=at.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(at){this.save(),this.executeOpTree(at),this.restore()}loadDependencies(at){const ht=at.fnArray,lt=at.argsArray;for(let ft=0,yt=ht.length;ft<yt;ft++)if(ht[ft]===o.OPS.dependency)for(const Et of lt[ft]){const mt=Et.startsWith("g_")?this.commonObjs:this.objs,At=new Promise(Rt=>{mt.get(Et,Rt)});this.current.dependencies.push(At)}return Promise.all(this.current.dependencies)}transform(at,ht,lt,ft,yt,Et){const mt=[at,ht,lt,ft,yt,Et];this.transformMatrix=o.Util.transform(this.transformMatrix,mt),this.tgrp=null}getSVG(at,ht){this.viewport=ht;const lt=this._initialize(ht);return this.loadDependencies(at).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(at)),lt))}convertOpList(at){const ht=this._operatorIdMapping,lt=at.argsArray,ft=at.fnArray,yt=[];for(let Et=0,mt=ft.length;Et<mt;Et++){const At=ft[Et];yt.push({fnId:At,fn:ht[At],args:lt[Et]})}return et(yt)}executeOpTree(at){for(const ht of at){const lt=ht.fn,ft=ht.fnId,yt=ht.args;switch(ft|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(yt);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(yt[0],yt[1]);break;case o.OPS.setFont:this.setFont(yt);break;case o.OPS.showText:this.showText(yt[0]);break;case o.OPS.showSpacedText:this.showText(yt[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(yt[0],yt[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(yt[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(yt[0]);break;case o.OPS.setHScale:this.setHScale(yt[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]);break;case o.OPS.setTextRise:this.setTextRise(yt[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(yt[0]);break;case o.OPS.setLineWidth:this.setLineWidth(yt[0]);break;case o.OPS.setLineJoin:this.setLineJoin(yt[0]);break;case o.OPS.setLineCap:this.setLineCap(yt[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(yt[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(yt[0],yt[1],yt[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(yt[0],yt[1],yt[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(yt);break;case o.OPS.setFillColorN:this.setFillColorN(yt);break;case o.OPS.shadingFill:this.shadingFill(yt[0]);break;case o.OPS.setDash:this.setDash(yt[0],yt[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(yt[0]);break;case o.OPS.setFlatness:this.setFlatness(yt[0]);break;case o.OPS.setGState:this.setGState(yt[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(yt[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(yt[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(yt[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(yt[0],yt[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]);break;case o.OPS.constructPath:this.constructPath(yt[0],yt[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(ht.items);break;default:(0,o.warn)(`Unimplemented operator ${lt}`);break}}}setWordSpacing(at){this.current.wordSpacing=at}setCharSpacing(at){this.current.charSpacing=at}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(at,ht,lt,ft,yt,Et){const mt=this.current;mt.textMatrix=mt.lineMatrix=[at,ht,lt,ft,yt,Et],mt.textMatrixScale=Math.hypot(at,ht),mt.x=mt.lineX=0,mt.y=mt.lineY=0,mt.xcoords=[],mt.ycoords=[],mt.tspan=this.svgFactory.createElement("svg:tspan"),mt.tspan.setAttributeNS(null,"font-family",mt.fontFamily),mt.tspan.setAttributeNS(null,"font-size",`${tt(mt.fontSize)}px`),mt.tspan.setAttributeNS(null,"y",tt(-mt.y)),mt.txtElement=this.svgFactory.createElement("svg:text"),mt.txtElement.append(mt.tspan)}beginText(){const at=this.current;at.x=at.lineX=0,at.y=at.lineY=0,at.textMatrix=o.IDENTITY_MATRIX,at.lineMatrix=o.IDENTITY_MATRIX,at.textMatrixScale=1,at.tspan=this.svgFactory.createElement("svg:tspan"),at.txtElement=this.svgFactory.createElement("svg:text"),at.txtgrp=this.svgFactory.createElement("svg:g"),at.xcoords=[],at.ycoords=[]}moveText(at,ht){const lt=this.current;lt.x=lt.lineX+=at,lt.y=lt.lineY+=ht,lt.xcoords=[],lt.ycoords=[],lt.tspan=this.svgFactory.createElement("svg:tspan"),lt.tspan.setAttributeNS(null,"font-family",lt.fontFamily),lt.tspan.setAttributeNS(null,"font-size",`${tt(lt.fontSize)}px`),lt.tspan.setAttributeNS(null,"y",tt(-lt.y))}showText(at){const ht=this.current,lt=ht.font,ft=ht.fontSize;if(ft===0)return;const yt=ht.fontSizeScale,Et=ht.charSpacing,mt=ht.wordSpacing,At=ht.fontDirection,Rt=ht.textHScale*At,qt=lt.vertical,Bt=qt?1:-1,$t=lt.defaultVMetrics,jt=ft*ht.fontMatrix[0];let Ft=0;for(const zt of at){if(zt===null){Ft+=At*mt;continue}else if(typeof zt=="number"){Ft+=Bt*zt*ft/1e3;continue}const _t=(zt.isSpace?mt:0)+Et,vt=zt.fontChar;let bt,wt,Pt=zt.width;if(qt){let Mt;const Gt=zt.vmetric||$t;Mt=zt.vmetric?Gt[1]:Pt*.5,Mt=-Mt*jt;const ln=Gt[2]*jt;Pt=Gt?-Gt[0]:Pt,bt=Mt/yt,wt=(Ft+ln)/yt}else bt=Ft/yt,wt=0;(zt.isInFont||lt.missingFile)&&(ht.xcoords.push(ht.x+bt),qt&&ht.ycoords.push(-ht.y+wt),ht.tspan.textContent+=vt);const kt=qt?Pt*jt-_t*At:Pt*jt+_t*At;Ft+=kt}ht.tspan.setAttributeNS(null,"x",ht.xcoords.map(tt).join(" ")),qt?ht.tspan.setAttributeNS(null,"y",ht.ycoords.map(tt).join(" ")):ht.tspan.setAttributeNS(null,"y",tt(-ht.y)),qt?ht.y-=Ft:ht.x+=Ft*Rt,ht.tspan.setAttributeNS(null,"font-family",ht.fontFamily),ht.tspan.setAttributeNS(null,"font-size",`${tt(ht.fontSize)}px`),ht.fontStyle!==c.fontStyle&&ht.tspan.setAttributeNS(null,"font-style",ht.fontStyle),ht.fontWeight!==c.fontWeight&&ht.tspan.setAttributeNS(null,"font-weight",ht.fontWeight);const St=ht.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(St===o.TextRenderingMode.FILL||St===o.TextRenderingMode.FILL_STROKE?(ht.fillColor!==c.fillColor&&ht.tspan.setAttributeNS(null,"fill",ht.fillColor),ht.fillAlpha<1&&ht.tspan.setAttributeNS(null,"fill-opacity",ht.fillAlpha)):ht.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?ht.tspan.setAttributeNS(null,"fill","transparent"):ht.tspan.setAttributeNS(null,"fill","none"),St===o.TextRenderingMode.STROKE||St===o.TextRenderingMode.FILL_STROKE){const zt=1/(ht.textMatrixScale||1);this._setStrokeAttributes(ht.tspan,zt)}let It=ht.textMatrix;ht.textRise!==0&&(It=It.slice(),It[5]+=ht.textRise),ht.txtElement.setAttributeNS(null,"transform",`${it(It)} scale(${tt(Rt)}, -1)`),ht.txtElement.setAttributeNS(d,"xml:space","preserve"),ht.txtElement.append(ht.tspan),ht.txtgrp.append(ht.txtElement),this._ensureTransformGroup().append(ht.txtElement)}setLeadingMoveText(at,ht){this.setLeading(-ht),this.moveText(at,ht)}addFontStyle(at){if(!at.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ht=j(at.data,at.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${at.loadedName}"; src: url(${ht}); }
`}setFont(at){const ht=this.current,lt=this.commonObjs.get(at[0]);let ft=at[1];ht.font=lt,this.embedFonts&&!lt.missingFile&&!this.embeddedFonts[lt.loadedName]&&(this.addFontStyle(lt),this.embeddedFonts[lt.loadedName]=lt),ht.fontMatrix=lt.fontMatrix||o.FONT_IDENTITY_MATRIX;let yt="normal";lt.black?yt="900":lt.bold&&(yt="bold");const Et=lt.italic?"italic":"normal";ft<0?(ft=-ft,ht.fontDirection=-1):ht.fontDirection=1,ht.fontSize=ft,ht.fontFamily=lt.loadedName,ht.fontWeight=yt,ht.fontStyle=Et,ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.tspan.setAttributeNS(null,"y",tt(-ht.y)),ht.xcoords=[],ht.ycoords=[]}endText(){var ht;const at=this.current;at.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((ht=at.txtElement)!=null&&ht.hasChildNodes())&&(at.element=at.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(at){at>0&&(this.current.lineWidth=at)}setLineCap(at){this.current.lineCap=b[at]}setLineJoin(at){this.current.lineJoin=_[at]}setMiterLimit(at){this.current.miterLimit=at}setStrokeAlpha(at){this.current.strokeAlpha=at}setStrokeRGBColor(at,ht,lt){this.current.strokeColor=o.Util.makeHexColor(at,ht,lt)}setFillAlpha(at){this.current.fillAlpha=at}setFillRGBColor(at,ht,lt){this.current.fillColor=o.Util.makeHexColor(at,ht,lt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(at){this.current.strokeColor=this._makeColorN_Pattern(at)}setFillColorN(at){this.current.fillColor=this._makeColorN_Pattern(at)}shadingFill(at){const{width:ht,height:lt}=this.viewport,ft=o.Util.inverseTransform(this.transformMatrix),[yt,Et,mt,At]=o.Util.getAxialAlignedBoundingBox([0,0,ht,lt],ft),Rt=this.svgFactory.createElement("svg:rect");Rt.setAttributeNS(null,"x",yt),Rt.setAttributeNS(null,"y",Et),Rt.setAttributeNS(null,"width",mt-yt),Rt.setAttributeNS(null,"height",At-Et),Rt.setAttributeNS(null,"fill",this._makeShadingPattern(at)),this.current.fillAlpha<1&&Rt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Rt)}_makeColorN_Pattern(at){return at[0]==="TilingPattern"?this._makeTilingPattern(at):this._makeShadingPattern(at)}_makeTilingPattern(at){const ht=at[1],lt=at[2],ft=at[3]||o.IDENTITY_MATRIX,[yt,Et,mt,At]=at[4],Rt=at[5],qt=at[6],Bt=at[7],$t=`shading${st++}`,[jt,Ft,St,It]=o.Util.normalizeRect([...o.Util.applyTransform([yt,Et],ft),...o.Util.applyTransform([mt,At],ft)]),[zt,_t]=o.Util.singularValueDecompose2dScale(ft),vt=Rt*zt,bt=qt*_t,wt=this.svgFactory.createElement("svg:pattern");wt.setAttributeNS(null,"id",$t),wt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),wt.setAttributeNS(null,"width",vt),wt.setAttributeNS(null,"height",bt),wt.setAttributeNS(null,"x",`${jt}`),wt.setAttributeNS(null,"y",`${Ft}`);const Pt=this.svg,kt=this.transformMatrix,Mt=this.current.fillColor,Gt=this.current.strokeColor,ln=this.svgFactory.create(St-jt,It-Ft);if(this.svg=ln,this.transformMatrix=ft,Bt===2){const dn=o.Util.makeHexColor(...ht);this.current.fillColor=dn,this.current.strokeColor=dn}return this.executeOpTree(this.convertOpList(lt)),this.svg=Pt,this.transformMatrix=kt,this.current.fillColor=Mt,this.current.strokeColor=Gt,wt.append(ln.childNodes[0]),this.defs.append(wt),`url(#${$t})`}_makeShadingPattern(at){switch(typeof at=="string"&&(at=this.objs.get(at)),at[0]){case"RadialAxial":const ht=`shading${st++}`,lt=at[3];let ft;switch(at[1]){case"axial":const yt=at[4],Et=at[5];ft=this.svgFactory.createElement("svg:linearGradient"),ft.setAttributeNS(null,"id",ht),ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ft.setAttributeNS(null,"x1",yt[0]),ft.setAttributeNS(null,"y1",yt[1]),ft.setAttributeNS(null,"x2",Et[0]),ft.setAttributeNS(null,"y2",Et[1]);break;case"radial":const mt=at[4],At=at[5],Rt=at[6],qt=at[7];ft=this.svgFactory.createElement("svg:radialGradient"),ft.setAttributeNS(null,"id",ht),ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ft.setAttributeNS(null,"cx",At[0]),ft.setAttributeNS(null,"cy",At[1]),ft.setAttributeNS(null,"r",qt),ft.setAttributeNS(null,"fx",mt[0]),ft.setAttributeNS(null,"fy",mt[1]),ft.setAttributeNS(null,"fr",Rt);break;default:throw new Error(`Unknown RadialAxial type: ${at[1]}`)}for(const yt of lt){const Et=this.svgFactory.createElement("svg:stop");Et.setAttributeNS(null,"offset",yt[0]),Et.setAttributeNS(null,"stop-color",yt[1]),ft.append(Et)}return this.defs.append(ft),`url(#${ht})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${at[0]}`)}}setDash(at,ht){this.current.dashArray=at,this.current.dashPhase=ht}constructPath(at,ht){const lt=this.current;let ft=lt.x,yt=lt.y,Et=[],mt=0;for(const At of at)switch(At|0){case o.OPS.rectangle:ft=ht[mt++],yt=ht[mt++];const Rt=ht[mt++],qt=ht[mt++],Bt=ft+Rt,$t=yt+qt;Et.push("M",tt(ft),tt(yt),"L",tt(Bt),tt(yt),"L",tt(Bt),tt($t),"L",tt(ft),tt($t),"Z");break;case o.OPS.moveTo:ft=ht[mt++],yt=ht[mt++],Et.push("M",tt(ft),tt(yt));break;case o.OPS.lineTo:ft=ht[mt++],yt=ht[mt++],Et.push("L",tt(ft),tt(yt));break;case o.OPS.curveTo:ft=ht[mt+4],yt=ht[mt+5],Et.push("C",tt(ht[mt]),tt(ht[mt+1]),tt(ht[mt+2]),tt(ht[mt+3]),tt(ft),tt(yt)),mt+=6;break;case o.OPS.curveTo2:Et.push("C",tt(ft),tt(yt),tt(ht[mt]),tt(ht[mt+1]),tt(ht[mt+2]),tt(ht[mt+3])),ft=ht[mt+2],yt=ht[mt+3],mt+=4;break;case o.OPS.curveTo3:ft=ht[mt+2],yt=ht[mt+3],Et.push("C",tt(ht[mt]),tt(ht[mt+1]),tt(ft),tt(yt),tt(ft),tt(yt)),mt+=4;break;case o.OPS.closePath:Et.push("Z");break}Et=Et.join(" "),lt.path&&at.length>0&&at[0]!==o.OPS.rectangle&&at[0]!==o.OPS.moveTo?Et=lt.path.getAttributeNS(null,"d")+Et:(lt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(lt.path)),lt.path.setAttributeNS(null,"d",Et),lt.path.setAttributeNS(null,"fill","none"),lt.element=lt.path,lt.setCurrentPoint(ft,yt)}endPath(){const at=this.current;if(at.path=null,!this.pendingClip)return;if(!at.element){this.pendingClip=null;return}const ht=`clippath${rt++}`,lt=this.svgFactory.createElement("svg:clipPath");lt.setAttributeNS(null,"id",ht),lt.setAttributeNS(null,"transform",it(this.transformMatrix));const ft=at.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ft.setAttributeNS(null,"clip-rule","evenodd"):ft.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,lt.append(ft),this.defs.append(lt),at.activeClipUrl){at.clipGroup=null;for(const yt of this.extraStack)yt.clipGroup=null;lt.setAttributeNS(null,"clip-path",at.activeClipUrl)}at.activeClipUrl=`url(#${ht})`,this.tgrp=null}clip(at){this.pendingClip=at}closePath(){const at=this.current;if(at.path){const ht=`${at.path.getAttributeNS(null,"d")}Z`;at.path.setAttributeNS(null,"d",ht)}}setLeading(at){this.current.leading=-at}setTextRise(at){this.current.textRise=at}setTextRenderingMode(at){this.current.textRenderingMode=at}setHScale(at){this.current.textHScale=at/100}setRenderingIntent(at){}setFlatness(at){}setGState(at){for(const[ht,lt]of at)switch(ht){case"LW":this.setLineWidth(lt);break;case"LC":this.setLineCap(lt);break;case"LJ":this.setLineJoin(lt);break;case"ML":this.setMiterLimit(lt);break;case"D":this.setDash(lt[0],lt[1]);break;case"RI":this.setRenderingIntent(lt);break;case"FL":this.setFlatness(lt);break;case"Font":this.setFont(lt);break;case"CA":this.setStrokeAlpha(lt);break;case"ca":this.setFillAlpha(lt);break;default:(0,o.warn)(`Unimplemented graphic state operator ${ht}`);break}}fill(){const at=this.current;at.element&&(at.element.setAttributeNS(null,"fill",at.fillColor),at.element.setAttributeNS(null,"fill-opacity",at.fillAlpha),this.endPath())}stroke(){const at=this.current;at.element&&(this._setStrokeAttributes(at.element),at.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(at,ht=1){const lt=this.current;let ft=lt.dashArray;ht!==1&&ft.length>0&&(ft=ft.map(function(yt){return ht*yt})),at.setAttributeNS(null,"stroke",lt.strokeColor),at.setAttributeNS(null,"stroke-opacity",lt.strokeAlpha),at.setAttributeNS(null,"stroke-miterlimit",tt(lt.miterLimit)),at.setAttributeNS(null,"stroke-linecap",lt.lineCap),at.setAttributeNS(null,"stroke-linejoin",lt.lineJoin),at.setAttributeNS(null,"stroke-width",tt(ht*lt.lineWidth)+"px"),at.setAttributeNS(null,"stroke-dasharray",ft.map(tt).join(" ")),at.setAttributeNS(null,"stroke-dashoffset",tt(ht*lt.dashPhase)+"px")}eoFill(){var at;(at=this.current.element)==null||at.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var at;(at=this.current.element)==null||at.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const at=this.svgFactory.createElement("svg:rect");at.setAttributeNS(null,"x","0"),at.setAttributeNS(null,"y","0"),at.setAttributeNS(null,"width","1px"),at.setAttributeNS(null,"height","1px"),at.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(at)}paintImageXObject(at){const ht=this.getObject(at);if(!ht){(0,o.warn)(`Dependent image with object ID ${at} is not ready yet`);return}this.paintInlineImageXObject(ht)}paintInlineImageXObject(at,ht){const lt=at.width,ft=at.height,yt=$(at,this.forceDataSchema,!!ht),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y","0"),Et.setAttributeNS(null,"width",tt(lt)),Et.setAttributeNS(null,"height",tt(ft)),this.current.element=Et,this.clip("nonzero");const mt=this.svgFactory.createElement("svg:image");mt.setAttributeNS(g,"xlink:href",yt),mt.setAttributeNS(null,"x","0"),mt.setAttributeNS(null,"y",tt(-ft)),mt.setAttributeNS(null,"width",tt(lt)+"px"),mt.setAttributeNS(null,"height",tt(ft)+"px"),mt.setAttributeNS(null,"transform",`scale(${tt(1/lt)} ${tt(-1/ft)})`),ht?ht.append(mt):this._ensureTransformGroup().append(mt)}paintImageMaskXObject(at){const ht=this.getObject(at.data,at);if(ht.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const lt=this.current,ft=ht.width,yt=ht.height,Et=lt.fillColor;lt.maskId=`mask${nt++}`;const mt=this.svgFactory.createElement("svg:mask");mt.setAttributeNS(null,"id",lt.maskId);const At=this.svgFactory.createElement("svg:rect");At.setAttributeNS(null,"x","0"),At.setAttributeNS(null,"y","0"),At.setAttributeNS(null,"width",tt(ft)),At.setAttributeNS(null,"height",tt(yt)),At.setAttributeNS(null,"fill",Et),At.setAttributeNS(null,"mask",`url(#${lt.maskId})`),this.defs.append(mt),this._ensureTransformGroup().append(At),this.paintInlineImageXObject(ht,mt)}paintFormXObjectBegin(at,ht){if(Array.isArray(at)&&at.length===6&&this.transform(at[0],at[1],at[2],at[3],at[4],at[5]),ht){const lt=ht[2]-ht[0],ft=ht[3]-ht[1],yt=this.svgFactory.createElement("svg:rect");yt.setAttributeNS(null,"x",ht[0]),yt.setAttributeNS(null,"y",ht[1]),yt.setAttributeNS(null,"width",tt(lt)),yt.setAttributeNS(null,"height",tt(ft)),this.current.element=yt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(at){const ht=this.svgFactory.create(at.width,at.height),lt=this.svgFactory.createElement("svg:defs");ht.append(lt),this.defs=lt;const ft=this.svgFactory.createElement("svg:g");return ft.setAttributeNS(null,"transform",it(at.transform)),ht.append(ft),this.svg=ft,ht}_ensureClipGroup(){if(!this.current.clipGroup){const at=this.svgFactory.createElement("svg:g");at.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(at),this.current.clipGroup=at}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",it(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=ot},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class i{static textContent(o){const c=[],d={items:c,styles:Object.create(null)};function g(b){var $;if(!b)return;let _=null;const j=b.name;if(j==="#text")_=b.value;else if(i.shouldBuildText(j))($=b==null?void 0:b.attributes)!=null&&$.textContent?_=b.attributes.textContent:b.value&&(_=b.value);else return;if(_!==null&&c.push({str:_}),!!b.children)for(const _e of b.children)g(_e)}return g(o),d}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}e.XfaText=i},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=it,e.updateTextLayer=rt;var a=i(1),o=i(6);const c=1e5,d=30,g=.8,b=new Map;function _(nt,st){let ot;if(st&&a.FeatureTest.isOffscreenCanvasSupported)ot=new OffscreenCanvas(nt,nt).getContext("2d",{alpha:!1});else{const ct=document.createElement("canvas");ct.width=ct.height=nt,ot=ct.getContext("2d",{alpha:!1})}return ot}function j(nt,st){const ot=b.get(nt);if(ot)return ot;const ct=_(d,st);ct.font=`${d}px ${nt}`;const at=ct.measureText("");let ht=at.fontBoundingBoxAscent,lt=Math.abs(at.fontBoundingBoxDescent);if(ht){const yt=ht/(ht+lt);return b.set(nt,yt),ct.canvas.width=ct.canvas.height=0,yt}ct.strokeStyle="red",ct.clearRect(0,0,d,d),ct.strokeText("g",0,0);let ft=ct.getImageData(0,0,d,d).data;lt=0;for(let yt=ft.length-1-3;yt>=0;yt-=4)if(ft[yt]>0){lt=Math.ceil(yt/4/d);break}ct.clearRect(0,0,d,d),ct.strokeText("A",0,d),ft=ct.getImageData(0,0,d,d).data,ht=0;for(let yt=0,Et=ft.length;yt<Et;yt+=4)if(ft[yt]>0){ht=d-Math.floor(yt/4/d);break}if(ct.canvas.width=ct.canvas.height=0,ht){const yt=ht/(ht+lt);return b.set(nt,yt),yt}return b.set(nt,g),g}function $(nt,st,ot){const ct=document.createElement("span"),at={angle:0,canvasWidth:0,hasText:st.str!=="",hasEOL:st.hasEOL,fontSize:0};nt._textDivs.push(ct);const ht=a.Util.transform(nt._transform,st.transform);let lt=Math.atan2(ht[1],ht[0]);const ft=ot[st.fontName];ft.vertical&&(lt+=Math.PI/2);const yt=Math.hypot(ht[2],ht[3]),Et=yt*j(ft.fontFamily,nt._isOffscreenCanvasSupported);let mt,At;lt===0?(mt=ht[4],At=ht[5]-Et):(mt=ht[4]+Et*Math.sin(lt),At=ht[5]-Et*Math.cos(lt));const Rt="calc(var(--scale-factor)*",qt=ct.style;nt._container===nt._rootContainer?(qt.left=`${(100*mt/nt._pageWidth).toFixed(2)}%`,qt.top=`${(100*At/nt._pageHeight).toFixed(2)}%`):(qt.left=`${Rt}${mt.toFixed(2)}px)`,qt.top=`${Rt}${At.toFixed(2)}px)`),qt.fontSize=`${Rt}${yt.toFixed(2)}px)`,qt.fontFamily=ft.fontFamily,at.fontSize=yt,ct.setAttribute("role","presentation"),ct.textContent=st.str,ct.dir=st.dir,nt._fontInspectorEnabled&&(ct.dataset.fontName=st.fontName),lt!==0&&(at.angle=lt*(180/Math.PI));let Bt=!1;if(st.str.length>1)Bt=!0;else if(st.str!==" "&&st.transform[0]!==st.transform[3]){const $t=Math.abs(st.transform[0]),jt=Math.abs(st.transform[3]);$t!==jt&&Math.max($t,jt)/Math.min($t,jt)>1.5&&(Bt=!0)}Bt&&(at.canvasWidth=ft.vertical?st.height:st.width),nt._textDivProperties.set(ct,at),nt._isReadableStream&&nt._layoutText(ct)}function _e(nt){const{div:st,scale:ot,properties:ct,ctx:at,prevFontSize:ht,prevFontFamily:lt}=nt,{style:ft}=st;let yt="";if(ct.canvasWidth!==0&&ct.hasText){const{fontFamily:Et}=ft,{canvasWidth:mt,fontSize:At}=ct;(ht!==At||lt!==Et)&&(at.font=`${At*ot}px ${Et}`,nt.prevFontSize=At,nt.prevFontFamily=Et);const{width:Rt}=at.measureText(st.textContent);Rt>0&&(yt=`scaleX(${mt*ot/Rt})`)}ct.angle!==0&&(yt=`rotate(${ct.angle}deg) ${yt}`),yt.length>0&&(ft.transform=yt)}function et(nt){if(nt._canceled)return;const st=nt._textDivs,ot=nt._capability;if(st.length>c){ot.resolve();return}if(!nt._isReadableStream)for(const at of st)nt._layoutText(at);ot.resolve()}class tt{constructor({textContentSource:st,container:ot,viewport:ct,textDivs:at,textDivProperties:ht,textContentItemsStr:lt,isOffscreenCanvasSupported:ft}){var Rt;this._textContentSource=st,this._isReadableStream=st instanceof ReadableStream,this._container=this._rootContainer=ot,this._textDivs=at||[],this._textContentItemsStr=lt||[],this._isOffscreenCanvasSupported=ft,this._fontInspectorEnabled=!!((Rt=globalThis.FontInspector)!=null&&Rt.enabled),this._reader=null,this._textDivProperties=ht||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ct.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_(0,ft)};const{pageWidth:yt,pageHeight:Et,pageX:mt,pageY:At}=ct.rawDims;this._transform=[1,0,0,-1,-mt,At+Et],this._pageWidth=yt,this._pageHeight=Et,(0,o.setLayerDimensions)(ot,ct),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(st,ot){for(const ct of st){if(ct.str===void 0){if(ct.type==="beginMarkedContentProps"||ct.type==="beginMarkedContent"){const at=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ct.id!==null&&this._container.setAttribute("id",`${ct.id}`),at.append(this._container)}else ct.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ct.str),$(this,ct,ot)}}_layoutText(st){const ot=this._layoutTextParams.properties=this._textDivProperties.get(st);if(this._layoutTextParams.div=st,_e(this._layoutTextParams),ot.hasText&&this._container.append(st),ot.hasEOL){const ct=document.createElement("br");ct.setAttribute("role","presentation"),this._container.append(ct)}}_render(){const st=new a.PromiseCapability;let ot=Object.create(null);if(this._isReadableStream){const ct=()=>{this._reader.read().then(({value:at,done:ht})=>{if(ht){st.resolve();return}Object.assign(ot,at.styles),this._processItems(at.items,ot),ct()},st.reject)};this._reader=this._textContentSource.getReader(),ct()}else if(this._textContentSource){const{items:ct,styles:at}=this._textContentSource;this._processItems(ct,at),st.resolve()}else throw new Error('No "textContentSource" parameter specified.');st.promise.then(()=>{ot=null,et(this)},this._capability.reject)}}e.TextLayerRenderTask=tt;function it(nt){!nt.textContentSource&&(nt.textContent||nt.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),nt.textContentSource=nt.textContent||nt.textContentStream);const{container:st,viewport:ot}=nt,ct=getComputedStyle(st),at=ct.getPropertyValue("visibility"),ht=parseFloat(ct.getPropertyValue("--scale-factor"));at==="visible"&&(!ht||Math.abs(ht-ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const lt=new tt(nt);return lt._render(),lt}function rt({container:nt,viewport:st,textDivs:ot,textDivProperties:ct,isOffscreenCanvasSupported:at,mustRotate:ht=!0,mustRescale:lt=!0}){if(ht&&(0,o.setLayerDimensions)(nt,{rotation:st.rotation}),lt){const ft=_(0,at),Et={prevFontSize:null,prevFontFamily:null,div:null,scale:st.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ft};for(const mt of ot)Et.properties=ct.get(mt),Et.div=mt,_e(Et)}}},(s,e,i)=>{var j,$,_e,et,tt,it,rt,nt,st,ot,ct,_x,Ky,Sx,Cx;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var a=i(1),o=i(4),c=i(28),d=i(33),g=i(6),b=i(34);const yt=class yt{constructor({uiManager:mt,pageIndex:At,div:Rt,accessibilityManager:qt,annotationLayer:Bt,viewport:$t,l10n:jt}){pt(this,ct);pt(this,j);pt(this,$,!1);pt(this,_e,null);pt(this,et,this.pointerup.bind(this));pt(this,tt,this.pointerdown.bind(this));pt(this,it,new Map);pt(this,rt,!1);pt(this,nt,!1);pt(this,st,!1);pt(this,ot);const Ft=[c.FreeTextEditor,d.InkEditor,b.StampEditor];if(!yt._initialized){yt._initialized=!0;for(const St of Ft)St.initialize(jt)}mt.registerEditorTypes(Ft),dt(this,ot,mt),this.pageIndex=At,this.div=Rt,dt(this,j,qt),dt(this,_e,Bt),this.viewport=$t,h(this,ot).addLayer(this)}get isEmpty(){return h(this,it).size===0}updateToolbar(mt){h(this,ot).updateToolbar(mt)}updateMode(mt=h(this,ot).getMode()){ut(this,ct,Cx).call(this),mt===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),mt!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",mt===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",mt===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",mt===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(mt){if(!mt&&h(this,ot).getMode()!==a.AnnotationEditorType.INK)return;if(!mt){for(const Rt of h(this,it).values())if(Rt.isEmpty()){Rt.setInBackground();return}}ut(this,ct,Ky).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(mt){h(this,ot).setEditingState(mt)}addCommands(mt){h(this,ot).addCommands(mt)}enable(){this.div.style.pointerEvents="auto";const mt=new Set;for(const Rt of h(this,it).values())Rt.enableEditing(),Rt.annotationElementId&&mt.add(Rt.annotationElementId);if(!h(this,_e))return;const At=h(this,_e).getEditableAnnotations();for(const Rt of At){if(Rt.hide(),h(this,ot).isDeletedAnnotationElement(Rt.data.id)||mt.has(Rt.data.id))continue;const qt=this.deserialize(Rt);qt&&(this.addOrRebuild(qt),qt.enableEditing())}}disable(){var At;dt(this,st,!0),this.div.style.pointerEvents="none";const mt=new Set;for(const Rt of h(this,it).values()){if(Rt.disableEditing(),!Rt.annotationElementId||Rt.serialize()!==null){mt.add(Rt.annotationElementId);continue}(At=this.getEditableAnnotation(Rt.annotationElementId))==null||At.show(),Rt.remove()}if(h(this,_e)){const Rt=h(this,_e).getEditableAnnotations();for(const qt of Rt){const{id:Bt}=qt.data;mt.has(Bt)||h(this,ot).isDeletedAnnotationElement(Bt)||qt.show()}}ut(this,ct,Cx).call(this),this.isEmpty&&(this.div.hidden=!0),dt(this,st,!1)}getEditableAnnotation(mt){var At;return((At=h(this,_e))==null?void 0:At.getEditableAnnotation(mt))||null}setActiveEditor(mt){h(this,ot).getActive()!==mt&&h(this,ot).setActiveEditor(mt)}enableClick(){this.div.addEventListener("pointerdown",h(this,tt)),this.div.addEventListener("pointerup",h(this,et))}disableClick(){this.div.removeEventListener("pointerdown",h(this,tt)),this.div.removeEventListener("pointerup",h(this,et))}attach(mt){h(this,it).set(mt.id,mt);const{annotationElementId:At}=mt;At&&h(this,ot).isDeletedAnnotationElement(At)&&h(this,ot).removeDeletedAnnotationElement(mt)}detach(mt){var At;h(this,it).delete(mt.id),(At=h(this,j))==null||At.removePointerInTextLayer(mt.contentDiv),!h(this,st)&&mt.annotationElementId&&h(this,ot).addDeletedAnnotationElement(mt)}remove(mt){this.detach(mt),h(this,ot).removeEditor(mt),mt.div.contains(document.activeElement)&&setTimeout(()=>{h(this,ot).focusMainContainer()},0),mt.div.remove(),mt.isAttachedToDOM=!1,h(this,nt)||this.addInkEditorIfNeeded(!1)}changeParent(mt){var At;mt.parent!==this&&(mt.annotationElementId&&(h(this,ot).addDeletedAnnotationElement(mt.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(mt),mt.annotationElementId=null),this.attach(mt),(At=mt.parent)==null||At.detach(mt),mt.setParent(this),mt.div&&mt.isAttachedToDOM&&(mt.div.remove(),this.div.append(mt.div)))}add(mt){if(this.changeParent(mt),h(this,ot).addEditor(mt),this.attach(mt),!mt.isAttachedToDOM){const At=mt.render();this.div.append(At),mt.isAttachedToDOM=!0}mt.fixAndSetPosition(),mt.onceAdded(),h(this,ot).addToAnnotationStorage(mt)}moveEditorInDOM(mt){var Rt;if(!mt.isAttachedToDOM)return;const{activeElement:At}=document;mt.div.contains(At)&&(mt._focusEventsAllowed=!1,setTimeout(()=>{mt.div.contains(document.activeElement)?mt._focusEventsAllowed=!0:(mt.div.addEventListener("focusin",()=>{mt._focusEventsAllowed=!0},{once:!0}),At.focus())},0)),mt._structTreeParentId=(Rt=h(this,j))==null?void 0:Rt.moveElementInDOM(this.div,mt.div,mt.contentDiv,!0)}addOrRebuild(mt){mt.needsToBeRebuilt()?mt.rebuild():this.add(mt)}addUndoableEditor(mt){const At=()=>mt._uiManager.rebuild(mt),Rt=()=>{mt.remove()};this.addCommands({cmd:At,undo:Rt,mustExec:!1})}getNextId(){return h(this,ot).getId()}pasteEditor(mt,At){h(this,ot).updateToolbar(mt),h(this,ot).updateMode(mt);const{offsetX:Rt,offsetY:qt}=ut(this,ct,Sx).call(this),Bt=this.getNextId(),$t=ut(this,ct,_x).call(this,{parent:this,id:Bt,x:Rt,y:qt,uiManager:h(this,ot),isCentered:!0,...At});$t&&this.add($t)}deserialize(mt){switch(mt.annotationType??mt.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(mt,this,h(this,ot));case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(mt,this,h(this,ot));case a.AnnotationEditorType.STAMP:return b.StampEditor.deserialize(mt,this,h(this,ot))}return null}addNewEditor(){ut(this,ct,Ky).call(this,ut(this,ct,Sx).call(this),!0)}setSelected(mt){h(this,ot).setSelected(mt)}toggleSelected(mt){h(this,ot).toggleSelected(mt)}isSelected(mt){return h(this,ot).isSelected(mt)}unselect(mt){h(this,ot).unselect(mt)}pointerup(mt){const{isMac:At}=a.FeatureTest.platform;if(!(mt.button!==0||mt.ctrlKey&&At)&&mt.target===this.div&&h(this,rt)){if(dt(this,rt,!1),!h(this,$)){dt(this,$,!0);return}if(h(this,ot).getMode()===a.AnnotationEditorType.STAMP){h(this,ot).unselectAll();return}ut(this,ct,Ky).call(this,mt,!1)}}pointerdown(mt){if(h(this,rt)){dt(this,rt,!1);return}const{isMac:At}=a.FeatureTest.platform;if(mt.button!==0||mt.ctrlKey&&At||mt.target!==this.div)return;dt(this,rt,!0);const Rt=h(this,ot).getActive();dt(this,$,!Rt||Rt.isEmpty())}findNewParent(mt,At,Rt){const qt=h(this,ot).findParent(At,Rt);return qt===null||qt===this?!1:(qt.changeParent(mt),!0)}destroy(){var mt,At;((mt=h(this,ot).getActive())==null?void 0:mt.parent)===this&&(h(this,ot).commitOrRemove(),h(this,ot).setActiveEditor(null));for(const Rt of h(this,it).values())(At=h(this,j))==null||At.removePointerInTextLayer(Rt.contentDiv),Rt.setParent(null),Rt.isAttachedToDOM=!1,Rt.div.remove();this.div=null,h(this,it).clear(),h(this,ot).removeLayer(this)}render({viewport:mt}){this.viewport=mt,(0,g.setLayerDimensions)(this.div,mt);for(const At of h(this,ot).getEditors(this.pageIndex))this.add(At);this.updateMode()}update({viewport:mt}){h(this,ot).commitOrRemove(),this.viewport=mt,(0,g.setLayerDimensions)(this.div,{rotation:mt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:mt,pageHeight:At}=this.viewport.rawDims;return[mt,At]}};j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,it=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakMap,ct=new WeakSet,_x=function(mt){switch(h(this,ot).getMode()){case a.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(mt);case a.AnnotationEditorType.INK:return new d.InkEditor(mt);case a.AnnotationEditorType.STAMP:return new b.StampEditor(mt)}return null},Ky=function(mt,At){const Rt=this.getNextId(),qt=ut(this,ct,_x).call(this,{parent:this,id:Rt,x:mt.offsetX,y:mt.offsetY,uiManager:h(this,ot),isCentered:At});return qt&&this.add(qt),qt},Sx=function(){const{x:mt,y:At,width:Rt,height:qt}=this.div.getBoundingClientRect(),Bt=Math.max(0,mt),$t=Math.max(0,At),jt=Math.min(window.innerWidth,mt+Rt),Ft=Math.min(window.innerHeight,At+qt),St=(Bt+jt)/2-mt,It=($t+Ft)/2-At,[zt,_t]=this.viewport.rotation%180===0?[St,It]:[It,St];return{offsetX:zt,offsetY:_t}},Cx=function(){dt(this,nt,!0);for(const mt of h(this,it).values())mt.isEmpty()&&mt.remove();dt(this,nt,!1)},Xn(yt,"_initialized",!1);let _=yt;e.AnnotationEditorLayer=_},(s,e,i)=>{var b,_,j,$,_e,et,tt,it,rt,nt,yE,bE,xE,nv,Rx,wE,Tx;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var a=i(1),o=i(5),c=i(4),d=i(29);const yt=class yt extends c.AnnotationEditor{constructor(At){super({...At,name:"freeTextEditor"});pt(this,nt);pt(this,b,this.editorDivBlur.bind(this));pt(this,_,this.editorDivFocus.bind(this));pt(this,j,this.editorDivInput.bind(this));pt(this,$,this.editorDivKeydown.bind(this));pt(this,_e);pt(this,et,"");pt(this,tt,`${this.id}-editor`);pt(this,it);pt(this,rt,null);dt(this,_e,At.color||yt._defaultColor||c.AnnotationEditor._defaultLineColor),dt(this,it,At.fontSize||yt._defaultFontSize)}static get _keyboardManager(){const At=yt.prototype,Rt=$t=>$t.isEmpty(),qt=o.AnnotationEditorUIManager.TRANSLATE_SMALL,Bt=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],At.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],At.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],At._translateEmpty,{args:[-qt,0],checker:Rt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],At._translateEmpty,{args:[-Bt,0],checker:Rt}],[["ArrowRight","mac+ArrowRight"],At._translateEmpty,{args:[qt,0],checker:Rt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],At._translateEmpty,{args:[Bt,0],checker:Rt}],[["ArrowUp","mac+ArrowUp"],At._translateEmpty,{args:[0,-qt],checker:Rt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],At._translateEmpty,{args:[0,-Bt],checker:Rt}],[["ArrowDown","mac+ArrowDown"],At._translateEmpty,{args:[0,qt],checker:Rt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],At._translateEmpty,{args:[0,Bt],checker:Rt}]]))}static initialize(At){c.AnnotationEditor.initialize(At,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Rt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Rt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(At,Rt){switch(At){case a.AnnotationEditorParamsType.FREETEXT_SIZE:yt._defaultFontSize=Rt;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:yt._defaultColor=Rt;break}}updateParams(At,Rt){switch(At){case a.AnnotationEditorParamsType.FREETEXT_SIZE:ut(this,nt,yE).call(this,Rt);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:ut(this,nt,bE).call(this,Rt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,yt._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,yt._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,h(this,it)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,h(this,_e)]]}_translateEmpty(At,Rt){this._uiManager.translateSelectedEditors(At,Rt,!0)}getInitialTranslation(){const At=this.parentScale;return[-yt._internalPadding*At,-(yt._internalPadding+h(this,it))*At]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",h(this,$)),this.editorDiv.addEventListener("focus",h(this,_)),this.editorDiv.addEventListener("blur",h(this,b)),this.editorDiv.addEventListener("input",h(this,j)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,tt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",h(this,$)),this.editorDiv.removeEventListener("focus",h(this,_)),this.editorDiv.removeEventListener("blur",h(this,b)),this.editorDiv.removeEventListener("input",h(this,j)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(At){this._focusEventsAllowed&&(super.focusin(At),At.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var At;if(this.width){ut(this,nt,Tx).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(At=this._initialOptions)!=null&&At.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const At=h(this,et),Rt=dt(this,et,ut(this,nt,xE).call(this).trimEnd());if(At===Rt)return;const qt=Bt=>{if(dt(this,et,Bt),!Bt){this.remove();return}ut(this,nt,Rx).call(this),this._uiManager.rebuild(this),ut(this,nt,nv).call(this)};this.addCommands({cmd:()=>{qt(Rt)},undo:()=>{qt(At)},mustExec:!1}),ut(this,nt,nv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(At){this.enterInEditMode()}keydown(At){At.target===this.div&&At.key==="Enter"&&(this.enterInEditMode(),At.preventDefault())}editorDivKeydown(At){yt._keyboardManager.exec(this,At)}editorDivFocus(At){this.isEditing=!0}editorDivBlur(At){this.isEditing=!1}editorDivInput(At){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let At,Rt;this.width&&(At=this.x,Rt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,tt)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Bt=>{var $t;return($t=this.editorDiv)==null?void 0:$t.setAttribute("aria-label",Bt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Bt=>{var $t;return($t=this.editorDiv)==null?void 0:$t.setAttribute("default-content",Bt)}),this.editorDiv.contentEditable=!0;const{style:qt}=this.editorDiv;if(qt.fontSize=`calc(${h(this,it)}px * var(--scale-factor))`,qt.color=h(this,_e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Bt,$t]=this.parentDimensions;if(this.annotationElementId){const{position:jt}=h(this,rt);let[Ft,St]=this.getInitialTranslation();[Ft,St]=this.pageTranslationToScreen(Ft,St);const[It,zt]=this.pageDimensions,[_t,vt]=this.pageTranslation;let bt,wt;switch(this.rotation){case 0:bt=At+(jt[0]-_t)/It,wt=Rt+this.height-(jt[1]-vt)/zt;break;case 90:bt=At+(jt[0]-_t)/It,wt=Rt-(jt[1]-vt)/zt,[Ft,St]=[St,-Ft];break;case 180:bt=At-this.width+(jt[0]-_t)/It,wt=Rt-(jt[1]-vt)/zt,[Ft,St]=[-Ft,-St];break;case 270:bt=At+(jt[0]-_t-this.height*zt)/It,wt=Rt+(jt[1]-vt-this.width*It)/zt,[Ft,St]=[-St,Ft];break}this.setAt(bt*Bt,wt*$t,Ft,St)}else this.setAt(At*Bt,Rt*$t,this.width*Bt,this.height*$t);ut(this,nt,Rx).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(At,Rt,qt){let Bt=null;if(At instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:jt,fontColor:Ft},rect:St,rotation:It,id:zt},textContent:_t,textPosition:vt,parent:{page:{pageNumber:bt}}}=At;if(!_t||_t.length===0)return null;Bt=At={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(Ft),fontSize:jt,value:_t.join(`
`),position:vt,pageIndex:bt-1,rect:St,rotation:It,id:zt,deleted:!1}}const $t=super.deserialize(At,Rt,qt);return dt($t,it,At.fontSize),dt($t,_e,a.Util.makeHexColor(...At.color)),dt($t,et,At.value),$t.annotationElementId=At.id||null,dt($t,rt,Bt),$t}serialize(At=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Rt=yt._internalPadding*this.parentScale,qt=this.getRect(Rt,Rt),Bt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,_e)),$t={annotationType:a.AnnotationEditorType.FREETEXT,color:Bt,fontSize:h(this,it),value:h(this,et),pageIndex:this.pageIndex,rect:qt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return At?$t:this.annotationElementId&&!ut(this,nt,wE).call(this,$t)?null:($t.id=this.annotationElementId,$t)}};b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,it=new WeakMap,rt=new WeakMap,nt=new WeakSet,yE=function(At){const Rt=Bt=>{this.editorDiv.style.fontSize=`calc(${Bt}px * var(--scale-factor))`,this.translate(0,-(Bt-h(this,it))*this.parentScale),dt(this,it,Bt),ut(this,nt,nv).call(this)},qt=h(this,it);this.addCommands({cmd:()=>{Rt(At)},undo:()=>{Rt(qt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},bE=function(At){const Rt=h(this,_e);this.addCommands({cmd:()=>{dt(this,_e,this.editorDiv.style.color=At)},undo:()=>{dt(this,_e,this.editorDiv.style.color=Rt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xE=function(){const At=this.editorDiv.getElementsByTagName("div");if(At.length===0)return this.editorDiv.innerText;const Rt=[];for(const qt of At)Rt.push(qt.innerText.replace(/\r\n?|\n/,""));return Rt.join(`
`)},nv=function(){const[At,Rt]=this.parentDimensions;let qt;if(this.isAttachedToDOM)qt=this.div.getBoundingClientRect();else{const{currentLayer:Bt,div:$t}=this,jt=$t.style.display;$t.style.display="hidden",Bt.div.append(this.div),qt=$t.getBoundingClientRect(),$t.remove(),$t.style.display=jt}this.rotation%180===this.parentRotation%180?(this.width=qt.width/At,this.height=qt.height/Rt):(this.width=qt.height/At,this.height=qt.width/Rt),this.fixAndSetPosition()},Rx=function(){if(this.editorDiv.replaceChildren(),!!h(this,et))for(const At of h(this,et).split(`
`)){const Rt=document.createElement("div");Rt.append(At?document.createTextNode(At):document.createElement("br")),this.editorDiv.append(Rt)}},wE=function(At){const{value:Rt,fontSize:qt,color:Bt,rect:$t,pageIndex:jt}=h(this,rt);return At.value!==Rt||At.fontSize!==qt||At.rect.some((Ft,St)=>Math.abs(Ft-$t[St])>=1)||At.color.some((Ft,St)=>Ft!==Bt[St])||At.pageIndex!==jt},Tx=function(At=!1){if(!this.annotationElementId)return;if(ut(this,nt,nv).call(this),!At&&(this.width===0||this.height===0)){setTimeout(()=>ut(this,nt,Tx).call(this,!0),0);return}const Rt=yt._internalPadding*this.parentScale;h(this,rt).rect=this.getRect(Rt,Rt)},Xn(yt,"_freeTextDefaultContent",""),Xn(yt,"_internalPadding",0),Xn(yt,"_defaultColor",null),Xn(yt,"_defaultFontSize",10),Xn(yt,"_type","freetext");let g=yt;e.FreeTextEditor=g},(s,e,i)=>{var wt,kt,ju,EE,ln,dn,hn,gn,bn,xn,tn,sn,Ct,Dt,Yt,rn,fn,wn,vn,Kt,Pn,Cn,AE,Yy,kx,Px,qn,ds,Ts,mn,Qt,Jt,jn,Mx,Jn,Ot,pn,kn,_E,Lx;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var a=i(1),o=i(6),c=i(3),d=i(30),g=i(31),b=i(32);const _=1e3,j=9,$=new WeakSet;function _e(In){return{width:In[2]-In[0],height:In[3]-In[1]}}class et{static create(Lt){switch(Lt.data.annotationType){case a.AnnotationType.LINK:return new it(Lt);case a.AnnotationType.TEXT:return new rt(Lt);case a.AnnotationType.WIDGET:switch(Lt.data.fieldType){case"Tx":return new st(Lt);case"Btn":return Lt.data.radioButton?new at(Lt):Lt.data.checkBox?new ct(Lt):new ht(Lt);case"Ch":return new lt(Lt);case"Sig":return new ot(Lt)}return new nt(Lt);case a.AnnotationType.POPUP:return new ft(Lt);case a.AnnotationType.FREETEXT:return new Et(Lt);case a.AnnotationType.LINE:return new mt(Lt);case a.AnnotationType.SQUARE:return new At(Lt);case a.AnnotationType.CIRCLE:return new Rt(Lt);case a.AnnotationType.POLYLINE:return new qt(Lt);case a.AnnotationType.CARET:return new $t(Lt);case a.AnnotationType.INK:return new jt(Lt);case a.AnnotationType.POLYGON:return new Bt(Lt);case a.AnnotationType.HIGHLIGHT:return new Ft(Lt);case a.AnnotationType.UNDERLINE:return new St(Lt);case a.AnnotationType.SQUIGGLY:return new It(Lt);case a.AnnotationType.STRIKEOUT:return new zt(Lt);case a.AnnotationType.STAMP:return new _t(Lt);case a.AnnotationType.FILEATTACHMENT:return new vt(Lt);default:return new tt(Lt)}}}const Pt=class Pt{constructor(Lt,{isRenderable:Tt=!1,ignoreBorder:Wt=!1,createQuadrilaterals:cn=!1}={}){pt(this,wt,!1);this.isRenderable=Tt,this.data=Lt.data,this.layer=Lt.layer,this.linkService=Lt.linkService,this.downloadManager=Lt.downloadManager,this.imageResourcesPath=Lt.imageResourcesPath,this.renderForms=Lt.renderForms,this.svgFactory=Lt.svgFactory,this.annotationStorage=Lt.annotationStorage,this.enableScripting=Lt.enableScripting,this.hasJSActions=Lt.hasJSActions,this._fieldObjects=Lt.fieldObjects,this.parent=Lt.parent,Tt&&(this.container=this._createContainer(Wt)),cn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Lt,contentsObj:Tt,richText:Wt}){return!!(Lt!=null&&Lt.str||Tt!=null&&Tt.str||Wt!=null&&Wt.str)}get hasPopupData(){return Pt._hasPopupData(this.data)}_createContainer(Lt){const{data:Tt,parent:{page:Wt,viewport:cn}}=this,un=document.createElement("section");un.setAttribute("data-annotation-id",Tt.id),this instanceof nt||(un.tabIndex=_),un.style.zIndex=this.parent.zIndex++,this.data.popupRef&&un.setAttribute("aria-haspopup","dialog"),Tt.noRotate&&un.classList.add("norotate");const{pageWidth:yn,pageHeight:Sn,pageX:$n,pageY:On}=cn.rawDims;if(!Tt.rect||this instanceof ft){const{rotation:is}=Tt;return!Tt.hasOwnCanvas&&is!==0&&this.setRotation(is,un),un}const{width:Ln,height:cs}=_e(Tt.rect),Nn=a.Util.normalizeRect([Tt.rect[0],Wt.view[3]-Tt.rect[1]+Wt.view[1],Tt.rect[2],Wt.view[3]-Tt.rect[3]+Wt.view[1]]);if(!Lt&&Tt.borderStyle.width>0){un.style.borderWidth=`${Tt.borderStyle.width}px`;const is=Tt.borderStyle.horizontalCornerRadius,gs=Tt.borderStyle.verticalCornerRadius;if(is>0||gs>0){const Ds=`calc(${is}px * var(--scale-factor)) / calc(${gs}px * var(--scale-factor))`;un.style.borderRadius=Ds}else if(this instanceof at){const Ds=`calc(${Ln}px * var(--scale-factor)) / calc(${cs}px * var(--scale-factor))`;un.style.borderRadius=Ds}switch(Tt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:un.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:un.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:un.style.borderBottomStyle="solid";break}const _s=Tt.borderColor||null;_s?(dt(this,wt,!0),un.style.borderColor=a.Util.makeHexColor(_s[0]|0,_s[1]|0,_s[2]|0)):un.style.borderWidth=0}un.style.left=`${100*(Nn[0]-$n)/yn}%`,un.style.top=`${100*(Nn[1]-On)/Sn}%`;const{rotation:Gn}=Tt;return Tt.hasOwnCanvas||Gn===0?(un.style.width=`${100*Ln/yn}%`,un.style.height=`${100*cs/Sn}%`):this.setRotation(Gn,un),un}setRotation(Lt,Tt=this.container){if(!this.data.rect)return;const{pageWidth:Wt,pageHeight:cn}=this.parent.viewport.rawDims,{width:un,height:yn}=_e(this.data.rect);let Sn,$n;Lt%180===0?(Sn=100*un/Wt,$n=100*yn/cn):(Sn=100*yn/Wt,$n=100*un/cn),Tt.style.width=`${Sn}%`,Tt.style.height=`${$n}%`,Tt.setAttribute("data-main-rotation",(360-Lt)%360)}get _commonActions(){const Lt=(Tt,Wt,cn)=>{const un=cn.detail[Tt],yn=un[0],Sn=un.slice(1);cn.target.style[Wt]=d.ColorConverters[`${yn}_HTML`](Sn),this.annotationStorage.setValue(this.data.id,{[Wt]:d.ColorConverters[`${yn}_rgb`](Sn)})};return(0,a.shadow)(this,"_commonActions",{display:Tt=>{const{display:Wt}=Tt.detail,cn=Wt%2===1;this.container.style.visibility=cn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:cn,noPrint:Wt===1||Wt===2})},print:Tt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Tt.detail.print})},hidden:Tt=>{const{hidden:Wt}=Tt.detail;this.container.style.visibility=Wt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Wt,noView:Wt})},focus:Tt=>{setTimeout(()=>Tt.target.focus({preventScroll:!1}),0)},userName:Tt=>{Tt.target.title=Tt.detail.userName},readonly:Tt=>{Tt.target.disabled=Tt.detail.readonly},required:Tt=>{this._setRequired(Tt.target,Tt.detail.required)},bgColor:Tt=>{Lt("bgColor","backgroundColor",Tt)},fillColor:Tt=>{Lt("fillColor","backgroundColor",Tt)},fgColor:Tt=>{Lt("fgColor","color",Tt)},textColor:Tt=>{Lt("textColor","color",Tt)},borderColor:Tt=>{Lt("borderColor","borderColor",Tt)},strokeColor:Tt=>{Lt("strokeColor","borderColor",Tt)},rotation:Tt=>{const Wt=Tt.detail.rotation;this.setRotation(Wt),this.annotationStorage.setValue(this.data.id,{rotation:Wt})}})}_dispatchEventFromSandbox(Lt,Tt){const Wt=this._commonActions;for(const cn of Object.keys(Tt.detail)){const un=Lt[cn]||Wt[cn];un==null||un(Tt)}}_setDefaultPropertiesFromJS(Lt){if(!this.enableScripting)return;const Tt=this.annotationStorage.getRawValue(this.data.id);if(!Tt)return;const Wt=this._commonActions;for(const[cn,un]of Object.entries(Tt)){const yn=Wt[cn];if(yn){const Sn={detail:{[cn]:un},target:Lt};yn(Sn),delete Tt[cn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Lt}=this.data;if(!Lt)return;const[Tt,Wt,cn,un]=this.data.rect;if(Lt.length===1){const[,{x:gs,y:_s},{x:Ds,y:hr}]=Lt[0];if(cn===gs&&un===_s&&Tt===Ds&&Wt===hr)return}const{style:yn}=this.container;let Sn;if(h(this,wt)){const{borderColor:gs,borderWidth:_s}=yn;yn.borderWidth=0,Sn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${gs}" stroke-width="${_s}">`],this.container.classList.add("hasBorder")}const $n=cn-Tt,On=un-Wt,{svgFactory:Ln}=this,cs=Ln.createElement("svg");cs.classList.add("quadrilateralsContainer"),cs.setAttribute("width",0),cs.setAttribute("height",0);const Nn=Ln.createElement("defs");cs.append(Nn);const Gn=Ln.createElement("clipPath"),is=`clippath_${this.data.id}`;Gn.setAttribute("id",is),Gn.setAttribute("clipPathUnits","objectBoundingBox"),Nn.append(Gn);for(const[,{x:gs,y:_s},{x:Ds,y:hr}]of Lt){const Js=Ln.createElement("rect"),po=(Ds-Tt)/$n,Mo=(un-_s)/On,Lo=(gs-Ds)/$n,jy=(_s-hr)/On;Js.setAttribute("x",po),Js.setAttribute("y",Mo),Js.setAttribute("width",Lo),Js.setAttribute("height",jy),Gn.append(Js),Sn==null||Sn.push(`<rect vector-effect="non-scaling-stroke" x="${po}" y="${Mo}" width="${Lo}" height="${jy}"/>`)}h(this,wt)&&(Sn.push("</g></svg>')"),yn.backgroundImage=Sn.join("")),this.container.append(cs),this.container.style.clipPath=`url(#${is})`}_createPopup(){const{container:Lt,data:Tt}=this;Lt.setAttribute("aria-haspopup","dialog");const Wt=new ft({data:{color:Tt.color,titleObj:Tt.titleObj,modificationDate:Tt.modificationDate,contentsObj:Tt.contentsObj,richText:Tt.richText,parentRect:Tt.rect,borderStyle:0,id:`popup_${Tt.id}`,rotation:Tt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Wt.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Lt,Tt=null){const Wt=[];if(this._fieldObjects){const cn=this._fieldObjects[Lt];if(cn)for(const{page:un,id:yn,exportValues:Sn}of cn){if(un===-1||yn===Tt)continue;const $n=typeof Sn=="string"?Sn:null,On=document.querySelector(`[data-element-id="${yn}"]`);if(On&&!$.has(On)){(0,a.warn)(`_getElementsByName - element not allowed: ${yn}`);continue}Wt.push({id:yn,exportValue:$n,domElement:On})}return Wt}for(const cn of document.getElementsByName(Lt)){const{exportValue:un}=cn,yn=cn.getAttribute("data-element-id");yn!==Tt&&$.has(cn)&&Wt.push({id:yn,exportValue:un,domElement:cn})}return Wt}show(){var Lt;this.container&&(this.container.hidden=!1),(Lt=this.popup)==null||Lt.maybeShow()}hide(){var Lt;this.container&&(this.container.hidden=!0),(Lt=this.popup)==null||Lt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Lt=this.getElementsToTriggerPopup();if(Array.isArray(Lt))for(const Tt of Lt)Tt.classList.add("highlightArea");else Lt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Lt,data:{id:Tt}}=this;this.container.addEventListener("dblclick",()=>{var Wt;(Wt=this.linkService.eventBus)==null||Wt.dispatch("switchannotationeditormode",{source:this,mode:Lt,editId:Tt})})}};wt=new WeakMap;let tt=Pt;class it extends tt{constructor(Tt,Wt=null){super(Tt,{isRenderable:!0,ignoreBorder:!!(Wt!=null&&Wt.ignoreBorder),createQuadrilaterals:!0});pt(this,kt);this.isTooltipOnly=Tt.data.isTooltipOnly}render(){const{data:Tt,linkService:Wt}=this,cn=document.createElement("a");cn.setAttribute("data-element-id",Tt.id);let un=!1;return Tt.url?(Wt.addLinkAttributes(cn,Tt.url,Tt.newWindow),un=!0):Tt.action?(this._bindNamedAction(cn,Tt.action),un=!0):Tt.attachment?(this._bindAttachment(cn,Tt.attachment),un=!0):Tt.setOCGState?(ut(this,kt,EE).call(this,cn,Tt.setOCGState),un=!0):Tt.dest?(this._bindLink(cn,Tt.dest),un=!0):(Tt.actions&&(Tt.actions.Action||Tt.actions["Mouse Up"]||Tt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(cn,Tt),un=!0),Tt.resetForm?(this._bindResetFormAction(cn,Tt.resetForm),un=!0):this.isTooltipOnly&&!un&&(this._bindLink(cn,""),un=!0)),this.container.classList.add("linkAnnotation"),un&&this.container.append(cn),this.container}_bindLink(Tt,Wt){Tt.href=this.linkService.getDestinationHash(Wt),Tt.onclick=()=>(Wt&&this.linkService.goToDestination(Wt),!1),(Wt||Wt==="")&&ut(this,kt,ju).call(this)}_bindNamedAction(Tt,Wt){Tt.href=this.linkService.getAnchorUrl(""),Tt.onclick=()=>(this.linkService.executeNamedAction(Wt),!1),ut(this,kt,ju).call(this)}_bindAttachment(Tt,Wt){Tt.href=this.linkService.getAnchorUrl(""),Tt.onclick=()=>{var cn;return(cn=this.downloadManager)==null||cn.openOrDownloadData(this.container,Wt.content,Wt.filename),!1},ut(this,kt,ju).call(this)}_bindJSAction(Tt,Wt){Tt.href=this.linkService.getAnchorUrl("");const cn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const un of Object.keys(Wt.actions)){const yn=cn.get(un);yn&&(Tt[yn]=()=>{var Sn;return(Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wt.id,name:un}}),!1})}Tt.onclick||(Tt.onclick=()=>!1),ut(this,kt,ju).call(this)}_bindResetFormAction(Tt,Wt){const cn=Tt.onclick;if(cn||(Tt.href=this.linkService.getAnchorUrl("")),ut(this,kt,ju).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),cn||(Tt.onclick=()=>!1);return}Tt.onclick=()=>{var cs;cn==null||cn();const{fields:un,refs:yn,include:Sn}=Wt,$n=[];if(un.length!==0||yn.length!==0){const Nn=new Set(yn);for(const Gn of un){const is=this._fieldObjects[Gn]||[];for(const{id:gs}of is)Nn.add(gs)}for(const Gn of Object.values(this._fieldObjects))for(const is of Gn)Nn.has(is.id)===Sn&&$n.push(is)}else for(const Nn of Object.values(this._fieldObjects))$n.push(...Nn);const On=this.annotationStorage,Ln=[];for(const Nn of $n){const{id:Gn}=Nn;switch(Ln.push(Gn),Nn.type){case"text":{const gs=Nn.defaultValue||"";On.setValue(Gn,{value:gs});break}case"checkbox":case"radiobutton":{const gs=Nn.defaultValue===Nn.exportValues;On.setValue(Gn,{value:gs});break}case"combobox":case"listbox":{const gs=Nn.defaultValue||"";On.setValue(Gn,{value:gs});break}default:continue}const is=document.querySelector(`[data-element-id="${Gn}"]`);if(is){if(!$.has(is)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Gn}`);continue}}else continue;is.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((cs=this.linkService.eventBus)==null||cs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ln,name:"ResetForm"}})),!1}}}kt=new WeakSet,ju=function(){this.container.setAttribute("data-internal-link","")},EE=function(Tt,Wt){Tt.href=this.linkService.getAnchorUrl(""),Tt.onclick=()=>(this.linkService.executeSetOCGState(Wt),!1),ut(this,kt,ju).call(this)};class rt extends tt{constructor(Lt){super(Lt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Lt=document.createElement("img");return Lt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Lt.alt="[{{type}} Annotation]",Lt.dataset.l10nId="text_annotation_type",Lt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Lt),this.container}}class nt extends tt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Lt){var Tt;this.data.hasOwnCanvas&&(((Tt=Lt.previousSibling)==null?void 0:Tt.nodeName)==="CANVAS"&&(Lt.previousSibling.hidden=!0),Lt.hidden=!1)}_getKeyModifier(Lt){const{isWin:Tt,isMac:Wt}=a.FeatureTest.platform;return Tt&&Lt.ctrlKey||Wt&&Lt.metaKey}_setEventListener(Lt,Tt,Wt,cn,un){Wt.includes("mouse")?Lt.addEventListener(Wt,yn=>{var Sn;(Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:cn,value:un(yn),shift:yn.shiftKey,modifier:this._getKeyModifier(yn)}})}):Lt.addEventListener(Wt,yn=>{var Sn;if(Wt==="blur"){if(!Tt.focused||!yn.relatedTarget)return;Tt.focused=!1}else if(Wt==="focus"){if(Tt.focused)return;Tt.focused=!0}un&&((Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:cn,value:un(yn)}}))})}_setEventListeners(Lt,Tt,Wt,cn){var un,yn,Sn;for(const[$n,On]of Wt)(On==="Action"||(un=this.data.actions)!=null&&un[On])&&((On==="Focus"||On==="Blur")&&(Tt||(Tt={focused:!1})),this._setEventListener(Lt,Tt,$n,On,cn),On==="Focus"&&!((yn=this.data.actions)!=null&&yn.Blur)?this._setEventListener(Lt,Tt,"blur","Blur",null):On==="Blur"&&!((Sn=this.data.actions)!=null&&Sn.Focus)&&this._setEventListener(Lt,Tt,"focus","Focus",null))}_setBackgroundColor(Lt){const Tt=this.data.backgroundColor||null;Lt.style.backgroundColor=Tt===null?"transparent":a.Util.makeHexColor(Tt[0],Tt[1],Tt[2])}_setTextStyle(Lt){const Tt=["left","center","right"],{fontColor:Wt}=this.data.defaultAppearanceData,cn=this.data.defaultAppearanceData.fontSize||j,un=Lt.style;let yn;const Sn=2,$n=On=>Math.round(10*On)/10;if(this.data.multiLine){const On=Math.abs(this.data.rect[3]-this.data.rect[1]-Sn),Ln=Math.round(On/(a.LINE_FACTOR*cn))||1,cs=On/Ln;yn=Math.min(cn,$n(cs/a.LINE_FACTOR))}else{const On=Math.abs(this.data.rect[3]-this.data.rect[1]-Sn);yn=Math.min(cn,$n(On/a.LINE_FACTOR))}un.fontSize=`calc(${yn}px * var(--scale-factor))`,un.color=a.Util.makeHexColor(Wt[0],Wt[1],Wt[2]),this.data.textAlignment!==null&&(un.textAlign=Tt[this.data.textAlignment])}_setRequired(Lt,Tt){Tt?Lt.setAttribute("required",!0):Lt.removeAttribute("required"),Lt.setAttribute("aria-required",Tt)}}class st extends nt{constructor(Lt){const Tt=Lt.renderForms||!Lt.data.hasAppearance&&!!Lt.data.fieldValue;super(Lt,{isRenderable:Tt})}setPropertyOnSiblings(Lt,Tt,Wt,cn){const un=this.annotationStorage;for(const yn of this._getElementsByName(Lt.name,Lt.id))yn.domElement&&(yn.domElement[Tt]=Wt),un.setValue(yn.id,{[cn]:Wt})}render(){var cn,un;const Lt=this.annotationStorage,Tt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Wt=null;if(this.renderForms){const yn=Lt.getValue(Tt,{value:this.data.fieldValue});let Sn=yn.value||"";const $n=Lt.getValue(Tt,{charLimit:this.data.maxLen}).charLimit;$n&&Sn.length>$n&&(Sn=Sn.slice(0,$n));let On=yn.formattedValue||((cn=this.data.textContent)==null?void 0:cn.join(`
`))||null;On&&this.data.comb&&(On=On.replaceAll(/\s+/g,""));const Ln={userValue:Sn,formattedValue:On,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Wt=document.createElement("textarea"),Wt.textContent=On??Sn,this.data.doNotScroll&&(Wt.style.overflowY="hidden")):(Wt=document.createElement("input"),Wt.type="text",Wt.setAttribute("value",On??Sn),this.data.doNotScroll&&(Wt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Wt.hidden=!0),$.add(Wt),Wt.setAttribute("data-element-id",Tt),Wt.disabled=this.data.readOnly,Wt.name=this.data.fieldName,Wt.tabIndex=_,this._setRequired(Wt,this.data.required),$n&&(Wt.maxLength=$n),Wt.addEventListener("input",Nn=>{Lt.setValue(Tt,{value:Nn.target.value}),this.setPropertyOnSiblings(Wt,"value",Nn.target.value,"value"),Ln.formattedValue=null}),Wt.addEventListener("resetform",Nn=>{const Gn=this.data.defaultFieldValue??"";Wt.value=Ln.userValue=Gn,Ln.formattedValue=null});let cs=Nn=>{const{formattedValue:Gn}=Ln;Gn!=null&&(Nn.target.value=Gn),Nn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Wt.addEventListener("focus",Gn=>{if(Ln.focused)return;const{target:is}=Gn;Ln.userValue&&(is.value=Ln.userValue),Ln.lastCommittedValue=is.value,Ln.commitKey=1,Ln.focused=!0}),Wt.addEventListener("updatefromsandbox",Gn=>{this.showElementAndHideCanvas(Gn.target);const is={value(gs){Ln.userValue=gs.detail.value??"",Lt.setValue(Tt,{value:Ln.userValue.toString()}),gs.target.value=Ln.userValue},formattedValue(gs){const{formattedValue:_s}=gs.detail;Ln.formattedValue=_s,_s!=null&&gs.target!==document.activeElement&&(gs.target.value=_s),Lt.setValue(Tt,{formattedValue:_s})},selRange(gs){gs.target.setSelectionRange(...gs.detail.selRange)},charLimit:gs=>{var Js;const{charLimit:_s}=gs.detail,{target:Ds}=gs;if(_s===0){Ds.removeAttribute("maxLength");return}Ds.setAttribute("maxLength",_s);let hr=Ln.userValue;!hr||hr.length<=_s||(hr=hr.slice(0,_s),Ds.value=Ln.userValue=hr,Lt.setValue(Tt,{value:hr}),(Js=this.linkService.eventBus)==null||Js.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:hr,willCommit:!0,commitKey:1,selStart:Ds.selectionStart,selEnd:Ds.selectionEnd}}))}};this._dispatchEventFromSandbox(is,Gn)}),Wt.addEventListener("keydown",Gn=>{var _s;Ln.commitKey=1;let is=-1;if(Gn.key==="Escape"?is=0:Gn.key==="Enter"&&!this.data.multiLine?is=2:Gn.key==="Tab"&&(Ln.commitKey=3),is===-1)return;const{value:gs}=Gn.target;Ln.lastCommittedValue!==gs&&(Ln.lastCommittedValue=gs,Ln.userValue=gs,(_s=this.linkService.eventBus)==null||_s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:gs,willCommit:!0,commitKey:is,selStart:Gn.target.selectionStart,selEnd:Gn.target.selectionEnd}}))});const Nn=cs;cs=null,Wt.addEventListener("blur",Gn=>{var gs;if(!Ln.focused||!Gn.relatedTarget)return;Ln.focused=!1;const{value:is}=Gn.target;Ln.userValue=is,Ln.lastCommittedValue!==is&&((gs=this.linkService.eventBus)==null||gs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:is,willCommit:!0,commitKey:Ln.commitKey,selStart:Gn.target.selectionStart,selEnd:Gn.target.selectionEnd}})),Nn(Gn)}),(un=this.data.actions)!=null&&un.Keystroke&&Wt.addEventListener("beforeinput",Gn=>{var Mo;Ln.lastCommittedValue=null;const{data:is,target:gs}=Gn,{value:_s,selectionStart:Ds,selectionEnd:hr}=gs;let Js=Ds,po=hr;switch(Gn.inputType){case"deleteWordBackward":{const Lo=_s.substring(0,Ds).match(/\w*[^\w]*$/);Lo&&(Js-=Lo[0].length);break}case"deleteWordForward":{const Lo=_s.substring(Ds).match(/^[^\w]*\w*/);Lo&&(po+=Lo[0].length);break}case"deleteContentBackward":Ds===hr&&(Js-=1);break;case"deleteContentForward":Ds===hr&&(po+=1);break}Gn.preventDefault(),(Mo=this.linkService.eventBus)==null||Mo.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:_s,change:is||"",willCommit:!1,selStart:Js,selEnd:po}})}),this._setEventListeners(Wt,Ln,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Gn=>Gn.target.value)}if(cs&&Wt.addEventListener("blur",cs),this.data.comb){const Gn=(this.data.rect[2]-this.data.rect[0])/$n;Wt.classList.add("comb"),Wt.style.letterSpacing=`calc(${Gn}px * var(--scale-factor) - 1ch)`}}else Wt=document.createElement("div"),Wt.textContent=this.data.fieldValue,Wt.style.verticalAlign="middle",Wt.style.display="table-cell";return this._setTextStyle(Wt),this._setBackgroundColor(Wt),this._setDefaultPropertiesFromJS(Wt),this.container.append(Wt),this.container}}class ot extends nt{constructor(Lt){super(Lt,{isRenderable:!!Lt.data.hasOwnCanvas})}}class ct extends nt{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){const Lt=this.annotationStorage,Tt=this.data,Wt=Tt.id;let cn=Lt.getValue(Wt,{value:Tt.exportValue===Tt.fieldValue}).value;typeof cn=="string"&&(cn=cn!=="Off",Lt.setValue(Wt,{value:cn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const un=document.createElement("input");return $.add(un),un.setAttribute("data-element-id",Wt),un.disabled=Tt.readOnly,this._setRequired(un,this.data.required),un.type="checkbox",un.name=Tt.fieldName,cn&&un.setAttribute("checked",!0),un.setAttribute("exportValue",Tt.exportValue),un.tabIndex=_,un.addEventListener("change",yn=>{const{name:Sn,checked:$n}=yn.target;for(const On of this._getElementsByName(Sn,Wt)){const Ln=$n&&On.exportValue===Tt.exportValue;On.domElement&&(On.domElement.checked=Ln),Lt.setValue(On.id,{value:Ln})}Lt.setValue(Wt,{value:$n})}),un.addEventListener("resetform",yn=>{const Sn=Tt.defaultFieldValue||"Off";yn.target.checked=Sn===Tt.exportValue}),this.enableScripting&&this.hasJSActions&&(un.addEventListener("updatefromsandbox",yn=>{const Sn={value($n){$n.target.checked=$n.detail.value!=="Off",Lt.setValue(Wt,{value:$n.target.checked})}};this._dispatchEventFromSandbox(Sn,yn)}),this._setEventListeners(un,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],yn=>yn.target.checked)),this._setBackgroundColor(un),this._setDefaultPropertiesFromJS(un),this.container.append(un),this.container}}class at extends nt{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Lt=this.annotationStorage,Tt=this.data,Wt=Tt.id;let cn=Lt.getValue(Wt,{value:Tt.fieldValue===Tt.buttonValue}).value;typeof cn=="string"&&(cn=cn!==Tt.buttonValue,Lt.setValue(Wt,{value:cn}));const un=document.createElement("input");if($.add(un),un.setAttribute("data-element-id",Wt),un.disabled=Tt.readOnly,this._setRequired(un,this.data.required),un.type="radio",un.name=Tt.fieldName,cn&&un.setAttribute("checked",!0),un.tabIndex=_,un.addEventListener("change",yn=>{const{name:Sn,checked:$n}=yn.target;for(const On of this._getElementsByName(Sn,Wt))Lt.setValue(On.id,{value:!1});Lt.setValue(Wt,{value:$n})}),un.addEventListener("resetform",yn=>{const Sn=Tt.defaultFieldValue;yn.target.checked=Sn!=null&&Sn===Tt.buttonValue}),this.enableScripting&&this.hasJSActions){const yn=Tt.buttonValue;un.addEventListener("updatefromsandbox",Sn=>{const $n={value:On=>{const Ln=yn===On.detail.value;for(const cs of this._getElementsByName(On.target.name)){const Nn=Ln&&cs.id===Wt;cs.domElement&&(cs.domElement.checked=Nn),Lt.setValue(cs.id,{value:Nn})}}};this._dispatchEventFromSandbox($n,Sn)}),this._setEventListeners(un,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sn=>Sn.target.checked)}return this._setBackgroundColor(un),this._setDefaultPropertiesFromJS(un),this.container.append(un),this.container}}class ht extends it{constructor(Lt){super(Lt,{ignoreBorder:Lt.data.hasAppearance})}render(){const Lt=super.render();Lt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Lt.title=this.data.alternativeText);const Tt=Lt.lastChild;return this.enableScripting&&this.hasJSActions&&Tt&&(this._setDefaultPropertiesFromJS(Tt),Tt.addEventListener("updatefromsandbox",Wt=>{this._dispatchEventFromSandbox({},Wt)})),Lt}}class lt extends nt{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Lt=this.annotationStorage,Tt=this.data.id,Wt=Lt.getValue(Tt,{value:this.data.fieldValue}),cn=document.createElement("select");$.add(cn),cn.setAttribute("data-element-id",Tt),cn.disabled=this.data.readOnly,this._setRequired(cn,this.data.required),cn.name=this.data.fieldName,cn.tabIndex=_;let un=this.data.combo&&this.data.options.length>0;this.data.combo||(cn.size=this.data.options.length,this.data.multiSelect&&(cn.multiple=!0)),cn.addEventListener("resetform",Ln=>{const cs=this.data.defaultFieldValue;for(const Nn of cn.options)Nn.selected=Nn.value===cs});for(const Ln of this.data.options){const cs=document.createElement("option");cs.textContent=Ln.displayValue,cs.value=Ln.exportValue,Wt.value.includes(Ln.exportValue)&&(cs.setAttribute("selected",!0),un=!1),cn.append(cs)}let yn=null;if(un){const Ln=document.createElement("option");Ln.value=" ",Ln.setAttribute("hidden",!0),Ln.setAttribute("selected",!0),cn.prepend(Ln),yn=()=>{Ln.remove(),cn.removeEventListener("input",yn),yn=null},cn.addEventListener("input",yn)}const Sn=Ln=>{const cs=Ln?"value":"textContent",{options:Nn,multiple:Gn}=cn;return Gn?Array.prototype.filter.call(Nn,is=>is.selected).map(is=>is[cs]):Nn.selectedIndex===-1?null:Nn[Nn.selectedIndex][cs]};let $n=Sn(!1);const On=Ln=>{const cs=Ln.target.options;return Array.prototype.map.call(cs,Nn=>({displayValue:Nn.textContent,exportValue:Nn.value}))};return this.enableScripting&&this.hasJSActions?(cn.addEventListener("updatefromsandbox",Ln=>{const cs={value(Nn){yn==null||yn();const Gn=Nn.detail.value,is=new Set(Array.isArray(Gn)?Gn:[Gn]);for(const gs of cn.options)gs.selected=is.has(gs.value);Lt.setValue(Tt,{value:Sn(!0)}),$n=Sn(!1)},multipleSelection(Nn){cn.multiple=!0},remove(Nn){const Gn=cn.options,is=Nn.detail.remove;Gn[is].selected=!1,cn.remove(is),Gn.length>0&&Array.prototype.findIndex.call(Gn,_s=>_s.selected)===-1&&(Gn[0].selected=!0),Lt.setValue(Tt,{value:Sn(!0),items:On(Nn)}),$n=Sn(!1)},clear(Nn){for(;cn.length!==0;)cn.remove(0);Lt.setValue(Tt,{value:null,items:[]}),$n=Sn(!1)},insert(Nn){const{index:Gn,displayValue:is,exportValue:gs}=Nn.detail.insert,_s=cn.children[Gn],Ds=document.createElement("option");Ds.textContent=is,Ds.value=gs,_s?_s.before(Ds):cn.append(Ds),Lt.setValue(Tt,{value:Sn(!0),items:On(Nn)}),$n=Sn(!1)},items(Nn){const{items:Gn}=Nn.detail;for(;cn.length!==0;)cn.remove(0);for(const is of Gn){const{displayValue:gs,exportValue:_s}=is,Ds=document.createElement("option");Ds.textContent=gs,Ds.value=_s,cn.append(Ds)}cn.options.length>0&&(cn.options[0].selected=!0),Lt.setValue(Tt,{value:Sn(!0),items:On(Nn)}),$n=Sn(!1)},indices(Nn){const Gn=new Set(Nn.detail.indices);for(const is of Nn.target.options)is.selected=Gn.has(is.index);Lt.setValue(Tt,{value:Sn(!0)}),$n=Sn(!1)},editable(Nn){Nn.target.disabled=!Nn.detail.editable}};this._dispatchEventFromSandbox(cs,Ln)}),cn.addEventListener("input",Ln=>{var Nn;const cs=Sn(!0);Lt.setValue(Tt,{value:cs}),Ln.preventDefault(),(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:$n,changeEx:cs,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(cn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ln=>Ln.target.value)):cn.addEventListener("input",function(Ln){Lt.setValue(Tt,{value:Sn(!0)})}),this.data.combo&&this._setTextStyle(cn),this._setBackgroundColor(cn),this._setDefaultPropertiesFromJS(cn),this.container.append(cn),this.container}}class ft extends tt{constructor(Lt){const{data:Tt,elements:Wt}=Lt;super(Lt,{isRenderable:tt._hasPopupData(Tt)}),this.elements=Wt}render(){this.container.classList.add("popupAnnotation");const Lt=new yt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Tt=[];for(const Wt of this.elements)Wt.popup=Lt,Tt.push(Wt.data.id),Wt.addHighlightArea();return this.container.setAttribute("aria-controls",Tt.map(Wt=>`${a.AnnotationPrefix}${Wt}`).join(",")),this.container}}class yt{constructor({container:Lt,color:Tt,elements:Wt,titleObj:cn,modificationDate:un,contentsObj:yn,richText:Sn,parent:$n,rect:On,parentRect:Ln,open:cs}){pt(this,Cn);pt(this,ln,null);pt(this,dn,ut(this,Cn,AE).bind(this));pt(this,hn,ut(this,Cn,Px).bind(this));pt(this,gn,ut(this,Cn,kx).bind(this));pt(this,bn,ut(this,Cn,Yy).bind(this));pt(this,xn,null);pt(this,tn,null);pt(this,sn,null);pt(this,Ct,null);pt(this,Dt,null);pt(this,Yt,null);pt(this,rn,!1);pt(this,fn,null);pt(this,wn,null);pt(this,vn,null);pt(this,Kt,null);pt(this,Pn,!1);var Gn;dt(this,tn,Lt),dt(this,Kt,cn),dt(this,sn,yn),dt(this,vn,Sn),dt(this,Dt,$n),dt(this,xn,Tt),dt(this,wn,On),dt(this,Yt,Ln),dt(this,Ct,Wt);const Nn=o.PDFDateString.toDateObject(un);Nn&&dt(this,ln,$n.l10n.get("annotation_date_string",{date:Nn.toLocaleDateString(),time:Nn.toLocaleTimeString()})),this.trigger=Wt.flatMap(is=>is.getElementsToTriggerPopup());for(const is of this.trigger)is.addEventListener("click",h(this,bn)),is.addEventListener("mouseenter",h(this,gn)),is.addEventListener("mouseleave",h(this,hn)),is.classList.add("popupTriggerArea");for(const is of Wt)(Gn=is.container)==null||Gn.addEventListener("keydown",h(this,dn));h(this,tn).hidden=!0,cs&&ut(this,Cn,Yy).call(this)}render(){if(h(this,fn))return;const{page:{view:Lt},viewport:{rawDims:{pageWidth:Tt,pageHeight:Wt,pageX:cn,pageY:un}}}=h(this,Dt),yn=dt(this,fn,document.createElement("div"));if(yn.className="popup",h(this,xn)){const Js=yn.style.outlineColor=a.Util.makeHexColor(...h(this,xn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?yn.style.backgroundColor=`color-mix(in srgb, ${Js} 30%, white)`:yn.style.backgroundColor=a.Util.makeHexColor(...h(this,xn).map(Mo=>Math.floor(.7*(255-Mo)+Mo)))}const Sn=document.createElement("span");Sn.className="header";const $n=document.createElement("h1");if(Sn.append($n),{dir:$n.dir,str:$n.textContent}=h(this,Kt),yn.append(Sn),h(this,ln)){const Js=document.createElement("span");Js.classList.add("popupDate"),h(this,ln).then(po=>{Js.textContent=po}),Sn.append(Js)}const On=h(this,sn),Ln=h(this,vn);if(Ln!=null&&Ln.str&&(!(On!=null&&On.str)||On.str===Ln.str))b.XfaLayer.render({xfaHtml:Ln.html,intent:"richText",div:yn}),yn.lastChild.classList.add("richText","popupContent");else{const Js=this._formatContents(On);yn.append(Js)}let cs=!!h(this,Yt),Nn=cs?h(this,Yt):h(this,wn);for(const Js of h(this,Ct))if(!Nn||a.Util.intersect(Js.data.rect,Nn)!==null){Nn=Js.data.rect,cs=!0;break}const Gn=a.Util.normalizeRect([Nn[0],Lt[3]-Nn[1]+Lt[1],Nn[2],Lt[3]-Nn[3]+Lt[1]]),gs=cs?Nn[2]-Nn[0]+5:0,_s=Gn[0]+gs,Ds=Gn[1],{style:hr}=h(this,tn);hr.left=`${100*(_s-cn)/Tt}%`,hr.top=`${100*(Ds-un)/Wt}%`,h(this,tn).append(yn)}_formatContents({str:Lt,dir:Tt}){const Wt=document.createElement("p");Wt.classList.add("popupContent"),Wt.dir=Tt;const cn=Lt.split(/(?:\r\n?|\n)/);for(let un=0,yn=cn.length;un<yn;++un){const Sn=cn[un];Wt.append(document.createTextNode(Sn)),un<yn-1&&Wt.append(document.createElement("br"))}return Wt}forceHide(){dt(this,Pn,this.isVisible),h(this,Pn)&&(h(this,tn).hidden=!0)}maybeShow(){h(this,Pn)&&(dt(this,Pn,!1),h(this,tn).hidden=!1)}get isVisible(){return h(this,tn).hidden===!1}}ln=new WeakMap,dn=new WeakMap,hn=new WeakMap,gn=new WeakMap,bn=new WeakMap,xn=new WeakMap,tn=new WeakMap,sn=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Yt=new WeakMap,rn=new WeakMap,fn=new WeakMap,wn=new WeakMap,vn=new WeakMap,Kt=new WeakMap,Pn=new WeakMap,Cn=new WeakSet,AE=function(Lt){Lt.altKey||Lt.shiftKey||Lt.ctrlKey||Lt.metaKey||(Lt.key==="Enter"||Lt.key==="Escape"&&h(this,rn))&&ut(this,Cn,Yy).call(this)},Yy=function(){dt(this,rn,!h(this,rn)),h(this,rn)?(ut(this,Cn,kx).call(this),h(this,tn).addEventListener("click",h(this,bn)),h(this,tn).addEventListener("keydown",h(this,dn))):(ut(this,Cn,Px).call(this),h(this,tn).removeEventListener("click",h(this,bn)),h(this,tn).removeEventListener("keydown",h(this,dn)))},kx=function(){h(this,fn)||this.render(),this.isVisible?h(this,rn)&&h(this,tn).classList.add("focused"):(h(this,tn).hidden=!1,h(this,tn).style.zIndex=parseInt(h(this,tn).style.zIndex)+1e3)},Px=function(){h(this,tn).classList.remove("focused"),!(h(this,rn)||!this.isVisible)&&(h(this,tn).hidden=!0,h(this,tn).style.zIndex=parseInt(h(this,tn).style.zIndex)-1e3)};class Et extends tt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Lt.data.textContent,this.textPosition=Lt.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Lt=document.createElement("div");Lt.classList.add("annotationTextContent"),Lt.setAttribute("role","comment");for(const Tt of this.textContent){const Wt=document.createElement("span");Wt.textContent=Tt,Lt.append(Wt)}this.container.append(Lt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=Et;class mt extends tt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});pt(this,qn,null)}render(){this.container.classList.add("lineAnnotation");const Tt=this.data,{width:Wt,height:cn}=_e(Tt.rect),un=this.svgFactory.create(Wt,cn,!0),yn=dt(this,qn,this.svgFactory.createElement("svg:line"));return yn.setAttribute("x1",Tt.rect[2]-Tt.lineCoordinates[0]),yn.setAttribute("y1",Tt.rect[3]-Tt.lineCoordinates[1]),yn.setAttribute("x2",Tt.rect[2]-Tt.lineCoordinates[2]),yn.setAttribute("y2",Tt.rect[3]-Tt.lineCoordinates[3]),yn.setAttribute("stroke-width",Tt.borderStyle.width||1),yn.setAttribute("stroke","transparent"),yn.setAttribute("fill","transparent"),un.append(yn),this.container.append(un),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}qn=new WeakMap;class At extends tt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});pt(this,ds,null)}render(){this.container.classList.add("squareAnnotation");const Tt=this.data,{width:Wt,height:cn}=_e(Tt.rect),un=this.svgFactory.create(Wt,cn,!0),yn=Tt.borderStyle.width,Sn=dt(this,ds,this.svgFactory.createElement("svg:rect"));return Sn.setAttribute("x",yn/2),Sn.setAttribute("y",yn/2),Sn.setAttribute("width",Wt-yn),Sn.setAttribute("height",cn-yn),Sn.setAttribute("stroke-width",yn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),un.append(Sn),this.container.append(un),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,ds)}addHighlightArea(){this.container.classList.add("highlightArea")}}ds=new WeakMap;class Rt extends tt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});pt(this,Ts,null)}render(){this.container.classList.add("circleAnnotation");const Tt=this.data,{width:Wt,height:cn}=_e(Tt.rect),un=this.svgFactory.create(Wt,cn,!0),yn=Tt.borderStyle.width,Sn=dt(this,Ts,this.svgFactory.createElement("svg:ellipse"));return Sn.setAttribute("cx",Wt/2),Sn.setAttribute("cy",cn/2),Sn.setAttribute("rx",Wt/2-yn/2),Sn.setAttribute("ry",cn/2-yn/2),Sn.setAttribute("stroke-width",yn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),un.append(Sn),this.container.append(un),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Ts)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ts=new WeakMap;class qt extends tt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});pt(this,mn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Tt=this.data,{width:Wt,height:cn}=_e(Tt.rect),un=this.svgFactory.create(Wt,cn,!0);let yn=[];for(const $n of Tt.vertices){const On=$n.x-Tt.rect[0],Ln=Tt.rect[3]-$n.y;yn.push(On+","+Ln)}yn=yn.join(" ");const Sn=dt(this,mn,this.svgFactory.createElement(this.svgElementName));return Sn.setAttribute("points",yn),Sn.setAttribute("stroke-width",Tt.borderStyle.width||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),un.append(Sn),this.container.append(un),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}mn=new WeakMap;class Bt extends qt{constructor(Lt){super(Lt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $t extends tt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class jt extends tt{constructor(Tt){super(Tt,{isRenderable:!0,ignoreBorder:!0});pt(this,Qt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Tt=this.data,{width:Wt,height:cn}=_e(Tt.rect),un=this.svgFactory.create(Wt,cn,!0);for(const yn of Tt.inkLists){let Sn=[];for(const On of yn){const Ln=On.x-Tt.rect[0],cs=Tt.rect[3]-On.y;Sn.push(`${Ln},${cs}`)}Sn=Sn.join(" ");const $n=this.svgFactory.createElement(this.svgElementName);h(this,Qt).push($n),$n.setAttribute("points",Sn),$n.setAttribute("stroke-width",Tt.borderStyle.width||1),$n.setAttribute("stroke","transparent"),$n.setAttribute("fill","transparent"),!Tt.popupRef&&this.hasPopupData&&this._createPopup(),un.append($n)}return this.container.append(un),this.container}getElementsToTriggerPopup(){return h(this,Qt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qt=new WeakMap,e.InkAnnotationElement=jt;class Ft extends tt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class St extends tt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class It extends tt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class zt extends tt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _t extends tt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=_t;class vt extends tt{constructor(Tt){var un;super(Tt,{isRenderable:!0});pt(this,jn);pt(this,Jt,null);const{filename:Wt,content:cn}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(Wt,!0),this.content=cn,(un=this.linkService.eventBus)==null||un.dispatch("fileattachmentannotation",{source:this,filename:Wt,content:cn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Tt,data:Wt}=this;let cn;Wt.hasAppearance||Wt.fillAlpha===0?cn=document.createElement("div"):(cn=document.createElement("img"),cn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Wt.name)?"paperclip":"pushpin"}.svg`,Wt.fillAlpha&&Wt.fillAlpha<1&&(cn.style=`filter: opacity(${Math.round(Wt.fillAlpha*100)}%);`)),cn.addEventListener("dblclick",ut(this,jn,Mx).bind(this)),dt(this,Jt,cn);const{isMac:un}=a.FeatureTest.platform;return Tt.addEventListener("keydown",yn=>{yn.key==="Enter"&&(un?yn.metaKey:yn.ctrlKey)&&ut(this,jn,Mx).call(this)}),!Wt.popupRef&&this.hasPopupData?this._createPopup():cn.classList.add("popupTriggerArea"),Tt.append(cn),Tt}getElementsToTriggerPopup(){return h(this,Jt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jt=new WeakMap,jn=new WeakSet,Mx=function(){var Tt;(Tt=this.downloadManager)==null||Tt.openOrDownloadData(this.container,this.content,this.filename)};class bt{constructor({div:Lt,accessibilityManager:Tt,annotationCanvasMap:Wt,l10n:cn,page:un,viewport:yn}){pt(this,kn);pt(this,Jn,null);pt(this,Ot,null);pt(this,pn,new Map);this.div=Lt,dt(this,Jn,Tt),dt(this,Ot,Wt),this.l10n=cn,this.page=un,this.viewport=yn,this.zIndex=0,this.l10n||(this.l10n=g.NullL10n)}async render(Lt){const{annotations:Tt}=Lt,Wt=this.div;(0,o.setLayerDimensions)(Wt,this.viewport);const cn=new Map,un={data:null,layer:Wt,linkService:Lt.linkService,downloadManager:Lt.downloadManager,imageResourcesPath:Lt.imageResourcesPath||"",renderForms:Lt.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:Lt.annotationStorage||new c.AnnotationStorage,enableScripting:Lt.enableScripting===!0,hasJSActions:Lt.hasJSActions,fieldObjects:Lt.fieldObjects,parent:this,elements:null};for(const yn of Tt){if(yn.noHTML)continue;const Sn=yn.annotationType===a.AnnotationType.POPUP;if(Sn){const Ln=cn.get(yn.id);if(!Ln)continue;un.elements=Ln}else{const{width:Ln,height:cs}=_e(yn.rect);if(Ln<=0||cs<=0)continue}un.data=yn;const $n=et.create(un);if(!$n.isRenderable)continue;if(!Sn&&yn.popupRef){const Ln=cn.get(yn.popupRef);Ln?Ln.push($n):cn.set(yn.popupRef,[$n])}$n.annotationEditorType>0&&h(this,pn).set($n.data.id,$n);const On=$n.render();yn.hidden&&(On.style.visibility="hidden"),ut(this,kn,_E).call(this,On,yn.id)}ut(this,kn,Lx).call(this),await this.l10n.translate(Wt)}update({viewport:Lt}){const Tt=this.div;this.viewport=Lt,(0,o.setLayerDimensions)(Tt,{rotation:Lt.rotation}),ut(this,kn,Lx).call(this),Tt.hidden=!1}getEditableAnnotations(){return Array.from(h(this,pn).values())}getEditableAnnotation(Lt){return h(this,pn).get(Lt)}}Jn=new WeakMap,Ot=new WeakMap,pn=new WeakMap,kn=new WeakSet,_E=function(Lt,Tt){var cn;const Wt=Lt.firstChild||Lt;Wt.id=`${a.AnnotationPrefix}${Tt}`,this.div.append(Lt),(cn=h(this,Jn))==null||cn.moveElementInDOM(this.div,Lt,Wt,!1)},Lx=function(){if(!h(this,Ot))return;const Lt=this.div;for(const[Tt,Wt]of h(this,Ot)){const cn=Lt.querySelector(`[data-annotation-id="${Tt}"]`);if(!cn)continue;const{firstChild:un}=cn;un?un.nodeName==="CANVAS"?un.replaceWith(Wt):un.before(Wt):cn.append(Wt)}h(this,Ot).clear()},e.AnnotationLayer=bt},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function i(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function a(c){return Math.max(0,Math.min(255,255*c))}class o{static CMYK_G([d,g,b,_]){return["G",1-Math.min(1,.3*d+.59*b+.11*g+_)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=a(d),[d,d,d]}static G_HTML([d]){const g=i(d);return`#${g}${g}${g}`}static RGB_G([d,g,b]){return["G",.3*d+.59*g+.11*b]}static RGB_rgb(d){return d.map(a)}static RGB_HTML(d){return`#${d.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,g,b,_]){return["RGB",1-Math.min(1,d+_),1-Math.min(1,b+_),1-Math.min(1,g+_)]}static CMYK_rgb([d,g,b,_]){return[a(1-Math.min(1,d+_)),a(1-Math.min(1,b+_)),a(1-Math.min(1,g+_))]}static CMYK_HTML(d){const g=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([d,g,b]){const _=1-d,j=1-g,$=1-b,_e=Math.min(_,j,$);return["CMYK",_,j,$,_e]}}e.ColorConverters=o},(s,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=a;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function a(d,g){switch(d){case"find_match_count":d=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return i[d]||""}function o(d,g){return g?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(b,_)=>_ in g?g[_]:"{{"+_+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,g=null,b=a(d,g)){return o(b,g)},async translate(d){}};e.NullL10n=c},(s,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var a=i(25);class o{static setupStorage(d,g,b,_,j){const $=_.getValue(g,{value:null});switch(b.name){case"textarea":if($.value!==null&&(d.textContent=$.value),j==="print")break;d.addEventListener("input",_e=>{_.setValue(g,{value:_e.target.value})});break;case"input":if(b.attributes.type==="radio"||b.attributes.type==="checkbox"){if($.value===b.attributes.xfaOn?d.setAttribute("checked",!0):$.value===b.attributes.xfaOff&&d.removeAttribute("checked"),j==="print")break;d.addEventListener("change",_e=>{_.setValue(g,{value:_e.target.checked?_e.target.getAttribute("xfaOn"):_e.target.getAttribute("xfaOff")})})}else{if($.value!==null&&d.setAttribute("value",$.value),j==="print")break;d.addEventListener("input",_e=>{_.setValue(g,{value:_e.target.value})})}break;case"select":if($.value!==null){d.setAttribute("value",$.value);for(const _e of b.children)_e.attributes.value===$.value?_e.attributes.selected=!0:_e.attributes.hasOwnProperty("selected")&&delete _e.attributes.selected}d.addEventListener("input",_e=>{const et=_e.target.options,tt=et.selectedIndex===-1?"":et[et.selectedIndex].value;_.setValue(g,{value:tt})});break}}static setAttributes({html:d,element:g,storage:b=null,intent:_,linkService:j}){const{attributes:$}=g,_e=d instanceof HTMLAnchorElement;$.type==="radio"&&($.name=`${$.name}-${_}`);for(const[et,tt]of Object.entries($))if(tt!=null)switch(et){case"class":tt.length&&d.setAttribute(et,tt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",tt);break;case"style":Object.assign(d.style,tt);break;case"textContent":d.textContent=tt;break;default:(!_e||et!=="href"&&et!=="newWindow")&&d.setAttribute(et,tt)}_e&&j.addLinkAttributes(d,$.href,$.newWindow),b&&$.dataId&&this.setupStorage(d,$.dataId,g,b)}static render(d){var it;const g=d.annotationStorage,b=d.linkService,_=d.xfaHtml,j=d.intent||"display",$=document.createElement(_.name);_.attributes&&this.setAttributes({html:$,element:_,intent:j,linkService:b});const _e=[[_,-1,$]],et=d.div;if(et.append($),d.viewport){const rt=`matrix(${d.viewport.transform.join(",")})`;et.style.transform=rt}j!=="richText"&&et.setAttribute("class","xfaLayer xfaFont");const tt=[];for(;_e.length>0;){const[rt,nt,st]=_e.at(-1);if(nt+1===rt.children.length){_e.pop();continue}const ot=rt.children[++_e.at(-1)[1]];if(ot===null)continue;const{name:ct}=ot;if(ct==="#text"){const ht=document.createTextNode(ot.value);tt.push(ht),st.append(ht);continue}const at=(it=ot==null?void 0:ot.attributes)!=null&&it.xmlns?document.createElementNS(ot.attributes.xmlns,ct):document.createElement(ct);if(st.append(at),ot.attributes&&this.setAttributes({html:at,element:ot,storage:g,intent:j,linkService:b}),ot.children&&ot.children.length>0)_e.push([ot,-1,at]);else if(ot.value){const ht=document.createTextNode(ot.value);a.XfaText.shouldBuildText(ct)&&tt.push(ht),at.append(ht)}}for(const rt of et.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))rt.setAttribute("readOnly",!0);return{textDivs:tt}}static update(d){const g=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=g,d.div.hidden=!1}}e.XfaLayer=o},(s,e,i)=>{var _,j,$,_e,et,tt,it,rt,nt,st,ot,ct,at,ht,lt,SE,CE,RE,TE,Fx,kE,Ix,PE,ME,LE,FE,IE,Jo,jx,Qy,Zy,zp,Dx,Jy,kt,jE,Ox,DE,OE,Nx,e0,Vp;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var a=i(1),o=i(4),c=i(29),d=i(6),g=i(5);const xn=class xn extends o.AnnotationEditor{constructor(Ct){super({...Ct,name:"inkEditor"});pt(this,lt);pt(this,_,0);pt(this,j,0);pt(this,$,this.canvasPointermove.bind(this));pt(this,_e,this.canvasPointerleave.bind(this));pt(this,et,this.canvasPointerup.bind(this));pt(this,tt,this.canvasPointerdown.bind(this));pt(this,it,new Path2D);pt(this,rt,!1);pt(this,nt,!1);pt(this,st,!1);pt(this,ot,null);pt(this,ct,0);pt(this,at,0);pt(this,ht,null);this.color=Ct.color||null,this.thickness=Ct.thickness||null,this.opacity=Ct.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ct){o.AnnotationEditor.initialize(Ct,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ct,Dt){switch(Ct){case a.AnnotationEditorParamsType.INK_THICKNESS:xn._defaultThickness=Dt;break;case a.AnnotationEditorParamsType.INK_COLOR:xn._defaultColor=Dt;break;case a.AnnotationEditorParamsType.INK_OPACITY:xn._defaultOpacity=Dt/100;break}}updateParams(Ct,Dt){switch(Ct){case a.AnnotationEditorParamsType.INK_THICKNESS:ut(this,lt,SE).call(this,Dt);break;case a.AnnotationEditorParamsType.INK_COLOR:ut(this,lt,CE).call(this,Dt);break;case a.AnnotationEditorParamsType.INK_OPACITY:ut(this,lt,RE).call(this,Dt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,xn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,xn._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(xn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||xn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||xn._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??xn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ut(this,lt,Qy).call(this),ut(this,lt,Zy).call(this)),this.isAttachedToDOM||(this.parent.add(this),ut(this,lt,zp).call(this)),ut(this,lt,Vp).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,ot).disconnect(),dt(this,ot,null),super.remove())}setParent(Ct){!this.parent&&Ct?this._uiManager.removeShouldRescale(this):this.parent&&Ct===null&&this._uiManager.addShouldRescale(this),super.setParent(Ct)}onScaleChanging(){const[Ct,Dt]=this.parentDimensions,Yt=this.width*Ct,rn=this.height*Dt;this.setDimensions(Yt,rn)}enableEditMode(){h(this,rt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",h(this,tt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",h(this,tt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,rt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),dt(this,rt,!0),this.div.classList.add("disabled"),ut(this,lt,Vp).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ct){this._focusEventsAllowed&&(super.focusin(Ct),this.enableEditMode())}canvasPointerdown(Ct){Ct.button!==0||!this.isInEditMode()||h(this,rt)||(this.setInForeground(),Ct.preventDefault(),Ct.type!=="mouse"&&this.div.focus(),ut(this,lt,kE).call(this,Ct.offsetX,Ct.offsetY))}canvasPointermove(Ct){Ct.preventDefault(),ut(this,lt,Ix).call(this,Ct.offsetX,Ct.offsetY)}canvasPointerup(Ct){Ct.preventDefault(),ut(this,lt,jx).call(this,Ct)}canvasPointerleave(Ct){ut(this,lt,jx).call(this,Ct)}get isResizable(){return!this.isEmpty()&&h(this,rt)}render(){if(this.div)return this.div;let Ct,Dt;this.width&&(Ct=this.x,Dt=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(vn=>{var Kt;return(Kt=this.div)==null?void 0:Kt.setAttribute("aria-label",vn)});const[Yt,rn,fn,wn]=ut(this,lt,TE).call(this);if(this.setAt(Yt,rn,0,0),this.setDims(fn,wn),ut(this,lt,Qy).call(this),this.width){const[vn,Kt]=this.parentDimensions;this.setAspectRatio(this.width*vn,this.height*Kt),this.setAt(Ct*vn,Dt*Kt,this.width*vn,this.height*Kt),dt(this,st,!0),ut(this,lt,zp).call(this),this.setDims(this.width*vn,this.height*Kt),ut(this,lt,Jo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ut(this,lt,Zy).call(this),this.div}setDimensions(Ct,Dt){const Yt=Math.round(Ct),rn=Math.round(Dt);if(h(this,ct)===Yt&&h(this,at)===rn)return;dt(this,ct,Yt),dt(this,at,rn),this.canvas.style.visibility="hidden";const[fn,wn]=this.parentDimensions;this.width=Ct/fn,this.height=Dt/wn,this.fixAndSetPosition(),h(this,rt)&&ut(this,lt,Dx).call(this,Ct,Dt),ut(this,lt,zp).call(this),ut(this,lt,Jo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ct,Dt,Yt){var qn,ds,Ts;if(Ct instanceof c.InkAnnotationElement)return null;const rn=super.deserialize(Ct,Dt,Yt);rn.thickness=Ct.thickness,rn.color=a.Util.makeHexColor(...Ct.color),rn.opacity=Ct.opacity;const[fn,wn]=rn.pageDimensions,vn=rn.width*fn,Kt=rn.height*wn,Pn=rn.parentScale,Cn=Ct.thickness/2;dt(rn,rt,!0),dt(rn,ct,Math.round(vn)),dt(rn,at,Math.round(Kt));const{paths:as,rect:_i,rotation:ys}=Ct;for(let{bezier:mn}of as){mn=ut(qn=xn,kt,DE).call(qn,mn,_i,ys);const Qt=[];rn.paths.push(Qt);let Jt=Pn*(mn[0]-Cn),jn=Pn*(mn[1]-Cn);for(let Jn=2,Ot=mn.length;Jn<Ot;Jn+=6){const pn=Pn*(mn[Jn]-Cn),kn=Pn*(mn[Jn+1]-Cn),Un=Pn*(mn[Jn+2]-Cn),Vn=Pn*(mn[Jn+3]-Cn),In=Pn*(mn[Jn+4]-Cn),Lt=Pn*(mn[Jn+5]-Cn);Qt.push([[Jt,jn],[pn,kn],[Un,Vn],[In,Lt]]),Jt=In,jn=Lt}const Hn=ut(this,kt,jE).call(this,Qt);rn.bezierPath2D.push(Hn)}const Dn=ut(ds=rn,lt,Nx).call(ds);return dt(rn,j,Math.max(o.AnnotationEditor.MIN_SIZE,Dn[2]-Dn[0])),dt(rn,_,Math.max(o.AnnotationEditor.MIN_SIZE,Dn[3]-Dn[1])),ut(Ts=rn,lt,Dx).call(Ts,vn,Kt),rn}serialize(){if(this.isEmpty())return null;const Ct=this.getRect(0,0),Dt=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Dt,thickness:this.thickness,opacity:this.opacity,paths:ut(this,lt,OE).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ct),pageIndex:this.pageIndex,rect:Ct,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,it=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakMap,ct=new WeakMap,at=new WeakMap,ht=new WeakMap,lt=new WeakSet,SE=function(Ct){const Dt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ct,ut(this,lt,Vp).call(this)},undo:()=>{this.thickness=Dt,ut(this,lt,Vp).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},CE=function(Ct){const Dt=this.color;this.addCommands({cmd:()=>{this.color=Ct,ut(this,lt,Jo).call(this)},undo:()=>{this.color=Dt,ut(this,lt,Jo).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},RE=function(Ct){Ct/=100;const Dt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ct,ut(this,lt,Jo).call(this)},undo:()=>{this.opacity=Dt,ut(this,lt,Jo).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},TE=function(){const{parentRotation:Ct,parentDimensions:[Dt,Yt]}=this;switch(Ct){case 90:return[0,Yt,Yt,Dt];case 180:return[Dt,Yt,Dt,Yt];case 270:return[Dt,0,Yt,Dt];default:return[0,0,Dt,Yt]}},Fx=function(){const{ctx:Ct,color:Dt,opacity:Yt,thickness:rn,parentScale:fn,scaleFactor:wn}=this;Ct.lineWidth=rn*fn/wn,Ct.lineCap="round",Ct.lineJoin="round",Ct.miterLimit=10,Ct.strokeStyle=`${Dt}${(0,g.opacityToHex)(Yt)}`},kE=function(Ct,Dt){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",h(this,_e)),this.canvas.addEventListener("pointermove",h(this,$)),this.canvas.addEventListener("pointerup",h(this,et)),this.canvas.removeEventListener("pointerdown",h(this,tt)),this.isEditing=!0,h(this,st)||(dt(this,st,!0),ut(this,lt,zp).call(this),this.thickness||(this.thickness=xn._defaultThickness),this.color||(this.color=xn._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=xn._defaultOpacity)),this.currentPath.push([Ct,Dt]),dt(this,nt,!1),ut(this,lt,Fx).call(this),dt(this,ht,()=>{ut(this,lt,LE).call(this),h(this,ht)&&window.requestAnimationFrame(h(this,ht))}),window.requestAnimationFrame(h(this,ht))},Ix=function(Ct,Dt){const[Yt,rn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ct===Yt&&Dt===rn)return;const fn=this.currentPath;let wn=h(this,it);if(fn.push([Ct,Dt]),dt(this,nt,!0),fn.length<=2){wn.moveTo(...fn[0]),wn.lineTo(Ct,Dt);return}fn.length===3&&(dt(this,it,wn=new Path2D),wn.moveTo(...fn[0])),ut(this,lt,FE).call(this,wn,...fn.at(-3),...fn.at(-2),Ct,Dt)},PE=function(){if(this.currentPath.length===0)return;const Ct=this.currentPath.at(-1);h(this,it).lineTo(...Ct)},ME=function(Ct,Dt){dt(this,ht,null),Ct=Math.min(Math.max(Ct,0),this.canvas.width),Dt=Math.min(Math.max(Dt,0),this.canvas.height),ut(this,lt,Ix).call(this,Ct,Dt),ut(this,lt,PE).call(this);let Yt;if(this.currentPath.length!==1)Yt=ut(this,lt,IE).call(this);else{const Kt=[Ct,Dt];Yt=[[Kt,Kt.slice(),Kt.slice(),Kt]]}const rn=h(this,it),fn=this.currentPath;this.currentPath=[],dt(this,it,new Path2D);const wn=()=>{this.allRawPaths.push(fn),this.paths.push(Yt),this.bezierPath2D.push(rn),this.rebuild()},vn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ut(this,lt,Qy).call(this),ut(this,lt,Zy).call(this)),ut(this,lt,Vp).call(this))};this.addCommands({cmd:wn,undo:vn,mustExec:!0})},LE=function(){if(!h(this,nt))return;dt(this,nt,!1);const Ct=Math.ceil(this.thickness*this.parentScale),Dt=this.currentPath.slice(-3),Yt=Dt.map(wn=>wn[0]),rn=Dt.map(wn=>wn[1]);Math.min(...Yt)-Ct,Math.max(...Yt)+Ct,Math.min(...rn)-Ct,Math.max(...rn)+Ct;const{ctx:fn}=this;fn.save(),fn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const wn of this.bezierPath2D)fn.stroke(wn);fn.stroke(h(this,it)),fn.restore()},FE=function(Ct,Dt,Yt,rn,fn,wn,vn){const Kt=(Dt+rn)/2,Pn=(Yt+fn)/2,Cn=(rn+wn)/2,as=(fn+vn)/2;Ct.bezierCurveTo(Kt+2*(rn-Kt)/3,Pn+2*(fn-Pn)/3,Cn+2*(rn-Cn)/3,as+2*(fn-as)/3,Cn,as)},IE=function(){const Ct=this.currentPath;if(Ct.length<=2)return[[Ct[0],Ct[0],Ct.at(-1),Ct.at(-1)]];const Dt=[];let Yt,[rn,fn]=Ct[0];for(Yt=1;Yt<Ct.length-2;Yt++){const[_i,ys]=Ct[Yt],[Dn,qn]=Ct[Yt+1],ds=(_i+Dn)/2,Ts=(ys+qn)/2,mn=[rn+2*(_i-rn)/3,fn+2*(ys-fn)/3],Qt=[ds+2*(_i-ds)/3,Ts+2*(ys-Ts)/3];Dt.push([[rn,fn],mn,Qt,[ds,Ts]]),[rn,fn]=[ds,Ts]}const[wn,vn]=Ct[Yt],[Kt,Pn]=Ct[Yt+1],Cn=[rn+2*(wn-rn)/3,fn+2*(vn-fn)/3],as=[Kt+2*(wn-Kt)/3,Pn+2*(vn-Pn)/3];return Dt.push([[rn,fn],Cn,as,[Kt,Pn]]),Dt},Jo=function(){if(this.isEmpty()){ut(this,lt,Jy).call(this);return}ut(this,lt,Fx).call(this);const{canvas:Ct,ctx:Dt}=this;Dt.setTransform(1,0,0,1,0,0),Dt.clearRect(0,0,Ct.width,Ct.height),ut(this,lt,Jy).call(this);for(const Yt of this.bezierPath2D)Dt.stroke(Yt)},jx=function(Ct){this.canvas.removeEventListener("pointerleave",h(this,_e)),this.canvas.removeEventListener("pointermove",h(this,$)),this.canvas.removeEventListener("pointerup",h(this,et)),this.canvas.addEventListener("pointerdown",h(this,tt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),ut(this,lt,ME).call(this,Ct.offsetX,Ct.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Qy=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ct=>{var Dt;return(Dt=this.canvas)==null?void 0:Dt.setAttribute("aria-label",Ct)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Zy=function(){dt(this,ot,new ResizeObserver(Ct=>{const Dt=Ct[0].contentRect;Dt.width&&Dt.height&&this.setDimensions(Dt.width,Dt.height)})),h(this,ot).observe(this.div)},zp=function(){if(!h(this,st))return;const[Ct,Dt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ct),this.canvas.height=Math.ceil(this.height*Dt),ut(this,lt,Jy).call(this)},Dx=function(Ct,Dt){const Yt=ut(this,lt,e0).call(this),rn=(Ct-Yt)/h(this,j),fn=(Dt-Yt)/h(this,_);this.scaleFactor=Math.min(rn,fn)},Jy=function(){const Ct=ut(this,lt,e0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ct,this.translationY*this.scaleFactor+Ct)},kt=new WeakSet,jE=function(Ct){const Dt=new Path2D;for(let Yt=0,rn=Ct.length;Yt<rn;Yt++){const[fn,wn,vn,Kt]=Ct[Yt];Yt===0&&Dt.moveTo(...fn),Dt.bezierCurveTo(wn[0],wn[1],vn[0],vn[1],Kt[0],Kt[1])}return Dt},Ox=function(Ct,Dt,Yt){const[rn,fn,wn,vn]=Dt;switch(Yt){case 0:for(let Kt=0,Pn=Ct.length;Kt<Pn;Kt+=2)Ct[Kt]+=rn,Ct[Kt+1]=vn-Ct[Kt+1];break;case 90:for(let Kt=0,Pn=Ct.length;Kt<Pn;Kt+=2){const Cn=Ct[Kt];Ct[Kt]=Ct[Kt+1]+rn,Ct[Kt+1]=Cn+fn}break;case 180:for(let Kt=0,Pn=Ct.length;Kt<Pn;Kt+=2)Ct[Kt]=wn-Ct[Kt],Ct[Kt+1]+=fn;break;case 270:for(let Kt=0,Pn=Ct.length;Kt<Pn;Kt+=2){const Cn=Ct[Kt];Ct[Kt]=wn-Ct[Kt+1],Ct[Kt+1]=vn-Cn}break;default:throw new Error("Invalid rotation")}return Ct},DE=function(Ct,Dt,Yt){const[rn,fn,wn,vn]=Dt;switch(Yt){case 0:for(let Kt=0,Pn=Ct.length;Kt<Pn;Kt+=2)Ct[Kt]-=rn,Ct[Kt+1]=vn-Ct[Kt+1];break;case 90:for(let Kt=0,Pn=Ct.length;Kt<Pn;Kt+=2){const Cn=Ct[Kt];Ct[Kt]=Ct[Kt+1]-fn,Ct[Kt+1]=Cn-rn}break;case 180:for(let Kt=0,Pn=Ct.length;Kt<Pn;Kt+=2)Ct[Kt]=wn-Ct[Kt],Ct[Kt+1]-=fn;break;case 270:for(let Kt=0,Pn=Ct.length;Kt<Pn;Kt+=2){const Cn=Ct[Kt];Ct[Kt]=vn-Ct[Kt+1],Ct[Kt+1]=wn-Cn}break;default:throw new Error("Invalid rotation")}return Ct},OE=function(Ct,Dt,Yt,rn){var Pn,Cn;const fn=[],wn=this.thickness/2,vn=Ct*Dt+wn,Kt=Ct*Yt+wn;for(const as of this.paths){const _i=[],ys=[];for(let Dn=0,qn=as.length;Dn<qn;Dn++){const[ds,Ts,mn,Qt]=as[Dn],Jt=Ct*ds[0]+vn,jn=Ct*ds[1]+Kt,Hn=Ct*Ts[0]+vn,Jn=Ct*Ts[1]+Kt,Ot=Ct*mn[0]+vn,pn=Ct*mn[1]+Kt,kn=Ct*Qt[0]+vn,Un=Ct*Qt[1]+Kt;Dn===0&&(_i.push(Jt,jn),ys.push(Jt,jn)),_i.push(Hn,Jn,Ot,pn,kn,Un),ys.push(Hn,Jn),Dn===qn-1&&ys.push(kn,Un)}fn.push({bezier:ut(Pn=xn,kt,Ox).call(Pn,_i,rn,this.rotation),points:ut(Cn=xn,kt,Ox).call(Cn,ys,rn,this.rotation)})}return fn},Nx=function(){let Ct=1/0,Dt=-1/0,Yt=1/0,rn=-1/0;for(const fn of this.paths)for(const[wn,vn,Kt,Pn]of fn){const Cn=a.Util.bezierBoundingBox(...wn,...vn,...Kt,...Pn);Ct=Math.min(Ct,Cn[0]),Yt=Math.min(Yt,Cn[1]),Dt=Math.max(Dt,Cn[2]),rn=Math.max(rn,Cn[3])}return[Ct,Yt,Dt,rn]},e0=function(){return h(this,rt)?Math.ceil(this.thickness*this.parentScale):0},Vp=function(Ct=!1){if(this.isEmpty())return;if(!h(this,rt)){ut(this,lt,Jo).call(this);return}const Dt=ut(this,lt,Nx).call(this),Yt=ut(this,lt,e0).call(this);dt(this,j,Math.max(o.AnnotationEditor.MIN_SIZE,Dt[2]-Dt[0])),dt(this,_,Math.max(o.AnnotationEditor.MIN_SIZE,Dt[3]-Dt[1]));const rn=Math.ceil(Yt+h(this,j)*this.scaleFactor),fn=Math.ceil(Yt+h(this,_)*this.scaleFactor),[wn,vn]=this.parentDimensions;this.width=rn/wn,this.height=fn/vn,this.setAspectRatio(rn,fn);const Kt=this.translationX,Pn=this.translationY;this.translationX=-Dt[0],this.translationY=-Dt[1],ut(this,lt,zp).call(this),ut(this,lt,Jo).call(this),dt(this,ct,rn),dt(this,at,fn),this.setDims(rn,fn);const Cn=Ct?Yt/this.scaleFactor/2:0;this.translate(Kt-this.translationX-Cn,Pn-this.translationY-Cn)},pt(xn,kt),Xn(xn,"_defaultColor",null),Xn(xn,"_defaultOpacity",1),Xn(xn,"_defaultThickness",1),Xn(xn,"_type","ink");let b=xn;e.InkEditor=b},(s,e,i)=>{var b,_,j,$,_e,et,tt,it,rt,nt,st,iv,sv,t0,Bx,NE,BE,Hx,n0,HE;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var a=i(1),o=i(4),c=i(6),d=i(29);const At=class At extends o.AnnotationEditor{constructor(Bt){super({...Bt,name:"stampEditor"});pt(this,st);pt(this,b,null);pt(this,_,null);pt(this,j,null);pt(this,$,null);pt(this,_e,null);pt(this,et,null);pt(this,tt,null);pt(this,it,null);pt(this,rt,!1);pt(this,nt,!1);dt(this,$,Bt.bitmapUrl),dt(this,_e,Bt.bitmapFile)}static initialize(Bt){o.AnnotationEditor.initialize(Bt)}static get supportedTypes(){const Bt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",Bt.map($t=>`image/${$t}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Bt){return this.supportedTypes.includes(Bt)}static paste(Bt,$t){$t.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:Bt.getAsFile()})}remove(){var Bt,$t;h(this,_)&&(dt(this,b,null),this._uiManager.imageManager.deleteId(h(this,_)),(Bt=h(this,et))==null||Bt.remove(),dt(this,et,null),($t=h(this,tt))==null||$t.disconnect(),dt(this,tt,null)),super.remove()}rebuild(){if(!this.parent){h(this,_)&&ut(this,st,t0).call(this);return}super.rebuild(),this.div!==null&&(h(this,_)&&ut(this,st,t0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,j)||h(this,b)||h(this,$)||h(this,_e))}get isResizable(){return!0}render(){if(this.div)return this.div;let Bt,$t;if(this.width&&(Bt=this.x,$t=this.y),super.render(),this.div.hidden=!0,h(this,b)?ut(this,st,Bx).call(this):ut(this,st,t0).call(this),this.width){const[jt,Ft]=this.parentDimensions;this.setAt(Bt*jt,$t*Ft,this.width*jt,this.height*Ft)}return this.div}static deserialize(Bt,$t,jt){if(Bt instanceof d.StampAnnotationElement)return null;const Ft=super.deserialize(Bt,$t,jt),{rect:St,bitmapUrl:It,bitmapId:zt,isSvg:_t,accessibilityData:vt}=Bt;zt&&jt.imageManager.isValidId(zt)?dt(Ft,_,zt):dt(Ft,$,It),dt(Ft,rt,_t);const[bt,wt]=Ft.pageDimensions;return Ft.width=(St[2]-St[0])/bt,Ft.height=(St[3]-St[1])/wt,vt&&(Ft.altTextData=vt),Ft}serialize(Bt=!1,$t=null){if(this.isEmpty())return null;const jt={annotationType:a.AnnotationEditorType.STAMP,bitmapId:h(this,_),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,rt),structTreeParentId:this._structTreeParentId};if(Bt)return jt.bitmapUrl=ut(this,st,n0).call(this,!0),jt.accessibilityData=this.altTextData,jt;const{decorative:Ft,altText:St}=this.altTextData;if(!Ft&&St&&(jt.accessibilityData={type:"Figure",alt:St}),$t===null)return jt;$t.stamps||($t.stamps=new Map);const It=h(this,rt)?(jt.rect[2]-jt.rect[0])*(jt.rect[3]-jt.rect[1]):null;if(!$t.stamps.has(h(this,_)))$t.stamps.set(h(this,_),{area:It,serialized:jt}),jt.bitmap=ut(this,st,n0).call(this,!1);else if(h(this,rt)){const zt=$t.stamps.get(h(this,_));It>zt.area&&(zt.area=It,zt.serialized.bitmap.close(),zt.serialized.bitmap=ut(this,st,n0).call(this,!1))}return jt}};b=new WeakMap,_=new WeakMap,j=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,tt=new WeakMap,it=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakSet,iv=function(Bt,$t=!1){if(!Bt){this.remove();return}dt(this,b,Bt.bitmap),$t||(dt(this,_,Bt.id),dt(this,rt,Bt.isSvg)),ut(this,st,Bx).call(this)},sv=function(){dt(this,j,null),this._uiManager.enableWaiting(!1),h(this,et)&&this.div.focus()},t0=function(){if(h(this,_)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,_)).then($t=>ut(this,st,iv).call(this,$t,!0)).finally(()=>ut(this,st,sv).call(this));return}if(h(this,$)){const $t=h(this,$);dt(this,$,null),this._uiManager.enableWaiting(!0),dt(this,j,this._uiManager.imageManager.getFromUrl($t).then(jt=>ut(this,st,iv).call(this,jt)).finally(()=>ut(this,st,sv).call(this)));return}if(h(this,_e)){const $t=h(this,_e);dt(this,_e,null),this._uiManager.enableWaiting(!0),dt(this,j,this._uiManager.imageManager.getFromFile($t).then(jt=>ut(this,st,iv).call(this,jt)).finally(()=>ut(this,st,sv).call(this)));return}const Bt=document.createElement("input");Bt.type="file",Bt.accept=At.supportedTypesStr,dt(this,j,new Promise($t=>{Bt.addEventListener("change",async()=>{if(!Bt.files||Bt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const jt=await this._uiManager.imageManager.getFromFile(Bt.files[0]);ut(this,st,iv).call(this,jt)}$t()}),Bt.addEventListener("cancel",()=>{this.remove(),$t()})}).finally(()=>ut(this,st,sv).call(this))),Bt.click()},Bx=function(){const{div:Bt}=this;let{width:$t,height:jt}=h(this,b);const[Ft,St]=this.pageDimensions,It=.75;if(this.width)$t=this.width*Ft,jt=this.height*St;else if($t>It*Ft||jt>It*St){const bt=Math.min(It*Ft/$t,It*St/jt);$t*=bt,jt*=bt}const[zt,_t]=this.parentDimensions;this.setDims($t*zt/Ft,jt*_t/St),this._uiManager.enableWaiting(!1);const vt=dt(this,et,document.createElement("canvas"));Bt.append(vt),Bt.hidden=!1,ut(this,st,Hx).call(this,$t,jt),ut(this,st,HE).call(this),h(this,nt)||(this.parent.addUndoableEditor(this),dt(this,nt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},NE=function(Bt,$t){var It;const[jt,Ft]=this.parentDimensions;this.width=Bt/jt,this.height=$t/Ft,this.setDims(Bt,$t),(It=this._initialOptions)!=null&&It.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,it)!==null&&clearTimeout(h(this,it)),dt(this,it,setTimeout(()=>{dt(this,it,null),ut(this,st,Hx).call(this,Bt,$t)},200))},BE=function(Bt,$t){const{width:jt,height:Ft}=h(this,b);let St=jt,It=Ft,zt=h(this,b);for(;St>2*Bt||It>2*$t;){const _t=St,vt=It;St>2*Bt&&(St=St>=16384?Math.floor(St/2)-1:Math.ceil(St/2)),It>2*$t&&(It=It>=16384?Math.floor(It/2)-1:Math.ceil(It/2));const bt=new OffscreenCanvas(St,It);bt.getContext("2d").drawImage(zt,0,0,_t,vt,0,0,St,It),zt=bt.transferToImageBitmap()}return zt},Hx=function(Bt,$t){Bt=Math.ceil(Bt),$t=Math.ceil($t);const jt=h(this,et);if(!jt||jt.width===Bt&&jt.height===$t)return;jt.width=Bt,jt.height=$t;const Ft=h(this,rt)?h(this,b):ut(this,st,BE).call(this,Bt,$t),St=jt.getContext("2d");St.filter=this._uiManager.hcmFilter,St.drawImage(Ft,0,0,Ft.width,Ft.height,0,0,Bt,$t)},n0=function(Bt){if(Bt){if(h(this,rt)){const Ft=this._uiManager.imageManager.getSvgUrl(h(this,_));if(Ft)return Ft}const $t=document.createElement("canvas");return{width:$t.width,height:$t.height}=h(this,b),$t.getContext("2d").drawImage(h(this,b),0,0),$t.toDataURL()}if(h(this,rt)){const[$t,jt]=this.pageDimensions,Ft=Math.round(this.width*$t*c.PixelsPerInch.PDF_TO_CSS_UNITS),St=Math.round(this.height*jt*c.PixelsPerInch.PDF_TO_CSS_UNITS),It=new OffscreenCanvas(Ft,St);return It.getContext("2d").drawImage(h(this,b),0,0,h(this,b).width,h(this,b).height,0,0,Ft,St),It.transferToImageBitmap()}return structuredClone(h(this,b))},HE=function(){dt(this,tt,new ResizeObserver(Bt=>{const $t=Bt[0].contentRect;$t.width&&$t.height&&ut(this,st,NE).call(this,$t.width,$t.height)})),h(this,tt).observe(this.div)},Xn(At,"_type","stamp");let g=At;e.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var e=__webpack_module_cache__[s];if(e!==void 0)return e.exports;var i=__webpack_module_cache__[s]={exports:{}};return __webpack_modules__[s](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(s,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(s,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(s,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(s,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(s,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(s,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return b.GlobalWorkerOptions}}),Object.defineProperty(s,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(s,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return _.XfaLayer}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(s,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(s,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(s,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(s,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(s,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return i.version}});var e=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),b=__w_pdfjs_require__(14),_=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(s){var e=reactExports,i=pdfExports;function a(gt){var xt=Object.create(null);return gt&&Object.keys(gt).forEach(function(Nt){if(Nt!=="default"){var Ht=Object.getOwnPropertyDescriptor(gt,Nt);Object.defineProperty(xt,Nt,Ht.get?Ht:{enumerable:!0,get:function(){return gt[Nt]}})}}),xt.default=gt,Object.freeze(xt)}var o,c=a(e),d=a(i);s.AnnotationType=void 0,(o=s.AnnotationType||(s.AnnotationType={}))[o.Text=1]="Text",o[o.Link=2]="Link",o[o.FreeText=3]="FreeText",o[o.Line=4]="Line",o[o.Square=5]="Square",o[o.Circle=6]="Circle",o[o.Polygon=7]="Polygon",o[o.Polyline=8]="Polyline",o[o.Highlight=9]="Highlight",o[o.Underline=10]="Underline",o[o.Squiggly=11]="Squiggly",o[o.StrikeOut=12]="StrikeOut",o[o.Stamp=13]="Stamp",o[o.Caret=14]="Caret",o[o.Ink=15]="Ink",o[o.Popup=16]="Popup",o[o.FileAttachment=17]="FileAttachment";var g=function(gt,xt){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Nt,Ht){Nt.__proto__=Ht}||function(Nt,Ht){for(var Vt in Ht)Object.prototype.hasOwnProperty.call(Ht,Vt)&&(Nt[Vt]=Ht[Vt])},g(gt,xt)};function b(gt,xt){if(typeof xt!="function"&&xt!==null)throw new TypeError("Class extends value "+String(xt)+" is not a constructor or null");function Nt(){this.constructor=gt}g(gt,xt),gt.prototype=xt===null?Object.create(xt):(Nt.prototype=xt.prototype,new Nt)}var _,j=function(){return j=Object.assign||function(gt){for(var xt,Nt=1,Ht=arguments.length;Nt<Ht;Nt++)for(var Vt in xt=arguments[Nt])Object.prototype.hasOwnProperty.call(xt,Vt)&&(gt[Vt]=xt[Vt]);return gt},j.apply(this,arguments)};s.TextDirection=void 0,(_=s.TextDirection||(s.TextDirection={})).RightToLeft="RTL",_.LeftToRight="LTR";var $,_e=c.createContext({currentTheme:"light",direction:s.TextDirection.LeftToRight,setCurrentTheme:function(){}}),et=function(gt){var xt=[];return Object.keys(gt).forEach(function(Nt){Nt&&gt[Nt]&&xt.push(Nt)}),xt.join(" ")},tt=typeof window<"u"?c.useLayoutEffect:c.useEffect,it=function(gt){var xt=c.useRef(null),Nt=gt.once,Ht=gt.threshold,Vt=gt.onVisibilityChanged;return tt(function(){var Xt=xt.current;if(Xt){var an=new IntersectionObserver(function(Zt){Zt.forEach(function(Ut){var nn=Ut.isIntersecting,en=Ut.intersectionRatio;Vt({isVisible:nn,ratio:en}),nn&&Nt&&(an.unobserve(Xt),an.disconnect())})},{threshold:Ht||0});return an.observe(Xt),function(){an.unobserve(Xt),an.disconnect()}}},[]),xt},rt=function(gt){var xt=gt.children,Nt=gt.ignoreDirection,Ht=Nt!==void 0&&Nt,Vt=gt.size,Xt=Vt===void 0?24:Vt,an=c.useContext(_e).direction,Zt=!Ht&&an===s.TextDirection.RightToLeft,Ut="".concat(Xt||24,"px");return c.createElement("svg",{"aria-hidden":"true",className:et({"rpv-core__icon":!0,"rpv-core__icon--rtl":Zt}),focusable:"false",height:Ut,viewBox:"0 0 24 24",width:Ut},xt)},nt=function(){return c.createElement(rt,{size:16},c.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},st=function(gt){var xt=gt.children,Nt=gt.testId,Ht=gt.onClick,Vt=c.useContext(_e).direction===s.TextDirection.RightToLeft,Xt=Nt?{"data-testid":Nt}:{};return c.createElement("button",j({className:et({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Vt}),type:"button",onClick:Ht},Xt),xt)},ot=function(gt){var xt=gt.size,Nt=xt===void 0?"4rem":xt,Ht=gt.testId,Vt=c.useState(!1),Xt=Vt[0],an=Vt[1],Zt=Ht?{"data-testid":Ht}:{},Ut=it({onVisibilityChanged:function(nn){an(nn.isVisible)}});return c.createElement("div",j({},Zt,{className:et({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Xt}),ref:Ut,style:{height:Nt,width:Nt}}))},ct=function(gt){var xt=gt.ariaLabel,Nt=xt===void 0?"":xt,Ht=gt.autoFocus,Vt=Ht!==void 0&&Ht,Xt=gt.placeholder,an=Xt===void 0?"":Xt,Zt=gt.testId,Ut=gt.type,nn=Ut===void 0?"text":Ut,en=gt.value,_n=en===void 0?"":en,An=gt.onChange,En=gt.onKeyDown,Fn=En===void 0?function(){}:En,Mn=c.useContext(_e).direction,Tn=c.useRef(),ws=Mn===s.TextDirection.RightToLeft,ns={ref:Tn,"data-testid":"","aria-label":Nt,className:et({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":ws}),placeholder:an,value:_n,onChange:function(ss){return An(ss.target.value)},onKeyDown:Fn};return Zt&&(ns["data-testid"]=Zt),tt(function(){if(Vt){var ss=Tn.current;if(ss){var us=window.scrollX,Kn=window.scrollY;ss.focus(),window.scrollTo(us,Kn)}}},[]),nn==="text"?c.createElement("input",j({type:"text"},ns)):c.createElement("input",j({type:"password"},ns))};(function(gt){gt[gt.ExitFullScreen=0]="ExitFullScreen",gt[gt.FullScreenChange=1]="FullScreenChange",gt[gt.FullScreenElement=2]="FullScreenElement",gt[gt.FullScreenEnabled=3]="FullScreenEnabled",gt[gt.RequestFullScreen=4]="RequestFullScreen"})($||($={}));var at,ht={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},lt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},ft={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},yt=typeof window<"u",Et=yt&&($.FullScreenEnabled in document&&ht||lt.FullScreenEnabled in document&&lt||ft.FullScreenEnabled in document&&ft)||ht,mt=function(){return yt&&Et.FullScreenEnabled in document&&document[Et.FullScreenEnabled]===!0},At=function(gt){return yt?gt[Et.ExitFullScreen]():Promise.resolve({})},Rt=function(){return yt?document[Et.FullScreenElement]:null},qt=function(gt,xt){var Nt=c.useRef(),Ht=function(){Nt.current&&clearTimeout(Nt.current)};return c.useEffect(function(){return function(){return Ht()}},[]),c.useCallback(function(){for(var Vt=[],Xt=0;Xt<arguments.length;Xt++)Vt[Xt]=arguments[Xt];Ht(),Nt.current=setTimeout(function(){gt.apply(void 0,Vt)},xt)},[gt,xt])},Bt=function(){var gt=c.useRef(!1);return c.useEffect(function(){return gt.current=!0,function(){gt.current=!1}},[]),gt},$t=function(gt){var xt=c.useRef(gt);return c.useEffect(function(){xt.current=gt},[gt]),xt.current};(function(gt){gt.NotRenderedYet="NotRenderedYet",gt.Rendering="Rendering",gt.Rendered="Rendered"})(at||(at={}));var jt,Ft=-9999,St=function(gt){var xt=gt.doc,Nt=xt.numPages,Ht=xt.loadingTask.docId,Vt=c.useMemo(function(){return Array(Nt).fill(null).map(function(Zt,Ut){return{pageIndex:Ut,renderStatus:at.NotRenderedYet,visibility:Ft}})},[Ht]),Xt=c.useRef({currentRenderingPage:-1,startRange:0,endRange:Nt-1,visibilities:Vt}),an=function(Zt,Ut){Xt.current.visibilities[Zt].visibility=Ut};return{getHighestPriorityPage:function(){var Zt=Xt.current.visibilities.slice(Xt.current.startRange,Xt.current.endRange+1).filter(function(An){return An.visibility>Ft});if(!Zt.length)return-1;for(var Ut=Zt[0].pageIndex,nn=Zt[Zt.length-1].pageIndex,en=Zt.length,_n=0;_n<en;_n++){if(Zt[_n].renderStatus===at.Rendering)return-1;if(Zt[_n].renderStatus===at.NotRenderedYet)return Zt[_n].pageIndex}return nn+1<Nt&&Xt.current.visibilities[nn+1].renderStatus!==at.Rendered?nn+1:Ut-1>=0&&Xt.current.visibilities[Ut-1].renderStatus!==at.Rendered?Ut-1:-1},isInRange:function(Zt){return Zt>=Xt.current.startRange&&Zt<=Xt.current.endRange},markNotRendered:function(){for(var Zt=0;Zt<Nt;Zt++)Xt.current.visibilities[Zt].renderStatus=at.NotRenderedYet},markRendered:function(Zt){Xt.current.visibilities[Zt].renderStatus=at.Rendered},markRendering:function(Zt){Xt.current.currentRenderingPage!==-1&&Xt.current.currentRenderingPage!==Zt&&Xt.current.visibilities[Xt.current.currentRenderingPage].renderStatus===at.Rendering&&(Xt.current.visibilities[Xt.current.currentRenderingPage].renderStatus=at.NotRenderedYet),Xt.current.visibilities[Zt].renderStatus=at.Rendering,Xt.current.currentRenderingPage=Zt},setOutOfRange:function(Zt){an(Zt,Ft)},setRange:function(Zt,Ut){Xt.current.startRange=Zt,Xt.current.endRange=Ut;for(var nn=0;nn<Nt;nn++)(nn<Zt||nn>Ut)&&(Xt.current.visibilities[nn].visibility=Ft,Xt.current.visibilities[nn].renderStatus=at.NotRenderedYet)},setVisibility:an}},It={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},zt=c.createContext({l10n:It,setL10n:function(){}}),_t=0,vt=function(){return _t++},bt=function(gt,xt,Nt){var Ht=function(Vt){var Xt=xt.current;if(Xt){var an=Vt.target;if(an instanceof Element&&an.shadowRoot){var Zt=Vt.composedPath();Zt.length>0&&!Xt.contains(Zt[0])&&Nt()}else Xt.contains(an)||Nt()}};c.useEffect(function(){if(gt){var Vt={capture:!0};return document.addEventListener("click",Ht,Vt),function(){document.removeEventListener("click",Ht,Vt)}}},[])},wt=function(gt){var xt=function(Nt){Nt.key==="Escape"&&gt()};c.useEffect(function(){return document.addEventListener("keyup",xt),function(){document.removeEventListener("keyup",xt)}},[])},Pt=function(gt){var xt=gt.ariaControlsSuffix,Nt=gt.children,Ht=gt.closeOnClickOutside,Vt=gt.closeOnEscape,Xt=gt.onToggle,an=c.useRef(),Zt=c.useContext(_e).direction===s.TextDirection.RightToLeft;return c.useEffect(function(){var Ut=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Ut}},[]),wt(function(){an.current&&Vt&&Xt()}),bt(Ht,an,Xt),tt(function(){var Ut=an.current;if(Ut){var nn=.75*document.body.clientHeight;Ut.getBoundingClientRect().height>=nn&&(Ut.style.overflow="auto",Ut.style.maxHeight="".concat(nn,"px"))}},[]),c.createElement("div",{"aria-modal":"true",className:et({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Zt}),id:"rpv-core__modal-body-".concat(xt),ref:an,role:"dialog",tabIndex:-1},Nt)},kt=function(gt){var xt=gt.children;return c.createElement("div",{className:"rpv-core__modal-overlay"},xt)};s.ToggleStatus=void 0,(jt=s.ToggleStatus||(s.ToggleStatus={})).Close="Close",jt.Open="Open",jt.Toggle="Toggle";var Mt,Gt=function(gt){var xt=c.useState(gt),Nt=xt[0],Ht=xt[1];return{opened:Nt,toggle:function(Vt){switch(Vt){case s.ToggleStatus.Close:Ht(!1);break;case s.ToggleStatus.Open:Ht(!0);break;case s.ToggleStatus.Toggle:default:Ht(function(Xt){return!Xt})}}}},ln=function(gt){var xt=gt.content,Nt=gt.isOpened,Ht=Nt!==void 0&&Nt,Vt=gt.target,Xt=Gt(Ht),an=Xt.opened,Zt=Xt.toggle;return c.createElement(c.Fragment,null,Vt&&Vt(Zt,an),an&&xt(Zt))};s.Position=void 0,(Mt=s.Position||(s.Position={})).TopLeft="TOP_LEFT",Mt.TopCenter="TOP_CENTER",Mt.TopRight="TOP_RIGHT",Mt.RightTop="RIGHT_TOP",Mt.RightCenter="RIGHT_CENTER",Mt.RightBottom="RIGHT_BOTTOM",Mt.BottomLeft="BOTTOM_LEFT",Mt.BottomCenter="BOTTOM_CENTER",Mt.BottomRight="BOTTOM_RIGHT",Mt.LeftTop="LEFT_TOP",Mt.LeftCenter="LEFT_CENTER",Mt.LeftBottom="LEFT_BOTTOM";var dn,hn,gn,bn,xn,tn,sn,Ct,Dt=function(gt,xt,Nt,Ht,Vt){tt(function(){var Xt=xt.current,an=gt.current,Zt=Nt.current;if(an&&Xt&&Zt){var Ut=Zt.getBoundingClientRect(),nn=function(An,En,Fn,Mn){var Tn=En.getBoundingClientRect(),ws=An.getBoundingClientRect(),ns=ws.height,ss=ws.width,us=0,Kn=0;switch(Fn){case s.Position.TopLeft:us=Tn.top-ns,Kn=Tn.left;break;case s.Position.TopCenter:us=Tn.top-ns,Kn=Tn.left+Tn.width/2-ss/2;break;case s.Position.TopRight:us=Tn.top-ns,Kn=Tn.left+Tn.width-ss;break;case s.Position.RightTop:us=Tn.top,Kn=Tn.left+Tn.width;break;case s.Position.RightCenter:us=Tn.top+Tn.height/2-ns/2,Kn=Tn.left+Tn.width;break;case s.Position.RightBottom:us=Tn.top+Tn.height-ns,Kn=Tn.left+Tn.width;break;case s.Position.BottomLeft:us=Tn.top+Tn.height,Kn=Tn.left;break;case s.Position.BottomCenter:us=Tn.top+Tn.height,Kn=Tn.left+Tn.width/2-ss/2;break;case s.Position.BottomRight:us=Tn.top+Tn.height,Kn=Tn.left+Tn.width-ss;break;case s.Position.LeftTop:us=Tn.top,Kn=Tn.left-ss;break;case s.Position.LeftCenter:us=Tn.top+Tn.height/2-ns/2,Kn=Tn.left-ss;break;case s.Position.LeftBottom:us=Tn.top+Tn.height-ns,Kn=Tn.left-ss}return{left:Kn+(Mn.left||0),top:us+(Mn.top||0)}}(an,Xt,Ht,Vt),en=nn.top,_n=nn.left;an.style.top="".concat(en-Ut.top,"px"),an.style.left="".concat(_n-Ut.left,"px")}},[])},Yt=function(gt){var xt,Nt=gt.customClassName,Ht=gt.position;return c.createElement("div",{className:et((xt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Ht===s.Position.TopLeft,"rpv-core__arrow--tc":Ht===s.Position.TopCenter,"rpv-core__arrow--tr":Ht===s.Position.TopRight,"rpv-core__arrow--rt":Ht===s.Position.RightTop,"rpv-core__arrow--rc":Ht===s.Position.RightCenter,"rpv-core__arrow--rb":Ht===s.Position.RightBottom,"rpv-core__arrow--bl":Ht===s.Position.BottomLeft,"rpv-core__arrow--bc":Ht===s.Position.BottomCenter,"rpv-core__arrow--br":Ht===s.Position.BottomRight,"rpv-core__arrow--lt":Ht===s.Position.LeftTop,"rpv-core__arrow--lc":Ht===s.Position.LeftCenter,"rpv-core__arrow--lb":Ht===s.Position.LeftBottom},xt["".concat(Nt)]=Nt!=="",xt))})},rn=function(gt){var xt=gt.ariaControlsSuffix,Nt=gt.children,Ht=gt.closeOnClickOutside,Vt=gt.offset,Xt=gt.position,an=gt.targetRef,Zt=gt.onClose,Ut=c.useRef(),nn=c.useRef(),en=c.useRef(),_n=c.useContext(_e).direction===s.TextDirection.RightToLeft;bt(Ht,Ut,Zt),Dt(Ut,an,en,Xt,Vt),tt(function(){var En=nn.current;if(En){var Fn=.75*document.body.clientHeight;En.getBoundingClientRect().height>=Fn&&(En.style.overflow="auto",En.style.maxHeight="".concat(Fn,"px"))}},[]);var An="rpv-core__popover-body-inner-".concat(xt);return c.createElement(c.Fragment,null,c.createElement("div",{ref:en,style:{left:0,position:"absolute",top:0}}),c.createElement("div",{"aria-describedby":An,className:et({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":_n}),id:"rpv-core__popover-body-".concat(xt),ref:Ut,role:"dialog",tabIndex:-1},c.createElement(Yt,{customClassName:"rpv-core__popover-body-arrow",position:Xt}),c.createElement("div",{id:An,ref:nn},Nt)))},fn=function(gt){var xt=gt.closeOnEscape,Nt=gt.onClose,Ht=c.useRef();return wt(function(){Ht.current&&xt&&Nt()}),c.createElement("div",{className:"rpv-core__popover-overlay",ref:Ht})},wn=function(gt){var xt=gt.ariaControlsSuffix,Nt=gt.children,Ht=gt.contentRef,Vt=gt.offset,Xt=gt.position,an=gt.targetRef,Zt=c.useRef(),Ut=c.useContext(_e).direction===s.TextDirection.RightToLeft;return Dt(Ht,an,Zt,Xt,Vt),c.createElement(c.Fragment,null,c.createElement("div",{ref:Zt,style:{left:0,position:"absolute",top:0}}),c.createElement("div",{className:et({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Ut}),id:"rpv-core__tooltip-body-".concat(xt),ref:Ht,role:"tooltip"},c.createElement(Yt,{customClassName:"rpv-core__tooltip-body-arrow",position:Xt}),c.createElement("div",{className:"rpv-core__tooltip-body-content"},Nt)))};s.FullScreenMode=void 0,(dn=s.FullScreenMode||(s.FullScreenMode={})).Normal="Normal",dn.Entering="Entering",dn.Entered="Entered",dn.EnteredCompletely="EnteredCompletely",dn.Exitting="Exitting",dn.Exited="Exited",s.LayerRenderStatus=void 0,(hn=s.LayerRenderStatus||(s.LayerRenderStatus={}))[hn.PreRender=0]="PreRender",hn[hn.DidRender=1]="DidRender",s.PageMode=void 0,(gn=s.PageMode||(s.PageMode={})).Attachments="UseAttachments",gn.Bookmarks="UseOutlines",gn.ContentGroup="UseOC",gn.Default="UserNone",gn.FullScreen="FullScreen",gn.Thumbnails="UseThumbs",s.PasswordStatus=void 0,(bn=s.PasswordStatus||(s.PasswordStatus={})).RequiredPassword="RequiredPassword",bn.WrongPassword="WrongPassword",s.RotateDirection=void 0,(xn=s.RotateDirection||(s.RotateDirection={})).Backward="Backward",xn.Forward="Forward",s.ScrollMode=void 0,(tn=s.ScrollMode||(s.ScrollMode={})).Page="Page",tn.Horizontal="Horizontal",tn.Vertical="Vertical",tn.Wrapped="Wrapped",s.SpecialZoomLevel=void 0,(sn=s.SpecialZoomLevel||(s.SpecialZoomLevel={})).ActualSize="ActualSize",sn.PageFit="PageFit",sn.PageWidth="PageWidth",s.ViewMode=void 0,(Ct=s.ViewMode||(s.ViewMode={})).DualPage="DualPage",Ct.DualPageWithCover="DualPageWithCover",Ct.SinglePage="SinglePage";var vn,Kt=function(gt,xt){return gt.reduce(function(Nt,Ht,Vt){return Vt%xt?Nt[Nt.length-1].push(Ht):Nt.push([Ht]),Nt},[])},Pn=function(gt,xt){switch(xt[1].name){case"XYZ":return{bottomOffset:function(Nt,Ht){return xt[3]===null?Ht:xt[3]},leftOffset:function(Nt,Ht){return xt[2]===null?0:xt[2]},pageIndex:gt,scaleTo:xt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:gt,scaleTo:s.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:xt[2],leftOffset:0,pageIndex:gt,scaleTo:s.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:gt,scaleTo:1}}},Cn=new Map,as=new Map,_i=function(gt,xt){return"".concat(gt.loadingTask.docId,"___").concat(xt.num,"R").concat(xt.gen===0?"":xt.gen)},ys=function(gt,xt,Nt){Cn.set(_i(gt,xt),Nt)},Dn=function(gt,xt){if(!gt)return Promise.reject("The document is not loaded yet");var Nt="".concat(gt.loadingTask.docId,"___").concat(xt),Ht=as.get(Nt);return Ht?Promise.resolve(Ht):new Promise(function(Vt,Xt){gt.getPage(xt+1).then(function(an){as.set(Nt,an),an.ref&&ys(gt,an.ref,xt),Vt(an)})})},qn=function(gt,xt){return new Promise(function(Nt){new Promise(function(Ht){typeof xt=="string"?gt.getDestination(xt).then(function(Vt){Ht(Vt)}):Ht(xt)}).then(function(Ht){if(typeof Ht[0]=="object"&&Ht[0]!==null){var Vt=Ht[0],Xt=function(Zt,Ut){var nn=_i(Zt,Ut);return Cn.has(nn)?Cn.get(nn):null}(gt,Vt);Xt===null?gt.getPageIndex(Vt).then(function(Zt){ys(gt,Vt,Zt),qn(gt,xt).then(function(Ut){return Nt(Ut)})}):Nt(Pn(Xt,Ht))}else{var an=Pn(Ht[0],Ht);Nt(an)}})})};(function(gt){gt[gt.Solid=1]="Solid",gt[gt.Dashed=2]="Dashed",gt[gt.Beveled=3]="Beveled",gt[gt.Inset=4]="Inset",gt[gt.Underline=5]="Underline"})(vn||(vn={}));var ds,Ts=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),mn=function(gt,xt,Nt,Ht){var Vt=parseInt(gt,10);return Vt>=xt&&Vt<=Nt?Vt:Ht},Qt=function(gt){return gt.contentsObj?gt.contentsObj.str:gt.contents||""},Jt=function(gt){return gt.titleObj?gt.titleObj.str:gt.title||""},jn=function(gt){var xt=gt.annotation,Nt=c.useContext(_e).direction,Ht=Jt(xt),Vt=Qt(xt),Xt=Nt===s.TextDirection.RightToLeft,an=c.useRef(),Zt="";if(xt.modificationDate){var Ut=function(nn){var en=Ts.exec(nn);if(!en)return null;var _n=parseInt(en[1],10),An=mn(en[2],1,12,1)-1,En=mn(en[3],1,31,1),Fn=mn(en[4],0,23,0),Mn=mn(en[5],0,59,0),Tn=mn(en[6],0,59,0),ws=en[7]||"Z",ns=mn(en[8],0,23,0),ss=mn(en[9],0,59,0);switch(ws){case"-":Fn+=ns,Mn+=ss;break;case"+":Fn-=ns,Mn-=ss}return new Date(Date.UTC(_n,An,En,Fn,Mn,Tn))}(xt.modificationDate);Zt=Ut?"".concat(Ut.toLocaleDateString(),", ").concat(Ut.toLocaleTimeString()):""}return c.useLayoutEffect(function(){if(an.current){var nn=document.querySelector('[data-annotation-id="'.concat(xt.id,'"]'));if(nn){var en=nn;return en.style.zIndex+=1,function(){en.style.zIndex="".concat(parseInt(en.style.zIndex,10)-1)}}}},[]),c.createElement("div",{ref:an,className:et({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Xt}),style:{top:xt.annotationType===s.AnnotationType.Popup?"":"100%"}},Ht&&c.createElement(c.Fragment,null,c.createElement("div",{className:et({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Xt,"rpv-core__annotation-popup-title--rtl":Xt})},Ht),c.createElement("div",{className:"rpv-core__annotation-popup-date"},Zt)),Vt&&c.createElement("div",{className:"rpv-core__annotation-popup-content"},Vt.split(`
`).map(function(nn,en){return c.createElement(c.Fragment,{key:en},nn,c.createElement("br",null))})))};(function(gt){gt.Click="Click",gt.Hover="Hover"})(ds||(ds={}));var Hn,Jn=function(gt){var xt,Nt=gt.annotation,Ht=gt.children,Vt=gt.ignoreBorder,Xt=gt.hasPopup,an=gt.isRenderable,Zt=gt.page,Ut=gt.viewport,nn=Nt.rect,en=function(){var os=Gt(!1),Ls=os.opened,Ps=os.toggle,Fs=c.useState(ds.Hover),Is=Fs[0],Os=Fs[1];return{opened:Ls,closeOnHover:function(){Is===ds.Hover&&Ps(s.ToggleStatus.Close)},openOnHover:function(){Is===ds.Hover&&Ps(s.ToggleStatus.Open)},toggleOnClick:function(){switch(Is){case ds.Click:Ls&&Os(ds.Hover),Ps(s.ToggleStatus.Toggle);break;case ds.Hover:Os(ds.Click),Ps(s.ToggleStatus.Open)}}}}(),_n=en.closeOnHover,An=en.opened,En=en.openOnHover,Fn=en.toggleOnClick,Mn=(xt=[nn[0],Zt.view[3]+Zt.view[1]-nn[1],nn[2],Zt.view[3]+Zt.view[1]-nn[3]],[Math.min(xt[0],xt[2]),Math.min(xt[1],xt[3]),Math.max(xt[0],xt[2]),Math.max(xt[1],xt[3])]),Tn=nn[2]-nn[0],ws=nn[3]-nn[1],ns={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Vt&&Nt.borderStyle.width>0){switch(Nt.borderStyle.style){case vn.Dashed:ns.borderStyle="dashed";break;case vn.Solid:ns.borderStyle="solid";break;case vn.Underline:ns=Object.assign({borderBottomStyle:"solid"},ns);case vn.Beveled:case vn.Inset:}var ss=Nt.borderStyle.width;ns.borderWidth="".concat(ss,"px"),Nt.borderStyle.style!==vn.Underline&&(Tn-=2*ss,ws-=2*ss);var us=Nt.borderStyle,Kn=us.horizontalCornerRadius,fs=us.verticalCornerRadius;(Kn>0||fs>0)&&(ns.borderRadius="".concat(Kn,"px / ").concat(fs,"px")),Nt.color?ns.borderColor="rgb(".concat(0|Nt.color[0],", ").concat(0|Nt.color[1],", ").concat(0|Nt.color[2],")"):ns.borderWidth="0"}return c.createElement(c.Fragment,null,an&&Ht({popup:{opened:An,closeOnHover:_n,openOnHover:En,toggleOnClick:Fn},slot:{attrs:{style:Object.assign({height:"".concat(ws,"px"),left:"".concat(Mn[0],"px"),top:"".concat(Mn[1],"px"),transform:"matrix(".concat(Ut.transform.join(","),")"),transformOrigin:"-".concat(Mn[0],"px -").concat(Mn[1],"px"),width:"".concat(Tn,"px")},ns)},children:c.createElement(c.Fragment,null,Xt&&An&&c.createElement(jn,{annotation:Nt}))}}))},Ot=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an);return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(Ut){return c.createElement("div",j({},Ut.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":xt.id,onClick:Ut.popup.toggleOnClick,onMouseEnter:Ut.popup.openOnHover,onMouseLeave:Ut.popup.closeOnHover}),Ut.slot.children)})},pn=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an),Ut=xt.rect,nn=Ut[2]-Ut[0],en=Ut[3]-Ut[1],_n=xt.borderStyle.width;return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(An){return c.createElement("div",j({},An.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":xt.id,onClick:An.popup.toggleOnClick,onMouseEnter:An.popup.openOnHover,onMouseLeave:An.popup.closeOnHover}),c.createElement("svg",{height:"".concat(en,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nn," ").concat(en),width:"".concat(nn,"px")},c.createElement("circle",{cy:en/2,fill:"none",rx:nn/2-_n/2,ry:en/2-_n/2,stroke:"transparent",strokeWidth:_n||1})),An.slot.children)})},kn=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=Jt(xt),Xt=Qt(xt),an=!(xt.hasPopup!==!1||!Vt&&!Xt),Zt=function(){var Ut,nn,en,_n,An=xt.file;An&&(Ut=An.filename,nn=An.content,en=typeof nn=="string"?"":URL.createObjectURL(new Blob([nn],{type:""})),(_n=document.createElement("a")).style.display="none",_n.href=en||Ut,_n.setAttribute("download",function(En){var Fn=En.split("/").pop();return Fn?Fn.split("#")[0].split("?")[0]:En}(Ut)),document.body.appendChild(_n),_n.click(),document.body.removeChild(_n),en&&URL.revokeObjectURL(en))};return c.createElement(Jn,{annotation:xt,hasPopup:an,ignoreBorder:!0,isRenderable:!0,page:Nt,viewport:Ht},function(Ut){return c.createElement("div",j({},Ut.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":xt.id,onClick:Ut.popup.toggleOnClick,onDoubleClick:Zt,onMouseEnter:Ut.popup.openOnHover,onMouseLeave:Ut.popup.closeOnHover}),Ut.slot.children)})},Un=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an);return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(Ut){return c.createElement("div",j({},Ut.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":xt.id,onClick:Ut.popup.toggleOnClick,onMouseEnter:Ut.popup.openOnHover,onMouseLeave:Ut.popup.closeOnHover}),Ut.slot.children)})},Vn=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=Jt(xt),Xt=Qt(xt),an=!(!Vt&&!Xt),Zt=!xt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(xt.parentType)!==-1;return tt(function(){if(xt.parentId){var Ut=document.querySelector('[data-annotation-id="'.concat(xt.parentId,'"]')),nn=document.querySelector('[data-annotation-id="'.concat(xt.id,'"]'));if(Ut&&nn){var en=parseFloat(Ut.style.left),_n=parseFloat(Ut.style.top)+parseFloat(Ut.style.height);nn.style.left="".concat(en,"px"),nn.style.top="".concat(_n,"px"),nn.style.transformOrigin="-".concat(en,"px -").concat(_n,"px")}}},[]),c.createElement(Jn,{annotation:xt,hasPopup:Zt,ignoreBorder:!1,isRenderable:an,page:Nt,viewport:Ht},function(Ut){return c.createElement("div",j({},Ut.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":xt.id}),c.createElement(jn,{annotation:xt}))})},In=function(gt){var xt=gt.annotation,Nt=gt.childAnnotation,Ht=gt.page,Vt=gt.viewport,Xt=xt.hasPopup===!1,an=Jt(xt),Zt=Qt(xt),Ut=!!(xt.hasPopup||an||Zt);if(xt.quadPoints&&xt.quadPoints.length>0){var nn=xt.quadPoints.map(function(en){return Object.assign({},xt,{rect:[en[2].x,en[2].y,en[1].x,en[1].y],quadPoints:[]})});return c.createElement(c.Fragment,null,nn.map(function(en,_n){return c.createElement(In,{key:_n,annotation:en,childAnnotation:Nt,page:Ht,viewport:Vt})}))}return c.createElement(Jn,{annotation:xt,hasPopup:Xt,ignoreBorder:!0,isRenderable:Ut,page:Ht,viewport:Vt},function(en){return c.createElement(c.Fragment,null,c.createElement("div",j({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":xt.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),en.slot.children),Nt&&Nt.annotationType===s.AnnotationType.Popup&&en.popup.opened&&c.createElement(Vn,{annotation:Nt,page:Ht,viewport:Vt}))})},Lt=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an),Ut=xt.rect,nn=Ut[2]-Ut[0],en=Ut[3]-Ut[1],_n=xt.borderStyle.width;return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(An){return c.createElement("div",j({},An.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":xt.id,onClick:An.popup.toggleOnClick,onMouseEnter:An.popup.openOnHover,onMouseLeave:An.popup.closeOnHover}),xt.inkLists&&xt.inkLists.length&&c.createElement("svg",{height:"".concat(en,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nn," ").concat(en),width:"".concat(nn,"px")},xt.inkLists.map(function(En,Fn){return c.createElement("polyline",{key:Fn,fill:"none",stroke:"transparent",strokeWidth:_n||1,points:En.map(function(Mn){return"".concat(Mn.x-Ut[0],",").concat(Ut[3]-Mn.y)}).join(" ")})})),An.slot.children)})},Tt=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an),Ut=xt.rect,nn=Ut[2]-Ut[0],en=Ut[3]-Ut[1],_n=xt.borderStyle.width;return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(An){return c.createElement("div",j({},An.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":xt.id,onClick:An.popup.toggleOnClick,onMouseEnter:An.popup.openOnHover,onMouseLeave:An.popup.closeOnHover}),c.createElement("svg",{height:"".concat(en,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nn," ").concat(en),width:"".concat(nn,"px")},c.createElement("line",{stroke:"transparent",strokeWidth:_n||1,x1:Ut[2]-xt.lineCoordinates[0],x2:Ut[2]-xt.lineCoordinates[2],y1:Ut[3]-xt.lineCoordinates[1],y2:Ut[3]-xt.lineCoordinates[3]})),An.slot.children)})},Wt=/^([^\w]*)(javascript|data|vbscript)/im,cn=/&#(\w+)(^\w|;)?/g,un=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,yn=/^([^:]+):/gm,Sn=function(gt,xt){var Nt,Ht=(Nt=gt||"",Nt.replace(cn,function(Zt,Ut){return String.fromCharCode(Ut)})).replace(un,"").trim();if(!Ht)return xt;var Vt=Ht[0];if(Vt==="."||Vt==="/")return Ht;var Xt=Ht.match(yn);if(!Xt)return Ht;var an=Xt[0];return Wt.test(an)?xt:Ht},$n=function(gt){var xt,Nt=gt.annotation,Ht=gt.annotationContainerRef,Vt=gt.doc,Xt=gt.outlines,an=gt.page,Zt=gt.pageIndex,Ut=gt.scale,nn=gt.viewport,en=gt.onExecuteNamedAction,_n=gt.onJumpFromLinkAnnotation,An=gt.onJumpToDest,En=c.useRef(),Fn=Xt&&Xt.length&&Nt.dest&&typeof Nt.dest=="string"?(xt=Xt.find(function(ns){return ns.dest===Nt.dest}))===null||xt===void 0?void 0:xt.title:"",Mn=!!(Nt.url||Nt.dest||Nt.action||Nt.unsafeUrl),Tn={};if(Nt.url||Nt.unsafeUrl){var ws=Sn(Nt.url||Nt.unsafeUrl,"");ws?Tn={"data-target":"external",href:ws,rel:"noopener noreferrer nofollow",target:Nt.newWindow?"_blank":"",title:ws}:Mn=!1}else Tn={href:"","data-annotation-link":Nt.id,onClick:function(ns){ns.preventDefault(),Nt.action?en(Nt.action):qn(Vt,Nt.dest).then(function(ss){var us=En.current,Kn=Ht.current;if(us&&Kn){var fs=us.getBoundingClientRect();Kn.style.setProperty("height","100%"),Kn.style.setProperty("width","100%");var os=Kn.getBoundingClientRect();Kn.style.removeProperty("height"),Kn.style.removeProperty("width");var Ls=(fs.left-os.left)/Ut,Ps=(os.bottom-fs.bottom+fs.height)/Ut;_n({bottomOffset:Ps,label:Fn,leftOffset:Ls,pageIndex:Zt})}An(ss)})}};return Fn&&(Tn=Object.assign({},Tn,{title:Fn,"aria-label":Fn})),c.createElement(Jn,{annotation:Nt,hasPopup:!1,ignoreBorder:!1,isRenderable:Mn,page:an,viewport:nn},function(ns){return c.createElement("div",j({},ns.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Nt.id,"data-testid":"core__annotation--link-".concat(Nt.id)}),c.createElement("a",j({ref:En},Tn)))})},On=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an),Ut=xt.rect,nn=Ut[2]-Ut[0],en=Ut[3]-Ut[1],_n=xt.borderStyle.width;return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(An){return c.createElement("div",j({},An.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":xt.id,onClick:An.popup.toggleOnClick,onMouseEnter:An.popup.openOnHover,onMouseLeave:An.popup.closeOnHover}),xt.vertices&&xt.vertices.length&&c.createElement("svg",{height:"".concat(en,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nn," ").concat(en),width:"".concat(nn,"px")},c.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:_n||1,points:xt.vertices.map(function(En){return"".concat(En.x-Ut[0],",").concat(Ut[3]-En.y)}).join(" ")})),An.slot.children)})},Ln=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an),Ut=xt.rect,nn=Ut[2]-Ut[0],en=Ut[3]-Ut[1],_n=xt.borderStyle.width;return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(An){return c.createElement("div",j({},An.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":xt.id,onClick:An.popup.toggleOnClick,onMouseEnter:An.popup.openOnHover,onMouseLeave:An.popup.closeOnHover}),xt.vertices&&xt.vertices.length&&c.createElement("svg",{height:"".concat(en,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nn," ").concat(en),width:"".concat(nn,"px")},c.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:_n||1,points:xt.vertices.map(function(En){return"".concat(En.x-Ut[0],",").concat(Ut[3]-En.y)}).join(" ")})),An.slot.children)})},cs=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an),Ut=xt.rect,nn=Ut[2]-Ut[0],en=Ut[3]-Ut[1],_n=xt.borderStyle.width;return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(An){return c.createElement("div",j({},An.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":xt.id,onClick:An.popup.toggleOnClick,onMouseEnter:An.popup.openOnHover,onMouseLeave:An.popup.closeOnHover}),c.createElement("svg",{height:"".concat(en,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nn," ").concat(en),width:"".concat(nn,"px")},c.createElement("rect",{height:en-_n,fill:"none",stroke:"transparent",strokeWidth:_n||1,x:_n/2,y:_n/2,width:nn-_n})),An.slot.children)})},Nn=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an);return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(Ut){return c.createElement("div",j({},Ut.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":xt.id,onClick:Ut.popup.toggleOnClick,onMouseEnter:Ut.popup.openOnHover,onMouseLeave:Ut.popup.closeOnHover}),Ut.slot.children)})},Gn=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an);return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(Ut){return c.createElement("div",j({},Ut.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":xt.id,onClick:Ut.popup.toggleOnClick,onMouseEnter:Ut.popup.openOnHover,onMouseLeave:Ut.popup.closeOnHover}),Ut.slot.children)})},is=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an);return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(Ut){return c.createElement("div",j({},Ut.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":xt.id,onClick:Ut.popup.toggleOnClick,onMouseEnter:Ut.popup.openOnHover,onMouseLeave:Ut.popup.closeOnHover}),Ut.slot.children)})},gs=function(){return c.createElement(rt,{size:16},c.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),c.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),c.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),c.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},_s=function(){return c.createElement(rt,{size:16},c.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),c.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),c.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),c.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),c.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),c.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),c.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),c.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),c.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),c.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ds=function(){return c.createElement(rt,{size:16},c.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),c.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},hr=function(){return c.createElement(rt,{size:16},c.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),c.createElement("path",{d:"M6 4.5L6 0.5"}),c.createElement("path",{d:"M18 4.5L18 0.5"}),c.createElement("path",{d:"M10 4.5L10 0.5"}),c.createElement("path",{d:"M14 4.5L14 0.5"}))},Js=function(){return c.createElement(rt,{size:16},c.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),c.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),c.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},po=function(){return c.createElement(rt,{size:16},c.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Mo=function(gt){var xt=gt.annotation,Nt=gt.childAnnotation,Ht=gt.page,Vt=gt.viewport,Xt=xt.hasPopup===!1,an=Jt(xt),Zt=Qt(xt),Ut=!!(xt.hasPopup||an||Zt),nn=xt.name?xt.name.toLowerCase():"";return c.createElement(Jn,{annotation:xt,hasPopup:Xt,ignoreBorder:!1,isRenderable:Ut,page:Ht,viewport:Vt},function(en){return c.createElement(c.Fragment,null,c.createElement("div",j({},en.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":xt.id,onClick:en.popup.toggleOnClick,onMouseEnter:en.popup.openOnHover,onMouseLeave:en.popup.closeOnHover}),nn&&c.createElement("div",{className:"rpv-core__annotation-text-icon"},nn==="check"&&c.createElement(nt,null),nn==="comment"&&c.createElement(gs,null),nn==="help"&&c.createElement(_s,null),nn==="insert"&&c.createElement(po,null),nn==="key"&&c.createElement(Ds,null),nn==="note"&&c.createElement(hr,null),(nn==="newparagraph"||nn==="paragraph")&&c.createElement(Js,null)),en.slot.children),Nt&&Nt.annotationType===s.AnnotationType.Popup&&en.popup.opened&&c.createElement(Vn,{annotation:Nt,page:Ht,viewport:Vt}))})},Lo=function(gt){var xt=gt.annotation,Nt=gt.page,Ht=gt.viewport,Vt=xt.hasPopup===!1,Xt=Jt(xt),an=Qt(xt),Zt=!!(xt.hasPopup||Xt||an);return c.createElement(Jn,{annotation:xt,hasPopup:Vt,ignoreBorder:!0,isRenderable:Zt,page:Nt,viewport:Ht},function(Ut){return c.createElement("div",j({},Ut.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":xt.id,onClick:Ut.popup.toggleOnClick,onMouseEnter:Ut.popup.openOnHover,onMouseLeave:Ut.popup.closeOnHover}),Ut.slot.children)})},jy=function(gt){var xt=gt.annotations,Nt=gt.doc,Ht=gt.outlines,Vt=gt.page,Xt=gt.pageIndex,an=gt.plugins,Zt=gt.rotation,Ut=gt.scale,nn=gt.onExecuteNamedAction,en=gt.onJumpFromLinkAnnotation,_n=gt.onJumpToDest,An=c.useRef(),En=Vt.getViewport({rotation:Zt,scale:Ut}).clone({dontFlip:!0}),Fn=xt.filter(function(Mn){return!Mn.parentId});return tt(function(){var Mn=An.current;Mn&&an.forEach(function(Tn){Tn.onAnnotationLayerRender&&Tn.onAnnotationLayerRender({annotations:Fn,container:Mn,pageIndex:Xt,rotation:Zt,scale:Ut})})},[]),c.createElement("div",{ref:An,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Xt)},Fn.map(function(Mn){var Tn=xt.find(function(ws){return ws.parentId===Mn.id});switch(Mn.annotationType){case s.AnnotationType.Caret:return c.createElement(Ot,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Circle:return c.createElement(pn,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.FileAttachment:return c.createElement(kn,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.FreeText:return c.createElement(Un,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Highlight:return c.createElement(In,{key:Mn.id,annotation:Mn,childAnnotation:Tn,page:Vt,viewport:En});case s.AnnotationType.Ink:return c.createElement(Lt,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Line:return c.createElement(Tt,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Link:return c.createElement($n,{key:Mn.id,annotation:Mn,annotationContainerRef:An,doc:Nt,outlines:Ht,page:Vt,pageIndex:Xt,scale:Ut,viewport:En,onExecuteNamedAction:nn,onJumpFromLinkAnnotation:en,onJumpToDest:_n});case s.AnnotationType.Polygon:return c.createElement(On,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Polyline:return c.createElement(Ln,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Popup:return c.createElement(Vn,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Square:return c.createElement(cs,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Squiggly:return c.createElement(Nn,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Stamp:return c.createElement(Gn,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.StrikeOut:return c.createElement(is,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});case s.AnnotationType.Text:return c.createElement(Mo,{key:Mn.id,annotation:Mn,childAnnotation:Tn,page:Vt,viewport:En});case s.AnnotationType.Underline:return c.createElement(Lo,{key:Mn.id,annotation:Mn,page:Vt,viewport:En});default:return c.createElement(c.Fragment,{key:Mn.id})}}))},m_=function(gt){var xt=gt.page,Nt=gt.renderAnnotations,Ht=Bt(),Vt=c.useState({loading:!0,annotations:[]}),Xt=Vt[0],an=Vt[1];return c.useEffect(function(){xt.getAnnotations({intent:"display"}).then(function(Zt){Ht.current&&an({loading:!1,annotations:Zt})})},[]),Xt.loading?c.createElement(c.Fragment,null):Nt(Xt.annotations)},v_=function(gt){var xt=gt.doc,Nt=gt.outlines,Ht=gt.page,Vt=gt.pageIndex,Xt=gt.plugins,an=gt.rotation,Zt=gt.scale,Ut=gt.onExecuteNamedAction,nn=gt.onJumpFromLinkAnnotation,en=gt.onJumpToDest;return c.createElement(m_,{page:Ht,renderAnnotations:function(_n){return c.createElement(jy,{annotations:_n,doc:xt,outlines:Nt,page:Ht,pageIndex:Vt,plugins:Xt,rotation:an,scale:Zt,onExecuteNamedAction:Ut,onJumpFromLinkAnnotation:nn,onJumpToDest:en})}})},Dy=function(gt,xt){var Nt=gt%xt;return Nt===0?gt:Math.floor(gt-Nt)},y_=function(gt){var xt=gt.canvasLayerRef,Nt=gt.height,Ht=gt.page,Vt=gt.pageIndex,Xt=gt.plugins,an=gt.rotation,Zt=gt.scale,Ut=gt.width,nn=gt.onRenderCanvasCompleted,en=c.useRef();return tt(function(){var _n=en.current;_n&&_n.cancel();var An=xt.current;An.removeAttribute("data-testid"),Xt.forEach(function(os){os.onCanvasLayerRender&&os.onCanvasLayerRender({ele:An,pageIndex:Vt,rotation:an,scale:Zt,status:s.LayerRenderStatus.PreRender})});var En=Ht.getViewport({rotation:an,scale:Zt}),Fn=window.devicePixelRatio||1,Mn=Math.sqrt(16777216/(En.width*En.height)),Tn=Fn>Mn;Tn?An.style.transform="scale(1, 1)":An.style.removeProperty("transform");var ws=Math.min(Mn,Fn),ns=function(os,Ls){var Ps,Fs;if(Math.floor(os)===os)return[os,1];var Is=1/os;if(Is>Ls)return[1,Ls];if(Math.floor(Is)===Is)return[1,Is];for(var Os=os>1?Is:os,lr=0,Ys=1,ur=1,er=1;;){var ir=lr+ur,sr=Ys+er;if(sr>Ls)break;Os<=ir/sr?(ur=(Ps=[ir,sr])[0],er=Ps[1]):(lr=(Fs=[ir,sr])[0],Ys=Fs[1])}return Os<(lr/Ys+ur/er)/2?Os===os?[lr,Ys]:[Ys,lr]:Os===os?[ur,er]:[er,ur]}(ws,8),ss=ns[0],us=ns[1];An.width=Dy(En.width*ws,ss),An.height=Dy(En.height*ws,ss),An.style.width="".concat(Dy(En.width,us),"px"),An.style.height="".concat(Dy(En.height,us),"px"),An.hidden=!0;var Kn=An.getContext("2d",{alpha:!1}),fs=Tn||Fn!==1?[ws,0,0,ws,0,0]:null;return en.current=Ht.render({canvasContext:Kn,transform:fs,viewport:En}),en.current.promise.then(function(){An.hidden=!1,An.setAttribute("data-testid","core__canvas-layer-".concat(Vt)),Xt.forEach(function(os){os.onCanvasLayerRender&&os.onCanvasLayerRender({ele:An,pageIndex:Vt,rotation:an,scale:Zt,status:s.LayerRenderStatus.DidRender})}),nn()},function(){nn()}),function(){An&&(An.width=0,An.height=0)}},[]),c.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Nt,"px"),width:"".concat(Ut,"px")}},c.createElement("canvas",{ref:xt}))},b_=function(gt){var xt=gt.height,Nt=gt.page,Ht=gt.rotation,Vt=gt.scale,Xt=gt.width,an=c.useRef();return tt(function(){var Zt=an.current,Ut=Nt.getViewport({rotation:Ht,scale:Vt});Nt.getOperatorList().then(function(nn){(function(){var en=an.current;en&&(en.innerHTML="")})(),new d.SVGGraphics(Nt.commonObjs,Nt.objs).getSVG(nn,Ut).then(function(en){en.style.height="".concat(xt,"px"),en.style.width="".concat(Xt,"px"),Zt.appendChild(en)})})},[]),c.createElement("div",{className:"rpv-core__svg-layer",ref:an})},x_=function(gt){var xt=gt.containerRef,Nt=gt.page,Ht=gt.pageIndex,Vt=gt.plugins,Xt=gt.rotation,an=gt.scale,Zt=gt.onRenderTextCompleted,Ut=c.useRef(),nn=function(){var en=xt.current;en&&([].slice.call(en.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(_n){return en.removeChild(_n)}),[].slice.call(en.querySelectorAll('br[role="presentation"]')).forEach(function(_n){return en.removeChild(_n)}))};return tt(function(){var en=Ut.current;en&&en.cancel();var _n=xt.current;if(_n){_n.removeAttribute("data-testid");var An=Nt.getViewport({rotation:Xt,scale:an});return Vt.forEach(function(En){En.onTextLayerRender&&En.onTextLayerRender({ele:_n,pageIndex:Ht,scale:an,status:s.LayerRenderStatus.PreRender})}),Nt.getTextContent().then(function(En){nn(),Ut.current=d.renderTextLayer({container:_n,textContent:En,textContentSource:En,viewport:An}),Ut.current.promise.then(function(){_n.setAttribute("data-testid","core__text-layer-".concat(Ht)),[].slice.call(_n.children).forEach(function(Fn){Fn.classList.contains("rpv-core__text-layer-text--not")||Fn.classList.add("rpv-core__text-layer-text")}),Vt.forEach(function(Fn){Fn.onTextLayerRender&&Fn.onTextLayerRender({ele:_n,pageIndex:Ht,scale:an,status:s.LayerRenderStatus.DidRender})}),Zt()},function(){_n.removeAttribute("data-testid"),Zt()})}),function(){var En;nn(),(En=Ut.current)===null||En===void 0||En.cancel()}}},[]),c.createElement("div",{className:"rpv-core__text-layer",ref:xt})},w_=function(gt){var xt=gt.doc,Nt=gt.measureRef,Ht=gt.outlines,Vt=gt.pageIndex,Xt=gt.pageRotation,an=gt.pageSize,Zt=gt.plugins,Ut=gt.renderPage,nn=gt.renderQueueKey,en=gt.rotation,_n=gt.scale,An=gt.shouldRender,En=gt.viewMode,Fn=gt.onExecuteNamedAction,Mn=gt.onJumpFromLinkAnnotation,Tn=gt.onJumpToDest,ws=gt.onRenderCompleted,ns=gt.onRotatePage,ss=Bt(),us=c.useState(null),Kn=us[0],fs=us[1],os=c.useState(!1),Ls=os[0],Ps=os[1],Fs=c.useState(!1),Is=Fs[0],Os=Fs[1],lr=c.useRef(),Ys=c.useRef(),ur=Math.abs(en+Xt)%180==0,er=an.pageWidth*_n,ir=an.pageHeight*_n,sr=ur?er:ir,tr=ur?ir:er,Mr=(an.rotation+en+Xt)%360,Fo=c.useRef(0),go=Ut||function(vr){return c.createElement(c.Fragment,null,vr.canvasLayer.children,vr.textLayer.children,vr.annotationLayer.children)};return c.useEffect(function(){fs(null),Ps(!1),Os(!1)},[Xt,en,_n]),c.useEffect(function(){An&&ss.current&&!Kn&&Dn(xt,Vt).then(function(vr){ss.current&&(Fo.current=nn,fs(vr))})},[An,Kn]),c.useEffect(function(){Ls&&Is&&(nn!==Fo.current?(fs(null),Ps(!1),Os(!1)):ws(Vt))},[Ls,Is]),c.createElement("div",{className:et({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":En===s.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":En===s.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":En===s.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Vt),ref:Nt,style:{height:"".concat(tr,"px"),width:"".concat(sr,"px")}},Kn?c.createElement(c.Fragment,null,go({annotationLayer:{attrs:{},children:c.createElement(v_,{doc:xt,outlines:Ht,page:Kn,pageIndex:Vt,plugins:Zt,rotation:Mr,scale:_n,onExecuteNamedAction:Fn,onJumpFromLinkAnnotation:Mn,onJumpToDest:Tn})},canvasLayer:{attrs:{},children:c.createElement(y_,{canvasLayerRef:lr,height:tr,page:Kn,pageIndex:Vt,plugins:Zt,rotation:Mr,scale:_n,width:sr,onRenderCanvasCompleted:function(){ss.current&&Ps(!0)}})},canvasLayerRendered:Ls,doc:xt,height:tr,pageIndex:Vt,rotation:Mr,scale:_n,svgLayer:{attrs:{},children:c.createElement(b_,{height:tr,page:Kn,rotation:Mr,scale:_n,width:sr})},textLayer:{attrs:{},children:c.createElement(x_,{containerRef:Ys,page:Kn,pageIndex:Vt,plugins:Zt,rotation:Mr,scale:_n,onRenderTextCompleted:function(){ss.current&&Os(!0)}})},textLayerRendered:Is,width:sr,markRendered:ws,onRotatePage:function(vr){return ns(Vt,vr)}}),Zt.map(function(vr,Gr){return vr.renderPageLayer?c.createElement(c.Fragment,{key:Gr},vr.renderPageLayer({canvasLayerRef:lr,canvasLayerRendered:Ls,doc:xt,height:tr,pageIndex:Vt,rotation:Mr,scale:_n,textLayerRef:Ys,textLayerRendered:Is,width:sr})):c.createElement(c.Fragment,{key:Gr})})):c.createElement(ot,{testId:"core__page-layer-loading-".concat(Vt)}))},E_=function(gt,xt){var Nt=xt.rect;return gt.height!==Nt.height||gt.width!==Nt.width?Nt:gt};(function(gt){gt.Horizontal="Horizontal",gt.Vertical="Vertical",gt.Both="Both"})(Hn||(Hn={}));var A_=function(gt){return 1-Math.pow(1-gt,4)},Oy=1e-4,Uw={left:0,top:0},$w={capture:!1,passive:!0},__=function(gt){var xt=gt.elementRef,Nt=gt.enableSmoothScroll,Ht=gt.isRtl,Vt=gt.scrollDirection,Xt=gt.onSmoothScroll,an=c.useState(Uw),Zt=an[0],Ut=an[1],nn=c.useState(xt.current),en=nn[0],_n=nn[1],An=Ht?-1:1,En=c.useRef(Vt);En.current=Vt;var Fn=c.useRef(Uw),Mn=c.useRef(!0),Tn=c.useCallback(function(){Mn.current=!0,Nt&&Ut(Fn.current),Xt(!1)},[]),ws=c.useCallback(function(){if(en){switch(En.current){case Hn.Horizontal:Fn.current={left:An*en.scrollLeft,top:0};break;case Hn.Both:Fn.current={left:An*en.scrollLeft,top:en.scrollTop};break;case Hn.Vertical:default:Fn.current={left:0,top:en.scrollTop}}Nt&&!Mn.current||Ut(Fn.current)}},[en]);tt(function(){_n(xt.current)}),tt(function(){if(en)return en.addEventListener("scroll",ws,$w),function(){en.removeEventListener("scroll",ws,$w)}},[en]);var ns=c.useCallback(function(ss,us){var Kn=xt.current;if(!Kn)return Promise.resolve();var fs={left:0,top:0};switch(En.current){case Hn.Horizontal:fs.left=An*ss.left;break;case Hn.Both:fs.left=An*ss.left,fs.top=ss.top;break;case Hn.Vertical:default:fs.top=ss.top}return us?(Mn.current=!1,Xt(!0),new Promise(function(os,Ls){(function(Ps,Fs,Is,Os,lr,Ys){lr===void 0&&(lr=function(Gr){return Gr}),Ys===void 0&&(Ys=function(){});var ur=0,er=0,ir=!1;switch(Fs){case Hn.Horizontal:er=Ps.scrollLeft,ur=0;case Hn.Both:er=Ps.scrollLeft,ur=Ps.scrollTop;break;case Hn.Vertical:default:er=0,ur=Ps.scrollTop}var sr=function(){ir||(ir=!0,Ps.scrollLeft=Is.left,Ps.scrollTop=Is.top,Ys())};if(Math.abs(ur-Is.top)<=Oy&&Fs===Hn.Vertical)sr();else if(Math.abs(er-Is.left)<=Oy&&Fs===Hn.Horizontal)sr();else{var tr,Mr=-1,Fo=er-Is.left,go=ur-Is.top,vr=function(Gr){Mr===-1&&(Mr=Gr);var Zo=Gr-Mr,ls=Math.min(Zo/Os,1),rs=lr(ls),Yn={left:er-Fo*rs,top:ur-go*rs};switch(Fs){case Hn.Horizontal:Ps.scrollLeft=Yn.left;break;case Hn.Both:Ps.scrollLeft=Yn.left,Ps.scrollTop=Yn.top;break;case Hn.Vertical:default:Ps.scrollTop=Yn.top}Math.abs(Yn.top-Is.top)<=Oy&&Math.abs(Yn.left-Is.left)<=Oy&&!ir&&(window.cancelAnimationFrame(tr),sr()),Zo<Os?tr=window.requestAnimationFrame(vr):window.cancelAnimationFrame(tr)};tr=window.requestAnimationFrame(vr)}})(Kn,En.current,fs,400,A_,function(){Tn(),os()})})):new Promise(function(os,Ls){switch(En.current){case Hn.Horizontal:Kn.scrollLeft=fs.left;break;case Hn.Both:Kn.scrollLeft=fs.left,Kn.scrollTop=fs.top;break;case Hn.Vertical:default:Kn.scrollTop=fs.top}os()})},[xt]);return{scrollOffset:Zt,scrollTo:ns}},Ym=function(gt,xt,Nt){return Math.max(gt,Math.min(Nt,xt))},S_=function(gt,xt){if(xt!==s.ViewMode.DualPageWithCover)return 0;if(!function(Vt){var Xt=Vt.length;if(Xt===1)return!1;for(var an=1;an<Xt;an++)if(Vt[an].height!==Vt[0].height||Vt[an].width!==Vt[0].width)return!0;return!1}(gt))return 2*gt[0].width;var Nt=Kt(gt.slice(1),2).map(function(Vt){return Vt.length===2?Vt[0].width+Vt[1].width:Vt[0].width}),Ht=[gt[0].width].concat(Nt);return Math.max.apply(Math,Ht)},C_={left:0,top:0},R_={left:0,top:0},K0={left:0,top:0},T_={left:0,top:0},k_={height:0,width:0},zw={left:0,top:0},Vw="data-virtual-index",P_=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],M_=function(gt){var xt=gt.enableSmoothScroll,Nt=gt.isRtl,Ht=gt.numberOfItems,Vt=gt.parentRef,Xt=gt.setRenderRange,an=gt.sizes,Zt=gt.scrollMode,Ut=gt.viewMode,nn=c.useState(!1),en=nn[0],_n=nn[1],An=c.useCallback(function(ls){return _n(ls)},[]),En=c.useRef(Zt);En.current=Zt;var Fn=c.useRef(Ut);Fn.current=Ut;var Mn=Zt===s.ScrollMode.Wrapped||Ut===s.ViewMode.DualPageWithCover||Ut===s.ViewMode.DualPage?Hn.Both:Zt===s.ScrollMode.Horizontal?Hn.Horizontal:Hn.Vertical,Tn=__({elementRef:Vt,enableSmoothScroll:xt,isRtl:Nt,scrollDirection:Mn,onSmoothScroll:An}),ws=Tn.scrollOffset,ns=Tn.scrollTo,ss=function(ls){var rs=ls.elementRef,Yn=c.useState(rs.current),es=Yn[0],Qn=Yn[1],ps=c.useRef(!1),ms=c.useReducer(E_,{height:0,width:0}),ts=ms[0],zn=ms[1];return tt(function(){rs.current!==es&&Qn(rs.current)}),tt(function(){if(es&&!ps.current){ps.current=!0;var bs=es.getBoundingClientRect(),Es=bs.height,Gs=bs.width;zn({rect:{height:Es,width:Gs}})}},[es]),c.useEffect(function(){if(es){var bs=new ResizeObserver(function(Es,Gs){Es.forEach(function(Us){if(Us.target===es){var _r=Us.contentRect,Zr=_r.height,xs=_r.width;zn({rect:{height:Zr,width:xs}})}})});return bs.observe(es),function(){bs.unobserve(es)}}},[es]),ts}({elementRef:Vt}),us=c.useRef({scrollOffset:zw,measurements:[]});us.current.scrollOffset=ws;var Kn=c.useMemo(function(){return Array(Ht).fill(-1)},[]),fs=c.useState(Kn),os=fs[0],Ls=fs[1],Ps=c.useMemo(function(){var ls=new IntersectionObserver(function(rs){rs.forEach(function(Yn){var es=Yn.isIntersecting?Yn.intersectionRatio:-1,Qn=Yn.target.getAttribute(Vw);if(Qn){var ps=parseInt(Qn,10);0<=ps&&ps<Ht&&Ls(function(ms){return ms[ps]=es,function(ts,zn,bs){for(var Es,Gs=0,Us=zn.length;Gs<Us;Gs++)!Es&&Gs in zn||(Es||(Es=Array.prototype.slice.call(zn,0,Gs)),Es[Gs]=zn[Gs]);return ts.concat(Es||Array.prototype.slice.call(zn))}([],ms)})}})},{threshold:P_});return ls},[]),Fs=c.useMemo(function(){return Zt===s.ScrollMode.Page&&Ut===s.ViewMode.SinglePage?function(ls,rs,Yn){for(var es=[],Qn=0;Qn<ls;Qn++){var ps={height:Math.max(rs.height,Yn[Qn].height),width:Math.max(rs.width,Yn[Qn].width)},ms=Qn===0?T_:es[Qn-1].end,ts={left:ms.left+ps.width,top:ms.top+ps.height};es[Qn]={index:Qn,start:ms,size:ps,end:ts,visibility:-1}}return es}(Ht,ss,an):Ut===s.ViewMode.DualPageWithCover?function(ls,rs,Yn,es){for(var Qn=[],ps=0,ms=0,ts=K0,zn=0;zn<ls;zn++){var bs=zn===0?{height:es===s.ScrollMode.Page?Math.max(rs.height,Yn[zn].height):Yn[zn].height,width:es===s.ScrollMode.Page?Math.max(rs.width,Yn[zn].width):Yn[zn].width}:{height:es===s.ScrollMode.Page?Math.max(rs.height,Yn[zn].height):Yn[zn].height,width:Math.max(rs.width/2,Yn[zn].width)};es===s.ScrollMode.Page?ts=zn===0?K0:{left:zn%2==0?bs.width:0,top:Math.floor((zn-1)/2)*bs.height+Qn[0].end.top}:zn===0?(ts=K0,ps=Yn[0].height,ms=0):zn%2==1?(ts={left:0,top:ps+=ms},ms=zn===ls-1?Yn[zn].height:Math.max(Yn[zn].height,Yn[zn+1].height)):ts={left:Qn[zn-1].end.left,top:ps};var Es={left:ts.left+bs.width,top:ts.top+bs.height};Qn[zn]={index:zn,start:ts,size:bs,end:Es,visibility:-1}}return Qn}(Ht,ss,an,Zt):Ut===s.ViewMode.DualPage?function(ls,rs,Yn,es){for(var Qn=[],ps=0,ms=0,ts=R_,zn=0;zn<ls;zn++){var bs={height:es===s.ScrollMode.Page?Math.max(rs.height,Yn[zn].height):Yn[zn].height,width:Math.max(rs.width/2,Yn[zn].width)};es===s.ScrollMode.Page?ts={left:zn%2==0?0:bs.width,top:Math.floor(zn/2)*bs.height}:zn%2==0?(ts={left:0,top:ps+=ms},ms=zn===ls-1?Yn[zn].height:Math.max(Yn[zn].height,Yn[zn+1].height)):ts={left:Qn[zn-1].end.left,top:ps};var Es={left:ts.left+bs.width,top:ts.top+bs.height};Qn[zn]={index:zn,start:ts,size:bs,end:Es,visibility:-1}}return Qn}(Ht,ss,an,Zt):function(ls,rs,Yn,es){for(var Qn=[],ps=0,ms={left:0,top:0},ts=0,zn=C_,bs=0;bs<ls;bs++){var Es=Yn[bs];if(bs===0)ps=Es.width,ms={left:0,top:0},ts=Es.height;else switch(es){case s.ScrollMode.Wrapped:(ps+=Es.width)<rs.width?(zn={left:Qn[bs-1].end.left,top:ms.top},ts=Math.max(ts,Es.height)):(ps=Es.width,ms={left:(zn={left:ms.left,top:ms.top+ts}).left,top:zn.top},ts=Es.height);break;case s.ScrollMode.Horizontal:case s.ScrollMode.Vertical:default:zn=Qn[bs-1].end}var Gs={left:zn.left+Es.width,top:zn.top+Es.height};Qn[bs]={index:bs,start:zn,size:Es,end:Gs,visibility:-1}}return Qn}(Ht,ss,an,Zt)},[Zt,an,Ut,ss]),Is=Fs[Ht-1]?{height:Fs[Ht-1].end.top,width:Fs[Ht-1].end.left}:k_;us.current.measurements=Fs;var Os=c.useMemo(function(){var ls=function(bs,Es,Gs,Us){var _r=0;switch(bs){case Hn.Horizontal:_r=Us.left;break;case Hn.Vertical:default:_r=Us.top}var Zr=Es.length-1,xs=function(Bs,Zl,Np,By){for(;Bs<=Zl;){var Fu=(Bs+Zl)/2|0,Qm=By(Fu);if(Qm<Np)Bs=Fu+1;else{if(!(Qm>Np))return Fu;Zl=Fu-1}}return Bs>0?Bs-1:0}(0,Zr,_r,function(Bs){switch(bs){case Hn.Horizontal:return Es[Bs].start.left;case Hn.Both:case Hn.Vertical:default:return Es[Bs].start.top}});if(bs===Hn.Both)for(var Sr=Es[xs].start.top;xs-1>=0&&Es[xs-1].start.top===Sr&&Es[xs-1].start.left>=Us.left;)xs--;for(var Xs=xs;Xs<=Zr;){var Qs={top:Es[Xs].start.top-Us.top,left:Es[Xs].start.left-Us.left},fr={height:Gs.height-Qs.top,width:Gs.width-Qs.left};if(bs===Hn.Horizontal&&fr.width<0||bs===Hn.Vertical&&fr.height<0||bs===Hn.Both&&(fr.width<0||fr.height<0))break;Xs++}return{start:xs,end:Xs}}(Mn,Fs,ss,ws),rs=ls.start,Yn=ls.end,es=os.slice(Ym(0,Ht,rs),Ym(0,Ht,Yn)),Qn=rs+es.reduce(function(bs,Es,Gs,Us){return Es>Us[bs]?Gs:bs},0),ps=Qn=Ym(0,Ht-1,Qn),ms=Xt({endPage:Yn,numPages:Ht,startPage:rs}),ts=ms.startPage,zn=ms.endPage;switch(ts=Math.max(ts,0),zn=Math.min(zn,Ht-1),Ut){case s.ViewMode.DualPageWithCover:Qn>0&&(ps=Qn%2==1?Qn:Qn-1),ts=ts===0?0:ts%2==1?ts:ts-1,Ht-(zn=zn%2==1?zn-1:zn)<=2&&(zn=Ht-1);break;case s.ViewMode.DualPage:ps=Qn%2==0?Qn:Qn-1,ts=ts%2==0?ts:ts-1,zn=zn%2==1?zn:zn-1;break;case s.ViewMode.SinglePage:default:ps=Qn}return{startPage:ts,endPage:zn,maxVisbilityIndex:ps}},[Fs,ss,ws,Ut,os]),lr=Os.startPage,Ys=Os.endPage,ur=Os.maxVisbilityIndex,er=c.useMemo(function(){for(var ls=[],rs=function(es){var Qn=Fs[es],ps=j(j({},Qn),{visibility:os[es]!==void 0?os[es]:-1,measureRef:function(ms){ms&&(ms.setAttribute(Vw,"".concat(es)),Ps.observe(ms))}});ls.push(ps)},Yn=lr;Yn<=Ys;Yn++)rs(Yn);return ls},[lr,Ys,os,Fs]),ir=c.useCallback(function(ls,rs){var Yn=us.current.measurements[Ym(0,Ht-1,ls)],es=En.current===s.ScrollMode.Page?zw:rs;return Yn?ns({left:es.left+Yn.start.left,top:es.top+Yn.start.top},xt):Promise.resolve()},[ns,xt]),sr=c.useCallback(function(ls,rs){var Yn=us.current.measurements,es=Yn[ls].start,Qn=Yn.find(function(ms){return ms.start.top-es.top>1e-12});if(!Qn)return Promise.resolve();var ps=Qn.index;switch(Fn.current){case s.ViewMode.DualPage:ps=ps%2==0?ps:ps+1;break;case s.ViewMode.DualPageWithCover:ps=ps%2==1?ps:ps+1}return ir(ps,rs)},[]),tr=c.useCallback(function(ls,rs){for(var Yn=us.current.measurements,es=Yn[ls].start,Qn=ls,ps=!1,ms=Ht-1;ms>=0;ms--)if(es.top-Yn[ms].start.top>1e-12){ps=!0,Qn=Yn[ms].index;break}if(!ps)return Promise.resolve();switch(Fn.current){case s.ViewMode.DualPage:Qn=Qn%2==0?Qn:Qn-1;break;case s.ViewMode.DualPageWithCover:Qn=Qn%2==0?Qn-1:Qn}return Qn===ls&&(Qn=ls-1),ir(Qn,rs)},[]),Mr=c.useCallback(function(ls,rs){if(Fn.current===s.ViewMode.DualPageWithCover||Fn.current===s.ViewMode.DualPage)return sr(ls,rs);switch(En.current){case s.ScrollMode.Wrapped:return sr(ls,rs);case s.ScrollMode.Horizontal:case s.ScrollMode.Vertical:default:return ir(ls+1,rs)}},[]),Fo=c.useCallback(function(ls,rs){if(Fn.current===s.ViewMode.DualPageWithCover||Fn.current===s.ViewMode.DualPage)return tr(ls,rs);switch(En.current){case s.ScrollMode.Wrapped:return tr(ls,rs);case s.ScrollMode.Horizontal:case s.ScrollMode.Vertical:default:return ir(ls-1,rs)}},[]),go=c.useCallback(function(){return function(ls,rs){switch(rs){case s.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(ls.width,"px")};case s.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(ls.height,"px"),width:"100%"}}}(Is,En.current)},[Is]),vr=c.useCallback(function(ls){return function(rs,Yn,es){return es!==s.ScrollMode.Page?{}:{height:"".concat(Yn.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(rs.start.top,"px)")}}(ls,ss,En.current)},[ss]),Gr=c.useCallback(function(ls){return function(rs,Yn,es,Qn,ps){var ms,ts,zn,bs,Es,Gs,Us,_r=Yn?"right":"left",Zr=Yn?-1:1,xs=es.length,Sr=rs.start.left*Zr,Xs=rs.size,Qs=Xs.height,fr=Xs.width;if(Qn===s.ViewMode.DualPageWithCover){var Bs=ps===s.ScrollMode.Page?0:rs.start.top;return rs.index===0||xs%2==0&&rs.index===xs-1?((ms={height:"".concat(Qs,"px"),minWidth:"".concat(S_(es,Qn),"px"),width:"100%"})[_r]=0,ms.position="absolute",ms.top=0,ms.transform="translate(".concat(Sr,"px, ").concat(Bs,"px)"),ms):((ts={height:"".concat(Qs,"px"),width:"".concat(fr,"px")})[_r]=0,ts.position="absolute",ts.top=0,ts.transform="translate(".concat(Sr,"px, ").concat(Bs,"px)"),ts)}if(Qn===s.ViewMode.DualPage)return(zn={height:"".concat(Qs,"px"),width:"".concat(fr,"px")})[_r]=0,zn.position="absolute",zn.top=0,zn.transform="translate(".concat(Sr,"px, ").concat(ps===s.ScrollMode.Page?0:rs.start.top,"px)"),zn;switch(ps){case s.ScrollMode.Horizontal:return(bs={height:"100%",width:"".concat(fr,"px")})[_r]=0,bs.position="absolute",bs.top=0,bs.transform="translateX(".concat(Sr,"px)"),bs;case s.ScrollMode.Page:return(Es={height:"".concat(Qs,"px"),width:"".concat(fr,"px")})[_r]=0,Es.position="absolute",Es.top=0,Es;case s.ScrollMode.Wrapped:return(Gs={height:"".concat(Qs,"px"),width:"".concat(fr,"px")})[_r]=0,Gs.position="absolute",Gs.top=0,Gs.transform="translate(".concat(Sr,"px, ").concat(rs.start.top,"px)"),Gs;case s.ScrollMode.Vertical:default:return(Us={height:"".concat(Qs,"px"),width:"100%"})[_r]=0,Us.position="absolute",Us.top=0,Us.transform="translateY(".concat(rs.start.top,"px)"),Us}}(ls,Nt,an,Fn.current,En.current)},[Nt,an]),Zo=c.useCallback(function(ls,rs){var Yn=us.current,es=Yn.measurements,Qn=Yn.scrollOffset,ps=es[Ym(0,Ht-1,rs)];if(ps){var ms=En.current===s.ScrollMode.Page?{left:ps.start.left,top:ps.start.top}:{left:Qn.left*ls,top:Qn.top*ls};return ns(ms,!1)}return Promise.resolve()},[]);return c.useEffect(function(){return function(){Ps.disconnect()}},[]),{boundingClientRect:ss,isSmoothScrolling:en,startPage:lr,endPage:Ys,maxVisbilityIndex:ur,virtualItems:er,getContainerStyles:go,getItemContainerStyles:vr,getItemStyles:Gr,scrollToItem:ir,scrollToNextItem:Mr,scrollToPreviousItem:Fo,zoom:Zo}},Y0=function(gt,xt,Nt,Ht,Vt,Xt){var an=Nt;switch(!0){case(Vt===s.ViewMode.DualPageWithCover&&Xt>=3):case(Vt===s.ViewMode.DualPage&&Xt>=3):an=2*Nt;break;default:an=Nt}switch(Ht){case s.SpecialZoomLevel.ActualSize:return 1;case s.SpecialZoomLevel.PageFit:return Math.min((gt.clientWidth-17)/an,(gt.clientHeight-16)/xt);case s.SpecialZoomLevel.PageWidth:return(gt.clientWidth-17)/an}},L_=function(gt){var xt,Nt,Ht=gt.getCurrentPage,Vt=(xt=50,Nt=c.useRef([]),c.useEffect(function(){return function(){Nt.current=[]}},[]),{push:function(nn){var en=Nt.current;en.length+1>xt&&en.shift(),en.push(nn),Nt.current=en},map:function(nn){return Nt.current.map(function(en){return nn(en)})},pop:function(){var nn=Nt.current;if(nn.length===0)return null;var en=nn.pop();return Nt.current=nn,en}}),Xt=function(nn){var en=c.useRef([]);return c.useEffect(function(){return function(){en.current=[]}},[]),{dequeue:function(){var _n=en.current;if(_n.length===0)return null;var An=_n.shift();return en.current=_n,An||null},enqueue:function(_n){var An=en.current;An.length+1>nn&&An.pop(),en.current=[_n].concat(An)},map:function(_n){return en.current.map(function(An){return _n(An)})}}}(50),an=function(){var nn=Xt.dequeue();return nn&&Vt.push(nn),nn&&nn.pageIndex===Ht()?an():nn},Zt=function(){var nn=Vt.pop();return nn&&Xt.enqueue(nn),nn&&nn.pageIndex===Ht()?Zt():nn},Ut=c.useCallback(function(nn){Vt.push(nn)},[]);return{getNextDestination:an,getPreviousDestination:Zt,markVisitedDestination:Ut}},Ww=function(gt){var xt=[];return gt.map(function(Nt){xt=xt.concat(Nt).concat(function(Ht){var Vt=[];return Ht.items&&Ht.items.length>0&&(Vt=Vt.concat(Ww(Ht.items))),Vt}(Nt))}),xt},Gw={capture:!1,passive:!0},F_={height:0,width:0},Q0={height:0,width:0},I_=function(gt){var xt=gt.getCurrentPage,Nt=gt.getCurrentScrollMode,Ht=gt.jumpToPage,Vt=gt.targetRef,Xt=c.useState(s.FullScreenMode.Normal),an=Xt[0],Zt=Xt[1],Ut=function(){var os=c.useState(F_),Ls=os[0],Ps=os[1],Fs=qt(function(){Ps({height:window.innerHeight,width:window.innerWidth})},100);return tt(function(){return window.addEventListener("resize",Fs,Gw),function(){window.removeEventListener("resize",Fs,Gw)}},[]),Ls}(),nn=c.useState(Q0),en=nn[0],_n=nn[1],An=c.useRef(Q0),En=c.useRef(xt()),Fn=c.useRef(Q0),Mn=c.useState(Vt.current),Tn=Mn[0],ws=Mn[1],ns=c.useRef();tt(function(){Vt.current!==Tn&&ws(Vt.current)},[]),tt(function(){if(Tn){var os=new ResizeObserver(function(Ls){Ls.forEach(function(Ps){var Fs=Ps.target.getBoundingClientRect(),Is=Fs.height,Os=Fs.width;_n({height:Is,width:Os})})});return os.observe(Tn),function(){os.unobserve(Tn),os.disconnect()}}},[Tn]);var ss=c.useCallback(function(os){var Ls=Rt();return Ls&&Ls!==os?(Zt(s.FullScreenMode.Normal),At(Ls)):Promise.resolve()},[]),us=c.useCallback(function(os){os&&mt()&&(ws(os),ss(os).then(function(){ns.current=os,Zt(s.FullScreenMode.Entering),function(Ls){yt&&Ls[Et.RequestFullScreen]()}(os)}))},[]),Kn=c.useCallback(function(){Rt()&&(Zt(s.FullScreenMode.Exitting),At(document))},[]),fs=c.useCallback(function(){Tn&&Rt()!==Tn&&Zt(s.FullScreenMode.Exitting)},[Tn]);return c.useEffect(function(){switch(an){case s.FullScreenMode.Entering:ns.current&&(ns.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),En.current=xt(),An.current={height:window.innerHeight,width:window.innerWidth};break;case s.FullScreenMode.Entered:Nt()===s.ScrollMode.Page?Ht(En.current).then(function(){Zt(s.FullScreenMode.EnteredCompletely)}):Zt(s.FullScreenMode.EnteredCompletely);break;case s.FullScreenMode.Exitting:ns.current&&(ns.current.style.backgroundColor="",ns.current=null),En.current=xt();break;case s.FullScreenMode.Exited:Zt(s.FullScreenMode.Normal),Nt()===s.ScrollMode.Page&&Ht(En.current)}},[an]),c.useEffect(function(){if(an!==s.FullScreenMode.Normal)return an===s.FullScreenMode.Entering&&Ut.height===en.height&&Ut.width===en.width&&Ut.height>0&&Ut.width>0&&(Fn.current.height===0||Ut.height==Fn.current.height)?(Fn.current={height:window.innerHeight,width:window.innerWidth},void Zt(s.FullScreenMode.Entered)):void(an===s.FullScreenMode.Exitting&&An.current.height===Ut.height&&An.current.width===Ut.width&&Ut.height>0&&Ut.width>0&&Zt(s.FullScreenMode.Exited))},[an,Ut,en]),c.useEffect(function(){var os;return os=fs,yt&&document.addEventListener(Et.FullScreenChange,os),function(){(function(Ls){yt&&document.removeEventListener(Et.FullScreenChange,Ls)})(fs)}},[Tn]),{enterFullScreenMode:us,exitFullScreenMode:Kn,fullScreenMode:an}},j_={buildPageStyles:function(){return{}},transformSize:function(gt){return gt.size}},Op={left:0,top:0},D_=function(gt){var xt=gt.currentFile,Nt=gt.defaultScale,Ht=gt.doc,Vt=gt.enableSmoothScroll,Xt=gt.initialPage,an=gt.initialRotation,Zt=gt.initialScale,Ut=gt.pageLayout,nn=gt.pageSizes,en=gt.plugins,_n=gt.renderPage,An=gt.scrollMode,En=gt.setRenderRange,Fn=gt.viewMode,Mn=gt.viewerState,Tn=gt.onDocumentLoad,ws=gt.onOpenFile,ns=gt.onPageChange,ss=gt.onRotate,us=gt.onRotatePage,Kn=gt.onZoom,fs=Ht.numPages,os=Ht.loadingTask.docId,Ls=c.useContext(zt).l10n,Ps=c.useContext(_e),Fs=Ps.direction===s.TextDirection.RightToLeft,Is=c.useRef(),Os=c.useRef(),lr=c.useState(Xt),Ys=lr[0],ur=lr[1],er=c.useRef(null),ir=L_({getCurrentPage:function(){return xs.current.pageIndex}}),sr=c.useState(an),tr=sr[0],Mr=sr[1],Fo=$t(tr),go=c.useState(!1),vr=go[0],Gr=go[1],Zo=c.useState(new Map),ls=Zo[0],rs=Zo[1],Yn=c.useState(An),es=Yn[0],Qn=Yn[1],ps=$t(es),ms=c.useState(Fn),ts=ms[0],zn=ms[1],bs=$t(ts),Es=function(Rn){var vs=Bt(),Ss=c.useState([]),Ns=Ss[0],js=Ss[1];return c.useEffect(function(){Rn.getOutline().then(function(Cs){if(vs.current&&Cs!==null){var pr=Ww(Cs);js(pr)}})},[]),Ns}(Ht),Gs=c.useState(Zt),Us=Gs[0],_r=Gs[1],Zr=$t(Us),xs=c.useRef(Mn),Sr=c.useRef(typeof Nt=="string"?Nt:null),Xs=c.useRef(-1),Qs=c.useRef(-1),fr=c.useRef(Xt),Bs=I_({getCurrentPage:function(){return xs.current.pageIndex},getCurrentScrollMode:function(){return xs.current.scrollMode},jumpToPage:function(Rn){return _c(Rn)},targetRef:Os}),Zl=c.useState(-1),Np=Zl[0],By=Zl[1],Fu=c.useState(0),Qm=Fu[0],$_=Fu[1],Jr=St({doc:Ht});c.useEffect(function(){return function(){Cn.clear(),as.clear()}},[os]);var Yw=c.useMemo(function(){return Object.assign({},j_,Ut)},[]),z_=c.useMemo(function(){return Array(fs).fill(0).map(function(Rn,vs){var Ss=[nn[vs].pageHeight,nn[vs].pageWidth],Ns=Math.abs(tr)%180==0?{height:Ss[0],width:Ss[1]}:{height:Ss[1],width:Ss[0]},js={height:Ns.height*Us,width:Ns.width*Us};return Yw.transformSize({numPages:fs,pageIndex:vs,size:js})})},[tr,Us]),zs=M_({enableSmoothScroll:Vt,isRtl:Fs,numberOfItems:fs,parentRef:Os,scrollMode:es,setRenderRange:En,sizes:z_,viewMode:ts}),V_=qt(function(){!Sr.current||xs.current.fullScreenMode!==s.FullScreenMode.Normal||Xt>0&&fr.current===Xt||Iu(Sr.current)},200);(function(Rn){var vs=Rn.targetRef,Ss=Rn.onResize;tt(function(){var Ns=new ResizeObserver(function(Cs){Cs.forEach(function(pr){Ss(pr.target)})}),js=vs.current;if(js)return Ns.observe(js),function(){Ns.unobserve(js)}},[])})({targetRef:Os,onResize:V_});var Jl=function(Rn){var vs=Rn;en.forEach(function(Ss){Ss.onViewerStateChange&&(vs=Ss.onViewerStateChange(vs))}),xs.current=vs},W_=function(){return Os.current},G_=function(){return xs.current},X_=c.useCallback(function(Rn){ir.markVisitedDestination(Rn)},[]),_b=c.useCallback(function(Rn){var vs=Rn.pageIndex,Ss=Rn.bottomOffset,Ns=Rn.leftOffset,js=Rn.scaleTo,Cs=Os.current,pr=xs.current;return Cs&&pr?new Promise(function(eu,rx){Dn(Ht,vs).then(function(Hy){var tu=Hy.getViewport({scale:1}),Uy=0,sE=(typeof Ss=="function"?Ss(tu.width,tu.height):Ss)||0,$y=(typeof Ns=="function"?Ns(tu.width,tu.height):Ns)||0,Bp=pr.scale;switch(js){case s.SpecialZoomLevel.PageFit:Uy=0,$y=0,Iu(s.SpecialZoomLevel.PageFit);break;case s.SpecialZoomLevel.PageWidth:Bp=Y0(Cs,nn[vs].pageHeight,nn[vs].pageWidth,s.SpecialZoomLevel.PageWidth,Fn,fs),Uy=(tu.height-sE)*Bp,$y*=Bp,Iu(Bp);break;default:Uy=(tu.height-sE)*Bp,$y*=Bp}switch(pr.scrollMode){case s.ScrollMode.Horizontal:zs.scrollToItem(vs,{left:$y,top:0}).then(function(){eu()});break;case s.ScrollMode.Vertical:default:zs.scrollToItem(vs,{left:0,top:Uy}).then(function(){eu()})}})}):Promise.resolve()},[]),Qw=c.useCallback(function(Rn){return ir.markVisitedDestination(Rn),_b(Rn)},[]),q_=c.useCallback(function(){var Rn=ir.getNextDestination();return Rn?_b(Rn):Promise.resolve()},[]),K_=c.useCallback(function(){var Rn=ir.getPreviousDestination();return Rn?_b(Rn):Promise.resolve()},[]),Y_=c.useCallback(function(){return zs.scrollToNextItem(xs.current.pageIndex,Op)},[]),_c=c.useCallback(function(Rn){return 0<=Rn&&Rn<fs?zs.scrollToItem(Rn,Op):Promise.resolve()},[]),Q_=c.useCallback(function(){return zs.scrollToPreviousItem(xs.current.pageIndex,Op)},[]),Zw=c.useCallback(function(Rn){var vs,Ss;(vs=Rn.name,Ss=vs.split(/\./).pop(),Ss?Ss.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Ns){var js=new FileReader;js.readAsArrayBuffer(Rn),js.onload=function(){var Cs=new Uint8Array(js.result);Ns(Cs)}}).then(function(Ns){ws(Rn.name,Ns)})},[ws]),Jw=c.useCallback(function(Rn){var vs=Rn===s.RotateDirection.Backward?-90:90,Ss=xs.current.rotation,Ns=Ss===360||Ss===-360?vs:Ss+vs;Jr.markNotRendered(),Mr(Ns),Jl(j(j({},xs.current),{rotation:Ns})),ss({direction:Rn,doc:Ht,rotation:Ns})},[]),ex=c.useCallback(function(Rn,vs){var Ss=vs===s.RotateDirection.Backward?-90:90,Ns=xs.current.pagesRotation,js=(Ns.has(Rn)?Ns.get(Rn):an)+Ss,Cs=Ns.set(Rn,js);rs(Cs),Gr(function(pr){return!pr}),Jl(j(j({},xs.current),{pagesRotation:Cs,rotatedPage:Rn})),us({direction:vs,doc:Ht,pageIndex:Rn,rotation:js}),Jr.markRendering(Rn),By(Rn)},[]),eE=c.useCallback(function(Rn){Jl(j(j({},xs.current),{scrollMode:Rn})),Qn(Rn)},[]),tE=c.useCallback(function(Rn){Jl(j(j({},xs.current),{viewMode:Rn})),zn(Rn)},[]),Iu=c.useCallback(function(Rn){var vs=Os.current,Ss=xs.current.pageIndex;if(!(Ss<0||Ss>=fs)){var Ns=nn[Ss].pageHeight,js=nn[Ss].pageWidth,Cs=vs?typeof Rn=="string"?Y0(vs,Ns,js,Rn,xs.current.viewMode,fs):Rn:1;Sr.current=typeof Rn=="string"?Rn:null,Cs!==xs.current.scale&&($_(function(pr){return pr+1}),Jr.markNotRendered(),_r(Cs),Kn({doc:Ht,scale:Cs}),Jl(j(j({},xs.current),{scale:Cs})))}},[]),Z_=c.useCallback(function(Rn){Bs.enterFullScreenMode(Rn)},[]),J_=c.useCallback(function(){Bs.exitFullScreenMode()},[]);c.useEffect(function(){Jl(j(j({},xs.current),{fullScreenMode:Bs.fullScreenMode}))},[Bs.fullScreenMode]),c.useEffect(function(){var Rn={enterFullScreenMode:Z_,exitFullScreenMode:J_,getPagesContainer:W_,getViewerState:G_,jumpToDestination:Qw,jumpToNextDestination:q_,jumpToPreviousDestination:K_,jumpToNextPage:Y_,jumpToPreviousPage:Q_,jumpToPage:_c,openFile:Zw,rotate:Jw,rotatePage:ex,setViewerState:Jl,switchScrollMode:eE,switchViewMode:tE,zoom:Iu};return en.forEach(function(vs){vs.install&&vs.install(Rn)}),function(){en.forEach(function(vs){vs.uninstall&&vs.uninstall(Rn)})}},[os]),c.useEffect(function(){Tn({doc:Ht,file:xt}),en.forEach(function(Rn){Rn.onDocumentLoad&&Rn.onDocumentLoad({doc:Ht,file:xt})})},[os]);var tx,nx,ix,nE=zs.boundingClientRect;tx=function(){Xt&&_c(Xt)},nx=nE.height>0&&nE.width>0,ix=c.useRef(!1),tt(function(){nx&&!ix.current&&(ix.current=!0,tx())},[tx,nx]),tt(function(){var Rn=xs.current.pageIndex;Rn>-1&&ps!==es&&zs.scrollToItem(Rn,Op).then(function(){Bs.fullScreenMode===s.FullScreenMode.EnteredCompletely&&(Vt||Jr.markNotRendered(),Xs.current=-1)})},[es]),tt(function(){var Rn=xs.current.pageIndex;Rn>-1&&Fo!==tr&&zs.scrollToItem(Rn,Op)},[tr]),tt(function(){Zr!=0&&Zr!=xs.current.scale&&zs.zoom(xs.current.scale/Zr,xs.current.pageIndex).then(function(){Bs.fullScreenMode===s.FullScreenMode.EnteredCompletely&&(Qs.current=-1)})},[Us]),tt(function(){if(bs!==xs.current.viewMode){var Rn=zs.startPage,vs=zs.endPage,Ss=zs.virtualItems;Jr.markNotRendered(),Jr.setRange(Rn,vs);for(var Ns=function(Cs){var pr=Ss.find(function(eu){return eu.index===Cs});pr&&Jr.setVisibility(Cs,pr.visibility)},js=Rn;js<=vs;js++)Ns(js);sx()}},[ts]),tt(function(){var Rn=xs.current.pageIndex;Rn>-1&&bs!==ts&&zs.scrollToItem(Rn,Op)},[ts]),tt(function(){var Rn=xs.current.pageIndex;Rn>0&&Rn===Xt&&fr.current===Xt&&Sr.current&&(fr.current=-1,Iu(Sr.current))},[Ys]),c.useEffect(function(){zs.isSmoothScrolling||er.current!==null&&er.current===Ys||(er.current=Ys,ns({currentPage:Ys,doc:Ht}))},[Ys,zs.isSmoothScrolling]),c.useEffect(function(){Bs.fullScreenMode===s.FullScreenMode.Entering&&xs.current.scrollMode===s.ScrollMode.Page&&(Xs.current=xs.current.pageIndex),Bs.fullScreenMode===s.FullScreenMode.EnteredCompletely&&xs.current.scrollMode===s.ScrollMode.Page&&Vt&&(Xs.current=-1),Bs.fullScreenMode===s.FullScreenMode.EnteredCompletely&&Sr.current&&(Qs.current=xs.current.pageIndex,Iu(Sr.current))},[Bs.fullScreenMode]),c.useEffect(function(){if(Bs.fullScreenMode!==s.FullScreenMode.Entering&&Bs.fullScreenMode!==s.FullScreenMode.Exitting&&!zs.isSmoothScrolling){var Rn=zs.startPage,vs=zs.endPage,Ss=zs.maxVisbilityIndex,Ns=zs.virtualItems,js=Ss,Cs=Bs.fullScreenMode===s.FullScreenMode.Entered||Bs.fullScreenMode===s.FullScreenMode.EnteredCompletely;if(!(Cs&&js!==Xs.current&&Xs.current>-1||Cs&&js!==Qs.current&&Qs.current>-1)){ur(js),Jl(j(j({},xs.current),{pageIndex:js})),Jr.setRange(Rn,vs);for(var pr=function(rx){var Hy=Ns.find(function(tu){return tu.index===rx});Hy&&Jr.setVisibility(rx,Hy.visibility)},eu=Rn;eu<=vs;eu++)pr(eu);sx()}}},[zs.startPage,zs.endPage,zs.isSmoothScrolling,zs.maxVisbilityIndex,Bs.fullScreenMode,vr,tr,Us]);var eS=c.useCallback(function(Rn){Jr.markRendered(Rn),sx()},[Qm]),sx=function(){var Rn=Jr.getHighestPriorityPage();Rn>-1&&Jr.isInRange(Rn)&&(Jr.markRendering(Rn),By(Rn))},tS=function(Rn){var vs=Ys-1,Ss=Ys+1;switch(Rn){case"FirstPage":_c(0);break;case"LastPage":_c(fs-1);break;case"NextPage":Ss<fs&&_c(Ss);break;case"PrevPage":vs>=0&&_c(vs)}},nS=c.useCallback(function(){var Rn=zs.virtualItems,vs=[];switch(ts){case s.ViewMode.DualPage:vs=Kt(Rn,2);break;case s.ViewMode.DualPageWithCover:Rn.length&&(vs=Rn[0].index===0?[[Rn[0]]].concat(Kt(Rn.slice(1),2)):Kt(Rn,2));break;case s.ViewMode.SinglePage:default:vs=Kt(Rn,1)}var Ss=Ls&&Ls.core?Ls.core.pageLabel:"Page {{pageIndex}}",Ns={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Is,style:{height:"100%"}},children:c.createElement(c.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:et({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":es===s.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Fs,"rpv-core__inner-pages--single":es===s.ScrollMode.Page,"rpv-core__inner-pages--vertical":es===s.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":es===s.ScrollMode.Wrapped}),ref:Os,style:{height:"100%",position:"relative"}},children:c.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ys),style:Object.assign({"--scale-factor":Us},zs.getContainerStyles())},vs.map(function(js){return c.createElement("div",{className:et({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":es===s.ScrollMode.Page}),style:zs.getItemContainerStyles(js[0]),key:"".concat(js[0].index,"-").concat(ts)},js.map(function(Cs){var pr=ts===s.ViewMode.DualPageWithCover&&(Cs.index===0||fs%2==0&&Cs.index===fs-1);return c.createElement("div",{"aria-label":Ss.replace("{{pageIndex}}","".concat(Cs.index+1)),className:et({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":ts===s.ViewMode.DualPage&&Cs.index%2==0,"rpv-core__inner-page--dual-odd":ts===s.ViewMode.DualPage&&Cs.index%2==1,"rpv-core__inner-page--dual-cover":pr,"rpv-core__inner-page--dual-cover-even":ts===s.ViewMode.DualPageWithCover&&!pr&&Cs.index%2==0,"rpv-core__inner-page--dual-cover-odd":ts===s.ViewMode.DualPageWithCover&&!pr&&Cs.index%2==1,"rpv-core__inner-page--single":ts===s.ViewMode.SinglePage&&es===s.ScrollMode.Page}),role:"region",key:"".concat(Cs.index,"-").concat(ts),style:Object.assign({},zs.getItemStyles(Cs),Yw.buildPageStyles({numPages:fs,pageIndex:Cs.index,scrollMode:es,viewMode:ts}))},c.createElement(w_,{doc:Ht,measureRef:Cs.measureRef,outlines:Es,pageIndex:Cs.index,pageRotation:ls.has(Cs.index)?ls.get(Cs.index):0,pageSize:nn[Cs.index],plugins:en,renderPage:_n,renderQueueKey:Qm,rotation:tr,scale:Us,shouldRender:Np===Cs.index,viewMode:ts,onExecuteNamedAction:tS,onJumpFromLinkAnnotation:X_,onJumpToDest:Qw,onRenderCompleted:eS,onRotatePage:ex}))}))}))}};return en.forEach(function(js){js.renderViewer&&(Ns=js.renderViewer({containerRef:Is,doc:Ht,pagesContainerRef:Os,pagesRotation:ls,pageSizes:nn,rotation:tr,slot:Ns,themeContext:Ps,jumpToPage:_c,openFile:Zw,rotate:Jw,rotatePage:ex,switchScrollMode:eE,switchViewMode:tE,zoom:Iu}))}),Ns},[en,zs]),iE=c.useCallback(function(Rn){return c.createElement("div",j({},Rn.attrs,{style:Rn.attrs&&Rn.attrs.style?Rn.attrs.style:{}}),Rn.children,Rn.subSlot&&iE(Rn.subSlot))},[]);return iE(nS())},Xw=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],O_=function(gt){var xt=gt.defaultScale,Nt=gt.doc,Ht=gt.render,Vt=gt.scrollMode,Xt=gt.viewMode,an=c.useRef(),Zt=c.useState({pageSizes:[],scale:0}),Ut=Zt[0],nn=Zt[1];return c.useLayoutEffect(function(){var en=Array(Nt.numPages).fill(0).map(function(_n,An){return new Promise(function(En,Fn){Dn(Nt,An).then(function(Mn){var Tn=Mn.getViewport({scale:1});En({pageHeight:Tn.height,pageWidth:Tn.width,rotation:Tn.rotation})})})});Promise.all(en).then(function(_n){var An=an.current;if(An&&_n.length!==0){var En=_n[0].pageWidth,Fn=_n[0].pageHeight,Mn=An.parentElement,Tn=(Mn.clientWidth-45)/En,ws=(Mn.clientHeight-45)/Fn,ns=Tn;switch(Vt){case s.ScrollMode.Horizontal:ns=Math.min(Tn,ws);break;case s.ScrollMode.Vertical:default:ns=Tn}var ss,us,Kn=xt?typeof xt=="string"?Y0(Mn,Fn,En,xt,Xt,Nt.numPages):xt:(ss=ns,(us=Xw.findIndex(function(fs){return fs>=ss}))===-1||us===0?ss:Xw[us-1]);nn({pageSizes:_n,scale:Kn})}})},[Nt.loadingTask.docId]),Ut.pageSizes.length===0||Ut.scale===0?c.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:an},c.createElement(ot,null)):Ht(Ut.pageSizes,Ut.scale)},Ny=function(){},Z0=function(gt){function xt(Nt,Ht){var Vt=gt.call(this)||this;return Vt.verifyPassword=Nt,Vt.passwordStatus=Ht,Vt}return b(xt,gt),xt}(Ny),N_=function(gt){var xt=gt.passwordStatus,Nt=gt.renderProtectedView,Ht=gt.verifyPassword,Vt=gt.onDocumentAskPassword,Xt=c.useContext(zt).l10n,an=c.useState(""),Zt=an[0],Ut=an[1],nn=c.useContext(_e).direction===s.TextDirection.RightToLeft,en=function(){return Ht(Zt)};return c.useEffect(function(){Vt&&Vt({verifyPassword:Ht})},[]),Nt?Nt({passwordStatus:xt,verifyPassword:Ht}):c.createElement("div",{className:"rpv-core__asking-password-wrapper"},c.createElement("div",{className:et({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":nn})},c.createElement("div",{className:"rpv-core__asking-password-message"},xt===s.PasswordStatus.RequiredPassword&&Xt.core.askingPassword.requirePasswordToOpen,xt===s.PasswordStatus.WrongPassword&&Xt.core.wrongPassword.tryAgain),c.createElement("div",{className:"rpv-core__asking-password-body"},c.createElement("div",{className:et({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!nn,"rpv-core__asking-password-input--rtl":nn})},c.createElement(ct,{testId:"core__asking-password-input",type:"password",value:Zt,onChange:Ut,onKeyDown:function(_n){_n.key==="Enter"&&en()}})),c.createElement(st,{onClick:en},Xt.core.askingPassword.submit))))},qw=function(gt){function xt(Nt){var Ht=gt.call(this)||this;return Ht.doc=Nt,Ht}return b(xt,gt),xt}(Ny),Kw=function(gt){function xt(Nt){var Ht=gt.call(this)||this;return Ht.error=Nt,Ht}return b(xt,gt),xt}(Ny),J0=function(gt){function xt(Nt){var Ht=gt.call(this)||this;return Ht.percentages=Nt,Ht}return b(xt,gt),xt}(Ny),B_=function(gt){var xt=gt.characterMap,Nt=gt.file,Ht=gt.httpHeaders,Vt=gt.render,Xt=gt.renderError,an=gt.renderLoader,Zt=gt.renderProtectedView,Ut=gt.transformGetDocumentParams,nn=gt.withCredentials,en=gt.onDocumentAskPassword,_n=c.useContext(_e).direction===s.TextDirection.RightToLeft,An=c.useState(new J0(0)),En=An[0],Fn=An[1],Mn=c.useRef(""),Tn=Bt();return c.useEffect(function(){Mn.current="",Fn(new J0(0));var ws=new d.PDFWorker({name:"PDFWorker_".concat(Date.now())}),ns=Object.assign({httpHeaders:Ht,withCredentials:nn,worker:ws},typeof Nt=="string"?{url:Nt}:{data:Nt},xt?{cMapUrl:xt.url,cMapPacked:xt.isCompressed}:{}),ss=Ut?Ut(ns):ns,us=d.getDocument(ss);return us.onPassword=function(Kn,fs){switch(fs){case d.PasswordResponses.NEED_PASSWORD:Tn.current&&Fn(new Z0(Kn,s.PasswordStatus.RequiredPassword));break;case d.PasswordResponses.INCORRECT_PASSWORD:Tn.current&&Fn(new Z0(Kn,s.PasswordStatus.WrongPassword))}},us.onProgress=function(Kn){var fs=Kn.total>0?Math.min(100,100*Kn.loaded/Kn.total):100;Tn.current&&Mn.current===""&&Fn(new J0(fs))},us.promise.then(function(Kn){Mn.current=Kn.loadingTask.docId,Tn.current&&Fn(new qw(Kn))},function(Kn){return Tn.current&&!ws.destroyed&&Fn(new Kw({message:Kn.message||"Cannot load document",name:Kn.name}))}),function(){us.destroy(),ws.destroy()}},[Nt]),En instanceof Z0?c.createElement(N_,{passwordStatus:En.passwordStatus,renderProtectedView:Zt,verifyPassword:En.verifyPassword,onDocumentAskPassword:en}):En instanceof qw?Vt(En.doc):En instanceof Kw?Xt?Xt(En.error):c.createElement("div",{className:et({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":_n})},c.createElement("div",{className:"rpv-core__doc-error-text"},En.error.message)):c.createElement("div",{"data-testid":"core__doc-loading",className:et({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":_n})},an?an(En.percentages):c.createElement(ot,null))},H_=function(gt,xt){var Nt=c.useMemo(function(){return gt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":gt},[]),Ht=c.useState(Nt),Vt=Ht[0],Xt=Ht[1],an=$t(Vt);return c.useEffect(function(){if(gt==="auto"){var Zt=window.matchMedia("(prefers-color-scheme: dark)"),Ut=function(nn){Xt(nn.matches?"dark":"light")};return Zt.addEventListener("change",Ut),function(){return Zt.removeEventListener("change",Ut)}}},[]),c.useEffect(function(){Vt!==an&&xt&&xt(Vt)},[Vt]),c.useEffect(function(){gt!==Vt&&Xt(gt)},[gt]),{currentTheme:Vt,setCurrentTheme:Xt}},U_=function(gt){return{startPage:gt.startPage-3,endPage:gt.endPage+3}};s.Button=function(gt){var xt=gt.children,Nt=gt.testId,Ht=gt.onClick,Vt=c.useContext(_e).direction===s.TextDirection.RightToLeft,Xt=Nt?{"data-testid":Nt}:{};return c.createElement("button",j({className:et({"rpv-core__button":!0,"rpv-core__button--rtl":Vt}),type:"button",onClick:Ht},Xt),xt)},s.Icon=rt,s.LazyRender=function(gt){var xt=gt.attrs,Nt=gt.children,Ht=gt.testId,Vt=c.useState(!1),Xt=Vt[0],an=Vt[1],Zt=Ht?j(j({},xt),{"data-testid":Ht}):xt,Ut=it({once:!0,onVisibilityChanged:function(nn){nn.isVisible&&an(!0)}});return c.createElement("div",j({ref:Ut},Zt),Xt&&Nt)},s.LocalizationContext=zt,s.Menu=function(gt){var xt=gt.children,Nt=c.useRef(),Ht=c.useRef([]),Vt=c.useContext(_e).direction===s.TextDirection.RightToLeft,Xt=function(Zt){if(Nt.current)switch(Zt.key){case"Tab":Zt.preventDefault();break;case"ArrowDown":Zt.preventDefault(),an(function(Ut,nn){return nn+1});break;case"ArrowUp":Zt.preventDefault(),an(function(Ut,nn){return nn-1});break;case"End":Zt.preventDefault(),an(function(Ut,nn){return Ut.length-1});break;case"Home":Zt.preventDefault(),an(function(Ut,nn){return 0})}},an=function(Zt){if(Nt.current){var Ut=Ht.current,nn=Ut.findIndex(function(_n){return _n.getAttribute("tabindex")==="0"}),en=Math.min(Ut.length-1,Math.max(0,Zt(Ut,nn)));nn>=0&&nn<=Ut.length-1&&Ut[nn].setAttribute("tabindex","-1"),Ut[en].setAttribute("tabindex","0"),Ut[en].focus()}};return tt(function(){var Zt=Nt.current;if(Zt){var Ut=function(nn){var en=[];return nn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(_n){if(_n instanceof HTMLElement){var An=_n.parentElement;(An===nn||window.getComputedStyle(An).display!=="none")&&en.push(_n)}}),en}(Zt);Ht.current=Ut}},[]),tt(function(){return document.addEventListener("keydown",Xt),function(){document.removeEventListener("keydown",Xt)}},[]),c.createElement("div",{ref:Nt,"aria-orientation":"vertical",className:et({"rpv-core__menu":!0,"rpv-core__menu--rtl":Vt}),role:"menu",tabIndex:0},xt)},s.MenuDivider=function(){return c.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},s.MenuItem=function(gt){var xt=gt.checked,Nt=xt!==void 0&&xt,Ht=gt.children,Vt=gt.icon,Xt=Vt===void 0?null:Vt,an=gt.isDisabled,Zt=an!==void 0&&an,Ut=gt.testId,nn=gt.onClick,en=c.useContext(_e).direction===s.TextDirection.RightToLeft,_n=Ut?{"data-testid":Ut}:{};return c.createElement("button",j({className:et({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Zt,"rpv-core__menu-item--ltr":!en,"rpv-core__menu-item--rtl":en}),role:"menuitem",tabIndex:-1,type:"button",onClick:nn},_n),c.createElement("div",{className:et({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!en,"rpv-core__menu-item-icon--rtl":en})},Xt),c.createElement("div",{className:et({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!en,"rpv-core__menu-item-label--rtl":en})},Ht),c.createElement("div",{className:et({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!en,"rpv-core__menu-item-check--rtl":en})},Nt&&c.createElement(nt,null)))},s.MinimalButton=function(gt){var xt=gt.ariaLabel,Nt=xt===void 0?"":xt,Ht=gt.ariaKeyShortcuts,Vt=Ht===void 0?"":Ht,Xt=gt.children,an=gt.isDisabled,Zt=an!==void 0&&an,Ut=gt.isSelected,nn=Ut!==void 0&&Ut,en=gt.testId,_n=gt.onClick,An=c.useContext(_e).direction===s.TextDirection.RightToLeft,En=en?{"data-testid":en}:{};return c.createElement("button",j({"aria-label":Nt},Vt&&{"aria-keyshortcuts":Vt},Zt&&{"aria-disabled":!0},{className:et({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Zt,"rpv-core__minimal-button--rtl":An,"rpv-core__minimal-button--selected":nn}),type:"button",onClick:_n},En),Xt)},s.Modal=function(gt){var xt=gt.ariaControlsSuffix,Nt=gt.closeOnClickOutside,Ht=gt.closeOnEscape,Vt=gt.content,Xt=gt.isOpened,an=Xt!==void 0&&Xt,Zt=gt.target,Ut=xt||"".concat(vt());return c.createElement(ln,{target:Zt?function(nn,en){return c.createElement("div",{"aria-expanded":en?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Ut)},Zt(nn,en))}:null,content:function(nn){return c.createElement(kt,null,c.createElement(Pt,{ariaControlsSuffix:Ut,closeOnClickOutside:Nt,closeOnEscape:Ht,onToggle:nn},Vt(nn)))},isOpened:an})},s.Popover=function(gt){var xt=gt.ariaHasPopup,Nt=xt===void 0?"dialog":xt,Ht=gt.ariaControlsSuffix,Vt=gt.closeOnClickOutside,Xt=gt.closeOnEscape,an=gt.content,Zt=gt.lockScroll,Ut=Zt===void 0||Zt,nn=gt.offset,en=gt.position,_n=gt.target,An=Gt(!1),En=An.opened,Fn=An.toggle,Mn=c.useRef(),Tn=c.useMemo(function(){return Ht||"".concat(vt())},[]);return c.createElement("div",{ref:Mn,"aria-expanded":En?"true":"false","aria-haspopup":Nt,"aria-controls":"rpv-core__popver-body-".concat(Tn)},_n(Fn,En),En&&c.createElement(c.Fragment,null,Ut&&c.createElement(fn,{closeOnEscape:Xt,onClose:Fn}),c.createElement(rn,{ariaControlsSuffix:Tn,closeOnClickOutside:Vt,offset:nn,position:en,targetRef:Mn,onClose:Fn},an(Fn))))},s.PrimaryButton=st,s.ProgressBar=function(gt){var xt=gt.progress,Nt=c.useContext(_e).direction===s.TextDirection.RightToLeft;return c.createElement("div",{className:et({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Nt})},c.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(xt,"%")}},xt,"%"))},s.Separator=function(){return c.createElement("div",{className:"rpv-core__separator"})},s.Spinner=ot,s.Splitter=function(gt){var xt=gt.constrain,Nt=c.useContext(_e).direction===s.TextDirection.RightToLeft,Ht=c.useRef(),Vt=c.useRef(),Xt=c.useRef(),an=c.useRef(0),Zt=c.useRef(0),Ut=c.useRef(0),nn=c.useRef(0),en={capture:!0},_n=function(En){var Fn=Ht.current,Mn=Vt.current,Tn=Xt.current;if(Fn&&Mn&&Tn){var ws=nn.current,ns=En.clientX-an.current,ss=Ut.current+(Nt?-ns:ns),us=Fn.parentElement.getBoundingClientRect().width,Kn=100*ss/us;if(Fn.classList.add("rpv-core__splitter--resizing"),xt){var fs=us-ss-ws;if(!xt({firstHalfPercentage:Kn,firstHalfSize:ss,secondHalfPercentage:100*fs/us,secondHalfSize:fs}))return}Mn.style.width="".concat(Kn,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Mn.classList.add("rpv-core__splitter-sibling--resizing"),Tn.classList.add("rpv-core__splitter-sibling--resizing")}},An=function(En){var Fn=Ht.current,Mn=Vt.current,Tn=Xt.current;Fn&&Mn&&Tn&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Fn.classList.remove("rpv-core__splitter--resizing"),Mn.classList.remove("rpv-core__splitter-sibling--resizing"),Tn.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",_n,en),document.removeEventListener("mouseup",An,en))};return c.useEffect(function(){var En=Ht.current;En&&(nn.current=En.getBoundingClientRect().width,Vt.current=En.previousElementSibling,Xt.current=En.nextElementSibling)},[]),c.createElement("div",{ref:Ht,className:"rpv-core__splitter",onMouseDown:function(En){var Fn=Vt.current;Fn&&(an.current=En.clientX,Zt.current=En.clientY,Ut.current=Fn.getBoundingClientRect().width,document.addEventListener("mousemove",_n,en),document.addEventListener("mouseup",An,en))}})},s.TextBox=ct,s.ThemeContext=_e,s.Tooltip=function(gt){var xt=gt.ariaControlsSuffix,Nt=gt.content,Ht=gt.offset,Vt=gt.position,Xt=gt.target,an=Gt(!1),Zt=an.opened,Ut=an.toggle,nn=c.useRef(),en=c.useRef(),_n=c.useMemo(function(){return xt||"".concat(vt())},[]);wt(function(){nn.current&&document.activeElement&&nn.current.contains(document.activeElement)&&En()});var An=function(){Ut(s.ToggleStatus.Open)},En=function(){Ut(s.ToggleStatus.Close)};return c.createElement(c.Fragment,null,c.createElement("div",{ref:nn,"aria-describedby":"rpv-core__tooltip-body-".concat(_n),onBlur:function(Fn){Fn.relatedTarget instanceof HTMLElement&&Fn.currentTarget.parentElement&&Fn.currentTarget.parentElement.contains(Fn.relatedTarget)?en.current&&(en.current.style.display="none"):En()},onFocus:An,onMouseEnter:An,onMouseLeave:En},Xt),Zt&&c.createElement(wn,{ariaControlsSuffix:_n,contentRef:en,offset:Ht,position:Vt,targetRef:nn},Nt()))},s.Viewer=function(gt){var xt=gt.characterMap,Nt=gt.defaultScale,Ht=gt.enableSmoothScroll,Vt=Ht===void 0||Ht,Xt=gt.fileUrl,an=gt.httpHeaders,Zt=an===void 0?{}:an,Ut=gt.initialPage,nn=Ut===void 0?0:Ut,en=gt.pageLayout,_n=gt.initialRotation,An=_n===void 0?0:_n,En=gt.localization,Fn=gt.plugins,Mn=Fn===void 0?[]:Fn,Tn=gt.renderError,ws=gt.renderLoader,ns=gt.renderPage,ss=gt.renderProtectedView,us=gt.scrollMode,Kn=us===void 0?s.ScrollMode.Vertical:us,fs=gt.setRenderRange,os=fs===void 0?U_:fs,Ls=gt.transformGetDocumentParams,Ps=gt.theme,Fs=Ps===void 0?{direction:s.TextDirection.LeftToRight,theme:"light"}:Ps,Is=gt.viewMode,Os=Is===void 0?s.ViewMode.SinglePage:Is,lr=gt.withCredentials,Ys=lr!==void 0&&lr,ur=gt.onDocumentAskPassword,er=gt.onDocumentLoad,ir=er===void 0?function(){}:er,sr=gt.onPageChange,tr=sr===void 0?function(){}:sr,Mr=gt.onRotate,Fo=Mr===void 0?function(){}:Mr,go=gt.onRotatePage,vr=go===void 0?function(){}:go,Gr=gt.onSwitchTheme,Zo=Gr===void 0?function(){}:Gr,ls=gt.onZoom,rs=ls===void 0?function(){}:ls,Yn=c.useState({data:Xt,name:typeof Xt=="string"?Xt:"",shouldLoad:!1}),es=Yn[0],Qn=Yn[1],ps=function(Xs,Qs){Qn({data:Qs,name:Xs,shouldLoad:!0})},ms=c.useState(!1),ts=ms[0],zn=ms[1],bs=$t(es);c.useEffect(function(){var Xs,Qs,fr,Bs;Xs=bs.data,Bs=typeof(Qs=Xt),(fr=typeof Xs)=="string"&&Bs==="string"&&Xs===Qs||fr==="object"&&Bs==="object"&&Xs.length===Qs.length&&Xs.every(function(Zl,Np){return Zl===Qs[Np]})||Qn({data:Xt,name:typeof Xt=="string"?Xt:"",shouldLoad:ts})},[Xt,ts]);var Es=it({onVisibilityChanged:function(Xs){zn(Xs.isVisible),Xs.isVisible&&Qn(function(Qs){return Object.assign({},Qs,{shouldLoad:!0})})}}),Gs=typeof Fs=="string"?{direction:s.TextDirection.LeftToRight,theme:Fs}:Fs,Us=c.useState(En||It),_r=Us[0],Zr=Us[1],xs={l10n:_r,setL10n:Zr},Sr=Object.assign({},{direction:Gs.direction},H_(Gs.theme||"light",Zo));return c.useEffect(function(){En&&Zr(En)},[En]),c.createElement(zt.Provider,{value:xs},c.createElement(_e.Provider,{value:Sr},c.createElement("div",{ref:Es,className:"rpv-core__viewer rpv-core__viewer--".concat(Sr.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},es.shouldLoad&&c.createElement(B_,{characterMap:xt,file:es.data,httpHeaders:Zt,render:function(Xs){return c.createElement(O_,{defaultScale:Nt,doc:Xs,render:function(Qs,fr){return c.createElement(D_,{currentFile:{data:es.data,name:es.name},defaultScale:Nt,doc:Xs,enableSmoothScroll:Vt,initialPage:nn,initialRotation:An,initialScale:fr,pageLayout:en,pageSizes:Qs,plugins:Mn,renderPage:ns,scrollMode:Kn,setRenderRange:os,viewMode:Os,viewerState:{file:es,fullScreenMode:s.FullScreenMode.Normal,pageIndex:-1,pageHeight:Qs[0].pageHeight,pageWidth:Qs[0].pageWidth,pagesRotation:new Map,rotation:An,scale:fr,scrollMode:Kn,viewMode:Os},onDocumentLoad:ir,onOpenFile:ps,onPageChange:tr,onRotate:Fo,onRotatePage:vr,onZoom:rs})},scrollMode:Kn,viewMode:Os})},renderError:Tn,renderLoader:ws,renderProtectedView:ss,transformGetDocumentParams:Ls,withCredentials:Ys,onDocumentAskPassword:ur}))))},s.Worker=function(gt){var xt=gt.children,Nt=gt.workerUrl;return d.GlobalWorkerOptions.workerSrc=Nt,c.createElement(c.Fragment,null,xt)},s.chunk=Kt,s.classNames=et,s.createStore=function(gt){var xt=gt||{},Nt={},Ht=function(Xt,an){var Zt;xt=j(j({},xt),((Zt={})[Xt]=an,Zt)),(Nt[Xt]||[]).forEach(function(Ut){return Ut(xt[Xt])})},Vt=function(Xt){return xt[Xt]};return{subscribe:function(Xt,an){Nt[Xt]=(Nt[Xt]||[]).concat(an)},unsubscribe:function(Xt,an){Nt[Xt]=(Nt[Xt]||[]).filter(function(Zt){return Zt!==an})},update:function(Xt,an){Ht(Xt,an)},updateCurrentValue:function(Xt,an){var Zt=Vt(Xt);Zt!==void 0&&Ht(Xt,an(Zt))},get:function(Xt){return Vt(Xt)}}},s.getDestination=qn,s.getPage=Dn,s.isFullScreenEnabled=mt,s.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},s.useDebounceCallback=qt,s.useIntersectionObserver=it,s.useIsMounted=Bt,s.useIsomorphicLayoutEffect=tt,s.usePrevious=$t,s.useRenderQueue=St})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=core_min;var libExports=lib.exports;function PDF({pdf:s}){return!s||!s.path?jsxRuntimeExports.jsx("div",{children:"Error: No PDF path provided"}):jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:"pdf-container",children:jsxRuntimeExports.jsx("div",{className:"page-text",children:jsxRuntimeExports.jsx("div",{className:"page-pdf",children:jsxRuntimeExports.jsx(libExports.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports.Viewer,{fileUrl:`https://api.guesthouses.top/${s.path}`})})})})})})}const image="/assets/gutenmorgenberlin-C7nS2j3j.jpg",Home=()=>{const{i18n:s}=useTranslation(),[e,i]=reactExports.useState([]),[a,o]=reactExports.useState(0);reactExports.useEffect(()=>{(async()=>{try{const b=s.language==="de"?"de":"en",_=await fetch(`https://api.guesthouses.top/api/pdfs/${b}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(_.ok){const $=(await _.json()).sort((_e,et)=>et.id-_e.id);i($)}else console.error("Failed to fetch PDFs")}catch(b){console.error("Error:",b)}})()},[s.language]);const c=()=>{a<e.length-1&&o(a+1)},d=()=>{a>0&&o(a-1)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:image,className:"page-text",id:"home-image",alt:"Guten Morgen Berlin"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("div",{children:e.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PDF,{pdf:e[a]},e[a].id),jsxRuntimeExports.jsxs("div",{className:"pdf-navigation",children:[jsxRuntimeExports.jsx("button",{onClick:d,className:"pdf-nav-button",disabled:a<=0,children:a>0?`Go to "${e[a-1].title}"`:"No More Newsletters"}),jsxRuntimeExports.jsx("button",{onClick:c,className:"pdf-nav-button",disabled:a>=e.length-1,children:a<e.length-1?`Go to "${e[a+1].title}"`:"No More Newsletters"})]})]}):jsxRuntimeExports.jsx("p",{children:"Loading PDFs..."})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})};function renderWithLineBreaks(s){return s.split(`
`).map((e,i)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[e,jsxRuntimeExports.jsx("br",{})]},i))}const imageNadja="/assets/nadja1-DMxeoZRU.png",niekDoup="/assets/niek-doup-CuEApo83.jpg",kellySikkema="/assets/kelly-sikkema-k4Z2Z3XP.jpg",Beginning=()=>{const{t:s}=useTranslation();return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsxs("div",{className:"page-text",children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:niekDoup,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Niek Doup "]}),jsxRuntimeExports.jsxs("div",{className:"header-text",children:[" ",s("header1Beginning")," "]}),jsxRuntimeExports.jsxs("h1",{className:"orange-text",children:[" ",s("BeginningOrange")," "]}),jsxRuntimeExports.jsxs("p",{className:"text",children:[" ",s("text1Beginning")," "]}),jsxRuntimeExports.jsxs("h2",{className:"h2-text",children:[" ",s("header2Beginning")," "]}),jsxRuntimeExports.jsxs("p",{className:"text",children:[" ",s("text2Beginning")," "]}),jsxRuntimeExports.jsxs("h2",{className:"h2-text",children:[" ",s("header1Beginning")," "]}),jsxRuntimeExports.jsxs("p",{className:"text",children:[" ",s("text3Beginning")," "]}),jsxRuntimeExports.jsx("a",{href:"/contact",id:"buttonBeginning",children:jsxRuntimeExports.jsxs("button",{type:"button",className:"button-contact",children:[" ",s("ContactOrange")," "]})}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:imageNadja}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Murat Tueremis "]}),jsxRuntimeExports.jsxs("h2",{className:"h2-text",children:[" ",s("text4Beginning")," "]}),jsxRuntimeExports.jsx("p",{className:"text",children:renderWithLineBreaks(s("text5Beginning"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:kellySikkema,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Kelly Sikkema "]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})},imageNadja2="/assets/nadja2-C5CL3dAj.jpg",carlRaabe="/assets/R1-01007-006A-Cg30fzln.jpg",shadows1="/assets/tom-barrett-hvvRg72aXCw-unsplash-B5ELwWMt.jpg",shadows2="/assets/shadows2-BQ4IV6H5.jpg",UrbanLiving=()=>{const{t:s}=useTranslation();return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsxs("div",{className:"page-text",children:[jsxRuntimeExports.jsxs("h1",{className:"orange-text",children:[" ",s("header1Urban")," "]}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:imageNadja2}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Murat Tueremis "]}),jsxRuntimeExports.jsxs("h1",{children:[" ",s("header2Urban")," "]}),jsxRuntimeExports.jsxs("h2",{className:"h2-text",children:[" ",s("header3Urban")," "]}),jsxRuntimeExports.jsx("p",{className:"text",children:renderWithLineBreaks(s("text1Urban"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:shadows1,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Tom Berrett "]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("h2",{className:"h2-text",children:[" ",s("header4Urban")," "]}),jsxRuntimeExports.jsx("p",{className:"text",children:renderWithLineBreaks(s("text2Urban"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:shadows2,className:"image-decor"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:carlRaabe,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Carl Raabe "]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})},imageHisu="/assets/HisuLee-COfXms-W.jpg",imagePodcast="/assets/podcast-KfcWoJ_W.jpg",imagePodcast1="/assets/podcast1-CfH83iAd.jpg",imagePodcast2="/assets/podcast2-Bc8ogIoV.jpg",imagePodcast3="/assets/podcast3-CnaP_fSR.jpg",jaclynMoy="/assets/jaclyn-moy-BcY25Ks5.jpg",Podcast=()=>{const{t:s}=useTranslation();return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsxs("div",{className:"page-text",children:[jsxRuntimeExports.jsx("h1",{className:"orange-text",children:" Guten Morgen Berlin "}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:imageHisu}),jsxRuntimeExports.jsx("p",{className:"photographer",children:" Foto: Hisu Lee/ Unsplash "}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text1Podcast")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("pre",{children:renderWithLineBreaks(s("text2Podcast"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text3Podcast")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text4Podcast")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text5Podcast")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:jaclynMoy,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Jaclyn Moy "]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"orange-text",children:" PODCAST "}),jsxRuntimeExports.jsxs("h3",{children:[" ",s("header1Podcast")," "]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:s("header2Podcast")}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text6Podcast")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"https://open.spotify.com/episode/6TFQZyQByLDAcE38RskGQ8?si=d0DnIyMHSHik6wqQllVV1A&nd=1",target:"_blank",title:"Spotify",children:jsxRuntimeExports.jsx("img",{className:"image-pfp",src:imagePodcast})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:s("header3Podcast")}),jsxRuntimeExports.jsxs("p",{className:"text",children:[jsxRuntimeExports.jsx("b",{children:"Lilli Hch Corona"}),s("text7Podcast"),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:"Anastasia Barner"}),s("text8Podcast")]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:imagePodcast1}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:imagePodcast2}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:imagePodcast3}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Paul Winkler  "]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})},CarouselMini=({images:s})=>{const[e,i]=reactExports.useState(0),a=()=>{i(c=>(c+1)%s.length)},o=()=>{i(c=>(c-1+s.length)%s.length)};return jsxRuntimeExports.jsxs("div",{className:"carouselMini",children:[jsxRuntimeExports.jsx("button",{onClick:o,className:"carouselMini-button",children:""}),jsxRuntimeExports.jsx("img",{src:s[e],alt:`Slide ${e}`,className:"carouselMini-image"}),jsxRuntimeExports.jsx("button",{onClick:a,className:"carouselMini-button",children:""})]})},fleming1En="/assets/Expose%20Flemingstr.9%20EN%201-CLHjHSLB.jpg",fleming2En="/assets/Expose%20Flemingstr.9%20EN%202-D_az0tmU.jpg",fleming3En="/assets/Expose%20Flemingstr.9%20EN%203-Dtozrz55.jpg",fleming4En="/assets/Expose%20Flemingstr.9%20EN%204-AjzlI1CF.jpg",fleming5En="/assets/Expose%20Flemingstr.9%20EN%205-CrWCybkP.jpg",fleming6En="/assets/Expose%20Flemingstr.9%20EN%206-YWwba9at.jpg",fleming7En="/assets/Expose%20Flemingstr.9%20EN%207-h8wxZPaN.jpg",fleming8En="/assets/Expose%20Flemingstr.9%20EN%208-k6u1pZyl.jpg",fleming1De="/assets/Expose%20Flemingstrasse%201-_s6Q4mUy.jpg",fleming2De="/assets/Expose%20Flemingstrasse%202-D-usD52T.jpg",fleming3De="/assets/Expose%20Flemingstrasse%203-CIvCD7fO.jpg",fleming4De="/assets/Expose%20Flemingstrasse%204-2kQNvuqk.jpg",fleming5De="/assets/Expose%20Flemingstrasse%205-DrTGDcqM.jpg",fleming6De="/assets/Expose%20Flemingstrasse%206-MjgPms5q.jpg",fleming7De="/assets/Expose%20Flemingstrasse%207-CB8AZuul.jpg",flemingDecor="/assets/XL-241202_Flemingstr_095-aGMupT8k.jpg",imagesEn=[fleming1En,fleming2En,fleming3En,fleming4En,fleming5En,fleming6En,fleming7En,fleming8En],imagesDe=[fleming1De,fleming2De,fleming3De,fleming4De,fleming5De,fleming6De,fleming7En,fleming7De],Berlin=()=>{const{i18n:s}=useTranslation(),e=s.language,{t:i}=useTranslation(),a=e==="en"?imagesEn:imagesDe;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsxs("div",{className:"page-text",children:[jsxRuntimeExports.jsx("h1",{className:"orange-text",children:" Berlin Walk "}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("ol",{className:"ordered-list-berlin",children:[jsxRuntimeExports.jsx("li",{className:"h2-text",children:i("header1Fleming")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:i("text1Fleming")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:i("text2Fleming")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("li",{className:"h2-text",children:[i("header3Fleming"),jsxRuntimeExports.jsxs("ul",{className:"nested-list",children:[jsxRuntimeExports.jsxs("li",{className:"list-item",children:[jsxRuntimeExports.jsx("b",{children:"Haus der Kulturen der Welt: "}),i("text3Fleming")]}),jsxRuntimeExports.jsxs("li",{className:"list-item",children:[jsxRuntimeExports.jsxs("b",{children:[" ",i("extraFleming")," "]}),i("text5Fleming")]})]})]}),jsxRuntimeExports.jsxs("li",{className:"h2-text",children:[i("header4Fleming"),jsxRuntimeExports.jsxs("ul",{className:"nested-list",children:[jsxRuntimeExports.jsxs("li",{className:"list-item",children:[jsxRuntimeExports.jsx("b",{children:"Restaurant Paris-Moskau: "}),i("text6Fleming")]}),jsxRuntimeExports.jsxs("li",{className:"list-item",children:[jsxRuntimeExports.jsx("b",{children:"Carl & Sophie Restaurant: "}),i("text7Fleming")]}),jsxRuntimeExports.jsxs("li",{className:"list-item",children:[jsxRuntimeExports.jsx("b",{children:"Hamburger Bahnhof Restaurant (Sarah Wiener): "}),i("text8Fleming")]}),jsxRuntimeExports.jsxs("li",{className:"list-item",children:[jsxRuntimeExports.jsx("b",{children:"PATIO  The Floating Experience: "}),i("text9Fleming")]}),jsxRuntimeExports.jsxs("li",{className:"list-item",children:[jsxRuntimeExports.jsx("b",{children:"Amanos Rooftop Bar: "}),i("text10Fleming")]})]})]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{children:"Flemingstrae 9"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(CarouselMini,{images:a}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:i("header5Fleming")}),jsxRuntimeExports.jsx("p",{className:"text",children:i("text12Fleming")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:flemingDecor,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",i("Photograph")," Lidia Tirri "]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})},findqLogo="/assets/findq-logo-C35Yns3U.png",norgeBerlin="/assets/norgeBerlin-CXLUiGXS.jpg",imageNadja3="/assets/nadja3-q23Uk--_.png",Padurariu="/assets/alex-padurariu-DgrY0Oil.jpg",mica="/assets/mica-BcbTNv9Y.png",Spratt="/assets/annie-spratt-BwclVdh2.jpg",lidia="/assets/lidia-EZ2KvfUr.jpg",lidiaTirris="/assets/lidia-tirris-C97afRHy.jpg",About=()=>{const{t:s}=useTranslation();return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsxs("div",{className:"page-text",children:[jsxRuntimeExports.jsxs("h1",{className:"orange-text",children:[" ",s("AboutOrange")," "]}),jsxRuntimeExports.jsx("a",{href:"https://findq.de/socialresponsibility/",target:"_blank",style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx("img",{src:findqLogo})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"https://norgeberlin.de/aktuelles/",target:"_blank",style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx("img",{src:norgeBerlin})}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:imageNadja3}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",jsxRuntimeExports.jsx("b",{children:"Nadja Raabe"})," ",jsxRuntimeExports.jsx("br",{})," ",s("Photograph")," Luke Betts "]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:s("header1About")}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text1About")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:renderWithLineBreaks(s("text2About"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{className:"image-decor",src:Padurariu}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Alex Padurariu "]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:mica}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",jsxRuntimeExports.jsx("b",{children:"Mica Endemann"})," ",jsxRuntimeExports.jsx("br",{})," MICA.SA Berlin ",jsxRuntimeExports.jsx("br",{})," Coach fr Beziehungsrume ",jsxRuntimeExports.jsx("br",{})," Grnderin "]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text3About")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{className:"image-decor",src:Spratt}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Annie Spratt "]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:lidia}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",jsxRuntimeExports.jsx("b",{children:"Lidia Tirri"})," "]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text4About")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text5About")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{className:"image-decor",src:lidiaTirris}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Lidia Tirri "]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})},toaHeftiba="/assets/toa-heftiba-LjZcWE6GhiA-unsplash-OrxmqjV_.jpg",beazy="/assets/beazy-BznJBy8N.jpg",Coaching=()=>{const{t:s}=useTranslation();return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsxs("div",{className:"page-text",children:[jsxRuntimeExports.jsx("h1",{className:"orange-text",children:" Coaching "}),jsxRuntimeExports.jsx("pre",{children:renderWithLineBreaks(s("quote1Coaching"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text0Coaching")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:s("header1Coaching")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text1Coaching")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text2Coaching")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text3Coaching")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:beazy,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Beazy/unsplash "]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:s("header2Coaching")}),jsxRuntimeExports.jsx("p",{className:"text",children:s("text4Coaching")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:s("header3Coaching")}),jsxRuntimeExports.jsx("p",{className:"text",children:renderWithLineBreaks(s("text5Coaching"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"/contact",children:jsxRuntimeExports.jsxs("button",{type:"button",className:"button-contact",children:[" ",s("ContactOrange")," "]})}),jsxRuntimeExports.jsx("img",{className:"image-pfp",src:imageNadja}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Murat Tueremis "]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:s("header4Coaching")}),jsxRuntimeExports.jsx("iframe",{className:"video",src:"https://www.youtube.com/embed/BdeoH-AQPwg?si=y8SjmxBw7fZzkPNa",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:s("header5Coaching")}),jsxRuntimeExports.jsx("iframe",{className:"video",src:"https://www.youtube.com/embed/Tg0832hgrQA?si=YespS_DNYkts_3oI",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"https://findq.de/en/findquick/#anfrage",target:"_blank",children:jsxRuntimeExports.jsx("img",{src:findqLogo})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{className:"h2-text",children:s("header6Coaching")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:renderWithLineBreaks(s("text6Coaching"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:renderWithLineBreaks(s("text7Coaching"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:renderWithLineBreaks(s("text8Coaching"))}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:toaHeftiba,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Toa Heftiba "]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})},carlpic1="/assets/carlpic1-DRRvfnrU.jpg",danielAndrade="/assets/daniel-andrade-C_BQj46Z.jpg",samuelFoster="/assets/samuel-foster-JSgp6z1t.jpg";/*!
* sweetalert2 v11.14.5
* Released under the MIT License.
*/function _assertClassBrand(s,e,i){if(typeof s=="function"?s===e:s.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function _checkPrivateRedeclaration(s,e){if(e.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet2(s,e){return s.get(_assertClassBrand(s,e))}function _classPrivateFieldInitSpec(s,e,i){_checkPrivateRedeclaration(s,e),e.set(s,i)}function _classPrivateFieldSet2(s,e,i){return s.set(_assertClassBrand(s,e),i),i}const RESTORE_FOCUS_TIMEOUT=100,globalState={},focusPreviousActiveElement=()=>{globalState.previousActiveElement instanceof HTMLElement?(globalState.previousActiveElement.focus(),globalState.previousActiveElement=null):document.body&&document.body.focus()},restoreActiveElement=s=>new Promise(e=>{if(!s)return e();const i=window.scrollX,a=window.scrollY;globalState.restoreFocusTimeout=setTimeout(()=>{focusPreviousActiveElement(),e()},RESTORE_FOCUS_TIMEOUT),window.scrollTo(i,a)}),swalPrefix="swal2-",classNames=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],swalClasses=classNames.reduce((s,e)=>(s[e]=swalPrefix+e,s),{}),icons=["success","warning","info","question","error"],iconTypes=icons.reduce((s,e)=>(s[e]=swalPrefix+e,s),{}),consolePrefix="SweetAlert2:",capitalizeFirstLetter=s=>s.charAt(0).toUpperCase()+s.slice(1),warn$1=s=>{console.warn(`${consolePrefix} ${typeof s=="object"?s.join(" "):s}`)},error=s=>{console.error(`${consolePrefix} ${s}`)},previousWarnOnceMessages=[],warnOnce=s=>{previousWarnOnceMessages.includes(s)||(previousWarnOnceMessages.push(s),warn$1(s))},warnAboutDeprecation=function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;warnOnce(`"${s}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},callIfFunction=s=>typeof s=="function"?s():s,hasToPromiseFn=s=>s&&typeof s.toPromise=="function",asPromise=s=>hasToPromiseFn(s)?s.toPromise():Promise.resolve(s),isPromise$1=s=>s&&Promise.resolve(s)===s,getContainer=()=>document.body.querySelector(`.${swalClasses.container}`),elementBySelector=s=>{const e=getContainer();return e?e.querySelector(s):null},elementByClass=s=>elementBySelector(`.${s}`),getPopup=()=>elementByClass(swalClasses.popup),getIcon=()=>elementByClass(swalClasses.icon),getIconContent=()=>elementByClass(swalClasses["icon-content"]),getTitle=()=>elementByClass(swalClasses.title),getHtmlContainer=()=>elementByClass(swalClasses["html-container"]),getImage=()=>elementByClass(swalClasses.image),getProgressSteps=()=>elementByClass(swalClasses["progress-steps"]),getValidationMessage=()=>elementByClass(swalClasses["validation-message"]),getConfirmButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`),getCancelButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`),getDenyButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`),getInputLabel=()=>elementByClass(swalClasses["input-label"]),getLoader=()=>elementBySelector(`.${swalClasses.loader}`),getActions=()=>elementByClass(swalClasses.actions),getFooter=()=>elementByClass(swalClasses.footer),getTimerProgressBar=()=>elementByClass(swalClasses["timer-progress-bar"]),getCloseButton=()=>elementByClass(swalClasses.close),focusable=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,getFocusableElements=()=>{const s=getPopup();if(!s)return[];const e=s.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),i=Array.from(e).sort((c,d)=>{const g=parseInt(c.getAttribute("tabindex")||"0"),b=parseInt(d.getAttribute("tabindex")||"0");return g>b?1:g<b?-1:0}),a=s.querySelectorAll(focusable),o=Array.from(a).filter(c=>c.getAttribute("tabindex")!=="-1");return[...new Set(i.concat(o))].filter(c=>isVisible$1(c))},isModal=()=>hasClass(document.body,swalClasses.shown)&&!hasClass(document.body,swalClasses["toast-shown"])&&!hasClass(document.body,swalClasses["no-backdrop"]),isToast=()=>{const s=getPopup();return s?hasClass(s,swalClasses.toast):!1},isLoading=()=>{const s=getPopup();return s?s.hasAttribute("data-loading"):!1},setInnerHtml=(s,e)=>{if(s.textContent="",e){const a=new DOMParser().parseFromString(e,"text/html"),o=a.querySelector("head");o&&Array.from(o.childNodes).forEach(d=>{s.appendChild(d)});const c=a.querySelector("body");c&&Array.from(c.childNodes).forEach(d=>{d instanceof HTMLVideoElement||d instanceof HTMLAudioElement?s.appendChild(d.cloneNode(!0)):s.appendChild(d)})}},hasClass=(s,e)=>{if(!e)return!1;const i=e.split(/\s+/);for(let a=0;a<i.length;a++)if(!s.classList.contains(i[a]))return!1;return!0},removeCustomClasses=(s,e)=>{Array.from(s.classList).forEach(i=>{!Object.values(swalClasses).includes(i)&&!Object.values(iconTypes).includes(i)&&!Object.values(e.showClass||{}).includes(i)&&s.classList.remove(i)})},applyCustomClass=(s,e,i)=>{if(removeCustomClasses(s,e),!e.customClass)return;const a=e.customClass[i];if(a){if(typeof a!="string"&&!a.forEach){warn$1(`Invalid type of customClass.${i}! Expected string or iterable object, got "${typeof a}"`);return}addClass(s,a)}},getInput$1=(s,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return s.querySelector(`.${swalClasses.popup} > .${swalClasses[e]}`);case"checkbox":return s.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);case"radio":return s.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`)||s.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);case"range":return s.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);default:return s.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`)}},focusInput=s=>{if(s.focus(),s.type!=="file"){const e=s.value;s.value="",s.value=e}},toggleClass=(s,e,i)=>{!s||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(a=>{Array.isArray(s)?s.forEach(o=>{i?o.classList.add(a):o.classList.remove(a)}):i?s.classList.add(a):s.classList.remove(a)}))},addClass=(s,e)=>{toggleClass(s,e,!0)},removeClass=(s,e)=>{toggleClass(s,e,!1)},getDirectChildByClass=(s,e)=>{const i=Array.from(s.children);for(let a=0;a<i.length;a++){const o=i[a];if(o instanceof HTMLElement&&hasClass(o,e))return o}},applyNumericalStyle=(s,e,i)=>{i===`${parseInt(i)}`&&(i=parseInt(i)),i||parseInt(i)===0?s.style.setProperty(e,typeof i=="number"?`${i}px`:i):s.style.removeProperty(e)},show=function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";s&&(s.style.display=e)},hide=s=>{s&&(s.style.display="none")},showWhenInnerHtmlPresent=function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";s&&new MutationObserver(()=>{toggle(s,s.innerHTML,e)}).observe(s,{childList:!0,subtree:!0})},setStyle=(s,e,i,a)=>{const o=s.querySelector(e);o&&o.style.setProperty(i,a)},toggle=function(s,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?show(s,i):hide(s)},isVisible$1=s=>!!(s&&(s.offsetWidth||s.offsetHeight||s.getClientRects().length)),allButtonsAreHidden=()=>!isVisible$1(getConfirmButton())&&!isVisible$1(getDenyButton())&&!isVisible$1(getCancelButton()),isScrollable=s=>s.scrollHeight>s.clientHeight,hasCssAnimation=s=>{const e=window.getComputedStyle(s),i=parseFloat(e.getPropertyValue("animation-duration")||"0"),a=parseFloat(e.getPropertyValue("transition-duration")||"0");return i>0||a>0},animateTimerProgressBar=function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=getTimerProgressBar();i&&isVisible$1(i)&&(e&&(i.style.transition="none",i.style.width="100%"),setTimeout(()=>{i.style.transition=`width ${s/1e3}s linear`,i.style.width="0%"},10))},stopTimerProgressBar=()=>{const s=getTimerProgressBar();if(!s)return;const e=parseInt(window.getComputedStyle(s).width);s.style.removeProperty("transition"),s.style.width="100%";const i=parseInt(window.getComputedStyle(s).width),a=e/i*100;s.style.width=`${a}%`},isNodeEnv=()=>typeof window>"u"||typeof document>"u",sweetHTML=`
 <div aria-labelledby="${swalClasses.title}" aria-describedby="${swalClasses["html-container"]}" class="${swalClasses.popup}" tabindex="-1">
   <button type="button" class="${swalClasses.close}"></button>
   <ul class="${swalClasses["progress-steps"]}"></ul>
   <div class="${swalClasses.icon}"></div>
   <img class="${swalClasses.image}" />
   <h2 class="${swalClasses.title}" id="${swalClasses.title}"></h2>
   <div class="${swalClasses["html-container"]}" id="${swalClasses["html-container"]}"></div>
   <input class="${swalClasses.input}" id="${swalClasses.input}" />
   <input type="file" class="${swalClasses.file}" />
   <div class="${swalClasses.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${swalClasses.select}" id="${swalClasses.select}"></select>
   <div class="${swalClasses.radio}"></div>
   <label class="${swalClasses.checkbox}">
     <input type="checkbox" id="${swalClasses.checkbox}" />
     <span class="${swalClasses.label}"></span>
   </label>
   <textarea class="${swalClasses.textarea}" id="${swalClasses.textarea}"></textarea>
   <div class="${swalClasses["validation-message"]}" id="${swalClasses["validation-message"]}"></div>
   <div class="${swalClasses.actions}">
     <div class="${swalClasses.loader}"></div>
     <button type="button" class="${swalClasses.confirm}"></button>
     <button type="button" class="${swalClasses.deny}"></button>
     <button type="button" class="${swalClasses.cancel}"></button>
   </div>
   <div class="${swalClasses.footer}"></div>
   <div class="${swalClasses["timer-progress-bar-container"]}">
     <div class="${swalClasses["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),resetOldContainer=()=>{const s=getContainer();return s?(s.remove(),removeClass([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]]),!0):!1},resetValidationMessage$1=()=>{globalState.currentInstance.resetValidationMessage()},addInputChangeListeners=()=>{const s=getPopup(),e=getDirectChildByClass(s,swalClasses.input),i=getDirectChildByClass(s,swalClasses.file),a=s.querySelector(`.${swalClasses.range} input`),o=s.querySelector(`.${swalClasses.range} output`),c=getDirectChildByClass(s,swalClasses.select),d=s.querySelector(`.${swalClasses.checkbox} input`),g=getDirectChildByClass(s,swalClasses.textarea);e.oninput=resetValidationMessage$1,i.onchange=resetValidationMessage$1,c.onchange=resetValidationMessage$1,d.onchange=resetValidationMessage$1,g.oninput=resetValidationMessage$1,a.oninput=()=>{resetValidationMessage$1(),o.value=a.value},a.onchange=()=>{resetValidationMessage$1(),o.value=a.value}},getTarget=s=>typeof s=="string"?document.querySelector(s):s,setupAccessibility=s=>{const e=getPopup();e.setAttribute("role",s.toast?"alert":"dialog"),e.setAttribute("aria-live",s.toast?"polite":"assertive"),s.toast||e.setAttribute("aria-modal","true")},setupRTL=s=>{window.getComputedStyle(s).direction==="rtl"&&addClass(getContainer(),swalClasses.rtl)},init=s=>{const e=resetOldContainer();if(isNodeEnv()){error("SweetAlert2 requires document to initialize");return}const i=document.createElement("div");i.className=swalClasses.container,e&&addClass(i,swalClasses["no-transition"]),setInnerHtml(i,sweetHTML);const a=getTarget(s.target);a.appendChild(i),setupAccessibility(s),setupRTL(a),addInputChangeListeners()},parseHtmlToContainer=(s,e)=>{s instanceof HTMLElement?e.appendChild(s):typeof s=="object"?handleObject(s,e):s&&setInnerHtml(e,s)},handleObject=(s,e)=>{s.jquery?handleJqueryElem(e,s):setInnerHtml(e,s.toString())},handleJqueryElem=(s,e)=>{if(s.textContent="",0 in e)for(let i=0;i in e;i++)s.appendChild(e[i].cloneNode(!0));else s.appendChild(e.cloneNode(!0))},renderActions=(s,e)=>{const i=getActions(),a=getLoader();!i||!a||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?hide(i):show(i),applyCustomClass(i,e,"actions"),renderButtons(i,a,e),setInnerHtml(a,e.loaderHtml||""),applyCustomClass(a,e,"loader"))};function renderButtons(s,e,i){const a=getConfirmButton(),o=getDenyButton(),c=getCancelButton();!a||!o||!c||(renderButton(a,"confirm",i),renderButton(o,"deny",i),renderButton(c,"cancel",i),handleButtonsStyling(a,o,c,i),i.reverseButtons&&(i.toast?(s.insertBefore(c,a),s.insertBefore(o,a)):(s.insertBefore(c,e),s.insertBefore(o,e),s.insertBefore(a,e))))}function handleButtonsStyling(s,e,i,a){if(!a.buttonsStyling){removeClass([s,e,i],swalClasses.styled);return}addClass([s,e,i],swalClasses.styled),a.confirmButtonColor&&(s.style.backgroundColor=a.confirmButtonColor,addClass(s,swalClasses["default-outline"])),a.denyButtonColor&&(e.style.backgroundColor=a.denyButtonColor,addClass(e,swalClasses["default-outline"])),a.cancelButtonColor&&(i.style.backgroundColor=a.cancelButtonColor,addClass(i,swalClasses["default-outline"]))}function renderButton(s,e,i){const a=capitalizeFirstLetter(e);toggle(s,i[`show${a}Button`],"inline-block"),setInnerHtml(s,i[`${e}ButtonText`]||""),s.setAttribute("aria-label",i[`${e}ButtonAriaLabel`]||""),s.className=swalClasses[e],applyCustomClass(s,i,`${e}Button`)}const renderCloseButton=(s,e)=>{const i=getCloseButton();i&&(setInnerHtml(i,e.closeButtonHtml||""),applyCustomClass(i,e,"closeButton"),toggle(i,e.showCloseButton),i.setAttribute("aria-label",e.closeButtonAriaLabel||""))},renderContainer=(s,e)=>{const i=getContainer();i&&(handleBackdropParam(i,e.backdrop),handlePositionParam(i,e.position),handleGrowParam(i,e.grow),applyCustomClass(i,e,"container"))};function handleBackdropParam(s,e){typeof e=="string"?s.style.background=e:e||addClass([document.documentElement,document.body],swalClasses["no-backdrop"])}function handlePositionParam(s,e){e&&(e in swalClasses?addClass(s,swalClasses[e]):(warn$1('The "position" parameter is not valid, defaulting to "center"'),addClass(s,swalClasses.center)))}function handleGrowParam(s,e){e&&addClass(s,swalClasses[`grow-${e}`])}var privateProps={innerParams:new WeakMap,domCache:new WeakMap};const inputClasses=["input","file","range","select","radio","checkbox","textarea"],renderInput=(s,e)=>{const i=getPopup();if(!i)return;const a=privateProps.innerParams.get(s),o=!a||e.input!==a.input;inputClasses.forEach(c=>{const d=getDirectChildByClass(i,swalClasses[c]);d&&(setAttributes(c,e.inputAttributes),d.className=swalClasses[c],o&&hide(d))}),e.input&&(o&&showInput(e),setCustomClass(e))},showInput=s=>{if(!s.input)return;if(!renderInputType[s.input]){error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(" | ")}, got "${s.input}"`);return}const e=getInputContainer(s.input);if(!e)return;const i=renderInputType[s.input](e,s);show(e),s.inputAutoFocus&&setTimeout(()=>{focusInput(i)})},removeAttributes=s=>{for(let e=0;e<s.attributes.length;e++){const i=s.attributes[e].name;["id","type","value","style"].includes(i)||s.removeAttribute(i)}},setAttributes=(s,e)=>{const i=getPopup();if(!i)return;const a=getInput$1(i,s);if(a){removeAttributes(a);for(const o in e)a.setAttribute(o,e[o])}},setCustomClass=s=>{if(!s.input)return;const e=getInputContainer(s.input);e&&applyCustomClass(e,s,"input")},setInputPlaceholder=(s,e)=>{!s.placeholder&&e.inputPlaceholder&&(s.placeholder=e.inputPlaceholder)},setInputLabel=(s,e,i)=>{if(i.inputLabel){const a=document.createElement("label"),o=swalClasses["input-label"];a.setAttribute("for",s.id),a.className=o,typeof i.customClass=="object"&&addClass(a,i.customClass.inputLabel),a.innerText=i.inputLabel,e.insertAdjacentElement("beforebegin",a)}},getInputContainer=s=>{const e=getPopup();if(e)return getDirectChildByClass(e,swalClasses[s]||swalClasses.input)},checkAndSetInputValue=(s,e)=>{["string","number"].includes(typeof e)?s.value=`${e}`:isPromise$1(e)||warn$1(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},renderInputType={};renderInputType.text=renderInputType.email=renderInputType.password=renderInputType.number=renderInputType.tel=renderInputType.url=renderInputType.search=renderInputType.date=renderInputType["datetime-local"]=renderInputType.time=renderInputType.week=renderInputType.month=(s,e)=>(checkAndSetInputValue(s,e.inputValue),setInputLabel(s,s,e),setInputPlaceholder(s,e),s.type=e.input,s);renderInputType.file=(s,e)=>(setInputLabel(s,s,e),setInputPlaceholder(s,e),s);renderInputType.range=(s,e)=>{const i=s.querySelector("input"),a=s.querySelector("output");return checkAndSetInputValue(i,e.inputValue),i.type=e.input,checkAndSetInputValue(a,e.inputValue),setInputLabel(i,s,e),s};renderInputType.select=(s,e)=>{if(s.textContent="",e.inputPlaceholder){const i=document.createElement("option");setInnerHtml(i,e.inputPlaceholder),i.value="",i.disabled=!0,i.selected=!0,s.appendChild(i)}return setInputLabel(s,s,e),s};renderInputType.radio=s=>(s.textContent="",s);renderInputType.checkbox=(s,e)=>{const i=getInput$1(getPopup(),"checkbox");i.value="1",i.checked=!!e.inputValue;const a=s.querySelector("span");return setInnerHtml(a,e.inputPlaceholder||e.inputLabel),i};renderInputType.textarea=(s,e)=>{checkAndSetInputValue(s,e.inputValue),setInputPlaceholder(s,e),setInputLabel(s,s,e);const i=a=>parseInt(window.getComputedStyle(a).marginLeft)+parseInt(window.getComputedStyle(a).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const a=parseInt(window.getComputedStyle(getPopup()).width),o=()=>{if(!document.body.contains(s))return;const c=s.offsetWidth+i(s);c>a?getPopup().style.width=`${c}px`:applyNumericalStyle(getPopup(),"width",e.width)};new MutationObserver(o).observe(s,{attributes:!0,attributeFilter:["style"]})}}),s};const renderContent=(s,e)=>{const i=getHtmlContainer();i&&(showWhenInnerHtmlPresent(i),applyCustomClass(i,e,"htmlContainer"),e.html?(parseHtmlToContainer(e.html,i),show(i,"block")):e.text?(i.textContent=e.text,show(i,"block")):hide(i),renderInput(s,e))},renderFooter=(s,e)=>{const i=getFooter();i&&(showWhenInnerHtmlPresent(i),toggle(i,e.footer,"block"),e.footer&&parseHtmlToContainer(e.footer,i),applyCustomClass(i,e,"footer"))},renderIcon=(s,e)=>{const i=privateProps.innerParams.get(s),a=getIcon();if(a){if(i&&e.icon===i.icon){setContent(a,e),applyStyles(a,e);return}if(!e.icon&&!e.iconHtml){hide(a);return}if(e.icon&&Object.keys(iconTypes).indexOf(e.icon)===-1){error(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),hide(a);return}show(a),setContent(a,e),applyStyles(a,e),addClass(a,e.showClass&&e.showClass.icon)}},applyStyles=(s,e)=>{for(const[i,a]of Object.entries(iconTypes))e.icon!==i&&removeClass(s,a);addClass(s,e.icon&&iconTypes[e.icon]),setColor(s,e),adjustSuccessIconBackgroundColor(),applyCustomClass(s,e,"icon")},adjustSuccessIconBackgroundColor=()=>{const s=getPopup();if(!s)return;const e=window.getComputedStyle(s).getPropertyValue("background-color"),i=s.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let a=0;a<i.length;a++)i[a].style.backgroundColor=e},successIconHtml=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,errorIconHtml=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,setContent=(s,e)=>{if(!e.icon&&!e.iconHtml)return;let i=s.innerHTML,a="";e.iconHtml?a=iconContent(e.iconHtml):e.icon==="success"?(a=successIconHtml,i=i.replace(/ style=".*?"/g,"")):e.icon==="error"?a=errorIconHtml:e.icon&&(a=iconContent({question:"?",warning:"!",info:"i"}[e.icon])),i.trim()!==a.trim()&&setInnerHtml(s,a)},setColor=(s,e)=>{if(e.iconColor){s.style.color=e.iconColor,s.style.borderColor=e.iconColor;for(const i of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])setStyle(s,i,"background-color",e.iconColor);setStyle(s,".swal2-success-ring","border-color",e.iconColor)}},iconContent=s=>`<div class="${swalClasses["icon-content"]}">${s}</div>`,renderImage=(s,e)=>{const i=getImage();if(i){if(!e.imageUrl){hide(i);return}show(i,""),i.setAttribute("src",e.imageUrl),i.setAttribute("alt",e.imageAlt||""),applyNumericalStyle(i,"width",e.imageWidth),applyNumericalStyle(i,"height",e.imageHeight),i.className=swalClasses.image,applyCustomClass(i,e,"image")}},renderPopup=(s,e)=>{const i=getContainer(),a=getPopup();if(!(!i||!a)){if(e.toast){applyNumericalStyle(i,"width",e.width),a.style.width="100%";const o=getLoader();o&&a.insertBefore(o,getIcon())}else applyNumericalStyle(a,"width",e.width);applyNumericalStyle(a,"padding",e.padding),e.color&&(a.style.color=e.color),e.background&&(a.style.background=e.background),hide(getValidationMessage()),addClasses$1(a,e)}},addClasses$1=(s,e)=>{const i=e.showClass||{};s.className=`${swalClasses.popup} ${isVisible$1(s)?i.popup:""}`,e.toast?(addClass([document.documentElement,document.body],swalClasses["toast-shown"]),addClass(s,swalClasses.toast)):addClass(s,swalClasses.modal),applyCustomClass(s,e,"popup"),typeof e.customClass=="string"&&addClass(s,e.customClass),e.icon&&addClass(s,swalClasses[`icon-${e.icon}`])},renderProgressSteps=(s,e)=>{const i=getProgressSteps();if(!i)return;const{progressSteps:a,currentProgressStep:o}=e;if(!a||a.length===0||o===void 0){hide(i);return}show(i),i.textContent="",o>=a.length&&warn$1("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.forEach((c,d)=>{const g=createStepElement(c);if(i.appendChild(g),d===o&&addClass(g,swalClasses["active-progress-step"]),d!==a.length-1){const b=createLineElement(e);i.appendChild(b)}})},createStepElement=s=>{const e=document.createElement("li");return addClass(e,swalClasses["progress-step"]),setInnerHtml(e,s),e},createLineElement=s=>{const e=document.createElement("li");return addClass(e,swalClasses["progress-step-line"]),s.progressStepsDistance&&applyNumericalStyle(e,"width",s.progressStepsDistance),e},renderTitle=(s,e)=>{const i=getTitle();i&&(showWhenInnerHtmlPresent(i),toggle(i,e.title||e.titleText,"block"),e.title&&parseHtmlToContainer(e.title,i),e.titleText&&(i.innerText=e.titleText),applyCustomClass(i,e,"title"))},render=(s,e)=>{renderPopup(s,e),renderContainer(s,e),renderProgressSteps(s,e),renderIcon(s,e),renderImage(s,e),renderTitle(s,e),renderCloseButton(s,e),renderContent(s,e),renderActions(s,e),renderFooter(s,e);const i=getPopup();typeof e.didRender=="function"&&i&&e.didRender(i),globalState.eventEmitter.emit("didRender",i)},isVisible=()=>isVisible$1(getPopup()),clickConfirm=()=>{var s;return(s=getConfirmButton())===null||s===void 0?void 0:s.click()},clickDeny=()=>{var s;return(s=getDenyButton())===null||s===void 0?void 0:s.click()},clickCancel=()=>{var s;return(s=getCancelButton())===null||s===void 0?void 0:s.click()},DismissReason=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),removeKeydownHandler=s=>{s.keydownTarget&&s.keydownHandlerAdded&&(s.keydownTarget.removeEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!1)},addKeydownHandler=(s,e,i)=>{removeKeydownHandler(s),e.toast||(s.keydownHandler=a=>keydownHandler(e,a,i),s.keydownTarget=e.keydownListenerCapture?window:getPopup(),s.keydownListenerCapture=e.keydownListenerCapture,s.keydownTarget.addEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!0)},setFocus=(s,e)=>{var i;const a=getFocusableElements();if(a.length){s=s+e,s===a.length?s=0:s===-1&&(s=a.length-1),a[s].focus();return}(i=getPopup())===null||i===void 0||i.focus()},arrowKeysNextButton=["ArrowRight","ArrowDown"],arrowKeysPreviousButton=["ArrowLeft","ArrowUp"],keydownHandler=(s,e,i)=>{s&&(e.isComposing||e.keyCode===229||(s.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?handleEnter(e,s):e.key==="Tab"?handleTab(e):[...arrowKeysNextButton,...arrowKeysPreviousButton].includes(e.key)?handleArrows(e.key):e.key==="Escape"&&handleEsc(e,s,i)))},handleEnter=(s,e)=>{if(!callIfFunction(e.allowEnterKey))return;const i=getInput$1(getPopup(),e.input);if(s.target&&i&&s.target instanceof HTMLElement&&s.target.outerHTML===i.outerHTML){if(["textarea","file"].includes(e.input))return;clickConfirm(),s.preventDefault()}},handleTab=s=>{const e=s.target,i=getFocusableElements();let a=-1;for(let o=0;o<i.length;o++)if(e===i[o]){a=o;break}s.shiftKey?setFocus(a,-1):setFocus(a,1),s.stopPropagation(),s.preventDefault()},handleArrows=s=>{const e=getActions(),i=getConfirmButton(),a=getDenyButton(),o=getCancelButton();if(!e||!i||!a||!o)return;const c=[i,a,o];if(document.activeElement instanceof HTMLElement&&!c.includes(document.activeElement))return;const d=arrowKeysNextButton.includes(s)?"nextElementSibling":"previousElementSibling";let g=document.activeElement;if(g){for(let b=0;b<e.children.length;b++){if(g=g[d],!g)return;if(g instanceof HTMLButtonElement&&isVisible$1(g))break}g instanceof HTMLButtonElement&&g.focus()}},handleEsc=(s,e,i)=>{callIfFunction(e.allowEscapeKey)&&(s.preventDefault(),i(DismissReason.esc))};var privateMethods={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const setAriaHidden=()=>{const s=getContainer();Array.from(document.body.children).forEach(i=>{i.contains(s)||(i.hasAttribute("aria-hidden")&&i.setAttribute("data-previous-aria-hidden",i.getAttribute("aria-hidden")||""),i.setAttribute("aria-hidden","true"))})},unsetAriaHidden=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},isSafariOrIOS=typeof window<"u"&&!!window.GestureEvent,iOSfix=()=>{if(isSafariOrIOS&&!hasClass(document.body,swalClasses.iosfix)){const s=document.body.scrollTop;document.body.style.top=`${s*-1}px`,addClass(document.body,swalClasses.iosfix),lockBodyScroll()}},lockBodyScroll=()=>{const s=getContainer();if(!s)return;let e;s.ontouchstart=i=>{e=shouldPreventTouchMove(i)},s.ontouchmove=i=>{e&&(i.preventDefault(),i.stopPropagation())}},shouldPreventTouchMove=s=>{const e=s.target,i=getContainer(),a=getHtmlContainer();return!i||!a||isStylus(s)||isZoom(s)?!1:e===i||!isScrollable(i)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(isScrollable(a)&&a.contains(e))},isStylus=s=>s.touches&&s.touches.length&&s.touches[0].touchType==="stylus",isZoom=s=>s.touches&&s.touches.length>1,undoIOSfix=()=>{if(hasClass(document.body,swalClasses.iosfix)){const s=parseInt(document.body.style.top,10);removeClass(document.body,swalClasses.iosfix),document.body.style.top="",document.body.scrollTop=s*-1}},measureScrollbar=()=>{const s=document.createElement("div");s.className=swalClasses["scrollbar-measure"],document.body.appendChild(s);const e=s.getBoundingClientRect().width-s.clientWidth;return document.body.removeChild(s),e};let previousBodyPadding=null;const replaceScrollbarWithPadding=s=>{previousBodyPadding===null&&(document.body.scrollHeight>window.innerHeight||s==="scroll")&&(previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${previousBodyPadding+measureScrollbar()}px`)},undoReplaceScrollbarWithPadding=()=>{previousBodyPadding!==null&&(document.body.style.paddingRight=`${previousBodyPadding}px`,previousBodyPadding=null)};function removePopupAndResetState(s,e,i,a){isToast()?triggerDidCloseAndDispose(s,a):(restoreActiveElement(i).then(()=>triggerDidCloseAndDispose(s,a)),removeKeydownHandler(globalState)),isSafariOrIOS?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),isModal()&&(undoReplaceScrollbarWithPadding(),undoIOSfix(),unsetAriaHidden()),removeBodyClasses()}function removeBodyClasses(){removeClass([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"]])}function close(s){s=prepareResolveValue(s);const e=privateMethods.swalPromiseResolve.get(this),i=triggerClosePopup(this);this.isAwaitingPromise?s.isDismissed||(handleAwaitingPromise(this),e(s)):i&&e(s)}const triggerClosePopup=s=>{const e=getPopup();if(!e)return!1;const i=privateProps.innerParams.get(s);if(!i||hasClass(e,i.hideClass.popup))return!1;removeClass(e,i.showClass.popup),addClass(e,i.hideClass.popup);const a=getContainer();return removeClass(a,i.showClass.backdrop),addClass(a,i.hideClass.backdrop),handlePopupAnimation(s,e,i),!0};function rejectPromise(s){const e=privateMethods.swalPromiseReject.get(this);handleAwaitingPromise(this),e&&e(s)}const handleAwaitingPromise=s=>{s.isAwaitingPromise&&(delete s.isAwaitingPromise,privateProps.innerParams.get(s)||s._destroy())},prepareResolveValue=s=>typeof s>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},s),handlePopupAnimation=(s,e,i)=>{var a;const o=getContainer(),c=hasCssAnimation(e);typeof i.willClose=="function"&&i.willClose(e),(a=globalState.eventEmitter)===null||a===void 0||a.emit("willClose",e),c?animatePopup(s,e,o,i.returnFocus,i.didClose):removePopupAndResetState(s,o,i.returnFocus,i.didClose)},animatePopup=(s,e,i,a,o)=>{globalState.swalCloseEventFinishedCallback=removePopupAndResetState.bind(null,s,i,a,o);const c=function(d){if(d.target===e){var g;(g=globalState.swalCloseEventFinishedCallback)===null||g===void 0||g.call(globalState),delete globalState.swalCloseEventFinishedCallback,e.removeEventListener("animationend",c),e.removeEventListener("transitionend",c)}};e.addEventListener("animationend",c),e.addEventListener("transitionend",c)},triggerDidCloseAndDispose=(s,e)=>{setTimeout(()=>{var i;typeof e=="function"&&e.bind(s.params)(),(i=globalState.eventEmitter)===null||i===void 0||i.emit("didClose"),s._destroy&&s._destroy()})},showLoading=s=>{let e=getPopup();if(e||new Swal,e=getPopup(),!e)return;const i=getLoader();isToast()?hide(getIcon()):replaceButton(e,s),show(i),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},replaceButton=(s,e)=>{const i=getActions(),a=getLoader();!i||!a||(!e&&isVisible$1(getConfirmButton())&&(e=getConfirmButton()),show(i),e&&(hide(e),a.setAttribute("data-button-to-replace",e.className),i.insertBefore(a,e)),addClass([s,i],swalClasses.loading))},handleInputOptionsAndValue=(s,e)=>{e.input==="select"||e.input==="radio"?handleInputOptions(s,e):["text","email","number","tel","textarea"].some(i=>i===e.input)&&(hasToPromiseFn(e.inputValue)||isPromise$1(e.inputValue))&&(showLoading(getConfirmButton()),handleInputValue(s,e))},getInputValue=(s,e)=>{const i=s.getInput();if(!i)return null;switch(e.input){case"checkbox":return getCheckboxValue(i);case"radio":return getRadioValue(i);case"file":return getFileValue(i);default:return e.inputAutoTrim?i.value.trim():i.value}},getCheckboxValue=s=>s.checked?1:0,getRadioValue=s=>s.checked?s.value:null,getFileValue=s=>s.files&&s.files.length?s.getAttribute("multiple")!==null?s.files:s.files[0]:null,handleInputOptions=(s,e)=>{const i=getPopup();if(!i)return;const a=o=>{e.input==="select"?populateSelectOptions(i,formatInputOptions(o),e):e.input==="radio"&&populateRadioOptions(i,formatInputOptions(o),e)};hasToPromiseFn(e.inputOptions)||isPromise$1(e.inputOptions)?(showLoading(getConfirmButton()),asPromise(e.inputOptions).then(o=>{s.hideLoading(),a(o)})):typeof e.inputOptions=="object"?a(e.inputOptions):error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},handleInputValue=(s,e)=>{const i=s.getInput();i&&(hide(i),asPromise(e.inputValue).then(a=>{i.value=e.input==="number"?`${parseFloat(a)||0}`:`${a}`,show(i),i.focus(),s.hideLoading()}).catch(a=>{error(`Error in inputValue promise: ${a}`),i.value="",show(i),i.focus(),s.hideLoading()}))};function populateSelectOptions(s,e,i){const a=getDirectChildByClass(s,swalClasses.select);if(!a)return;const o=(c,d,g)=>{const b=document.createElement("option");b.value=g,setInnerHtml(b,d),b.selected=isSelected(g,i.inputValue),c.appendChild(b)};e.forEach(c=>{const d=c[0],g=c[1];if(Array.isArray(g)){const b=document.createElement("optgroup");b.label=d,b.disabled=!1,a.appendChild(b),g.forEach(_=>o(b,_[1],_[0]))}else o(a,g,d)}),a.focus()}function populateRadioOptions(s,e,i){const a=getDirectChildByClass(s,swalClasses.radio);if(!a)return;e.forEach(c=>{const d=c[0],g=c[1],b=document.createElement("input"),_=document.createElement("label");b.type="radio",b.name=swalClasses.radio,b.value=d,isSelected(d,i.inputValue)&&(b.checked=!0);const j=document.createElement("span");setInnerHtml(j,g),j.className=swalClasses.label,_.appendChild(b),_.appendChild(j),a.appendChild(_)});const o=a.querySelectorAll("input");o.length&&o[0].focus()}const formatInputOptions=s=>{const e=[];return s instanceof Map?s.forEach((i,a)=>{let o=i;typeof o=="object"&&(o=formatInputOptions(o)),e.push([a,o])}):Object.keys(s).forEach(i=>{let a=s[i];typeof a=="object"&&(a=formatInputOptions(a)),e.push([i,a])}),e},isSelected=(s,e)=>!!e&&e.toString()===s.toString(),handleConfirmButtonClick=s=>{const e=privateProps.innerParams.get(s);s.disableButtons(),e.input?handleConfirmOrDenyWithInput(s,"confirm"):confirm(s,!0)},handleDenyButtonClick=s=>{const e=privateProps.innerParams.get(s);s.disableButtons(),e.returnInputValueOnDeny?handleConfirmOrDenyWithInput(s,"deny"):deny(s,!1)},handleCancelButtonClick=(s,e)=>{s.disableButtons(),e(DismissReason.cancel)},handleConfirmOrDenyWithInput=(s,e)=>{const i=privateProps.innerParams.get(s);if(!i.input){error(`The "input" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter(e)}`);return}const a=s.getInput(),o=getInputValue(s,i);i.inputValidator?handleInputValidator(s,o,e):a&&!a.checkValidity()?(s.enableButtons(),s.showValidationMessage(i.validationMessage||a.validationMessage)):e==="deny"?deny(s,o):confirm(s,o)},handleInputValidator=(s,e,i)=>{const a=privateProps.innerParams.get(s);s.disableInput(),Promise.resolve().then(()=>asPromise(a.inputValidator(e,a.validationMessage))).then(c=>{s.enableButtons(),s.enableInput(),c?s.showValidationMessage(c):i==="deny"?deny(s,e):confirm(s,e)})},deny=(s,e)=>{const i=privateProps.innerParams.get(s||void 0);i.showLoaderOnDeny&&showLoading(getDenyButton()),i.preDeny?(s.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(i.preDeny(e,i.validationMessage))).then(o=>{o===!1?(s.hideLoading(),handleAwaitingPromise(s)):s.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>rejectWith(s||void 0,o))):s.close({isDenied:!0,value:e})},succeedWith=(s,e)=>{s.close({isConfirmed:!0,value:e})},rejectWith=(s,e)=>{s.rejectPromise(e)},confirm=(s,e)=>{const i=privateProps.innerParams.get(s||void 0);i.showLoaderOnConfirm&&showLoading(),i.preConfirm?(s.resetValidationMessage(),s.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(i.preConfirm(e,i.validationMessage))).then(o=>{isVisible$1(getValidationMessage())||o===!1?(s.hideLoading(),handleAwaitingPromise(s)):succeedWith(s,typeof o>"u"?e:o)}).catch(o=>rejectWith(s||void 0,o))):succeedWith(s,e)};function hideLoading(){const s=privateProps.innerParams.get(this);if(!s)return;const e=privateProps.domCache.get(this);hide(e.loader),isToast()?s.icon&&show(getIcon()):showRelatedButton(e),removeClass([e.popup,e.actions],swalClasses.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const showRelatedButton=s=>{const e=s.popup.getElementsByClassName(s.loader.getAttribute("data-button-to-replace"));e.length?show(e[0],"inline-block"):allButtonsAreHidden()&&hide(s.actions)};function getInput(){const s=privateProps.innerParams.get(this),e=privateProps.domCache.get(this);return e?getInput$1(e.popup,s.input):null}function setButtonsDisabled(s,e,i){const a=privateProps.domCache.get(s);e.forEach(o=>{a[o].disabled=i})}function setInputDisabled(s,e){const i=getPopup();if(!(!i||!s))if(s.type==="radio"){const a=i.querySelectorAll(`[name="${swalClasses.radio}"]`);for(let o=0;o<a.length;o++)a[o].disabled=e}else s.disabled=e}function enableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!1)}function disableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!0)}function enableInput(){setInputDisabled(this.getInput(),!1)}function disableInput(){setInputDisabled(this.getInput(),!0)}function showValidationMessage(s){const e=privateProps.domCache.get(this),i=privateProps.innerParams.get(this);setInnerHtml(e.validationMessage,s),e.validationMessage.className=swalClasses["validation-message"],i.customClass&&i.customClass.validationMessage&&addClass(e.validationMessage,i.customClass.validationMessage),show(e.validationMessage);const a=this.getInput();a&&(a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",swalClasses["validation-message"]),focusInput(a),addClass(a,swalClasses.inputerror))}function resetValidationMessage(){const s=privateProps.domCache.get(this);s.validationMessage&&hide(s.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),removeClass(e,swalClasses.inputerror))}const defaultParams={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},updatableParams=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],deprecatedParams={allowEnterKey:void 0},toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],isValidParameter=s=>Object.prototype.hasOwnProperty.call(defaultParams,s),isUpdatableParameter=s=>updatableParams.indexOf(s)!==-1,isDeprecatedParameter=s=>deprecatedParams[s],checkIfParamIsValid=s=>{isValidParameter(s)||warn$1(`Unknown parameter "${s}"`)},checkIfToastParamIsValid=s=>{toastIncompatibleParams.includes(s)&&warn$1(`The parameter "${s}" is incompatible with toasts`)},checkIfParamIsDeprecated=s=>{const e=isDeprecatedParameter(s);e&&warnAboutDeprecation(s,e)},showWarningsForParams=s=>{s.backdrop===!1&&s.allowOutsideClick&&warn$1('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in s)checkIfParamIsValid(e),s.toast&&checkIfToastParamIsValid(e),checkIfParamIsDeprecated(e)};function update(s){const e=getPopup(),i=privateProps.innerParams.get(this);if(!e||hasClass(e,i.hideClass.popup)){warn$1("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=filterValidParams(s),o=Object.assign({},i,a);render(this,o),privateProps.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,s),writable:!1,enumerable:!0}})}const filterValidParams=s=>{const e={};return Object.keys(s).forEach(i=>{isUpdatableParameter(i)?e[i]=s[i]:warn$1(`Invalid parameter to update: ${i}`)}),e};function _destroy(){const s=privateProps.domCache.get(this),e=privateProps.innerParams.get(this);if(!e){disposeWeakMaps(this);return}s.popup&&globalState.swalCloseEventFinishedCallback&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),globalState.eventEmitter.emit("didDestroy"),disposeSwal(this)}const disposeSwal=s=>{disposeWeakMaps(s),delete s.params,delete globalState.keydownHandler,delete globalState.keydownTarget,delete globalState.currentInstance},disposeWeakMaps=s=>{s.isAwaitingPromise?(unsetWeakMaps(privateProps,s),s.isAwaitingPromise=!0):(unsetWeakMaps(privateMethods,s),unsetWeakMaps(privateProps,s),delete s.isAwaitingPromise,delete s.disableButtons,delete s.enableButtons,delete s.getInput,delete s.disableInput,delete s.enableInput,delete s.hideLoading,delete s.disableLoading,delete s.showValidationMessage,delete s.resetValidationMessage,delete s.close,delete s.closePopup,delete s.closeModal,delete s.closeToast,delete s.rejectPromise,delete s.update,delete s._destroy)},unsetWeakMaps=(s,e)=>{for(const i in s)s[i].delete(e)};var instanceMethods=Object.freeze({__proto__:null,_destroy,close,closeModal:close,closePopup:close,closeToast:close,disableButtons,disableInput,disableLoading:hideLoading,enableButtons,enableInput,getInput,handleAwaitingPromise,hideLoading,rejectPromise,resetValidationMessage,showValidationMessage,update});const handlePopupClick=(s,e,i)=>{s.toast?handleToastClick(s,e,i):(handleModalMousedown(e),handleContainerMousedown(e),handleModalClick(s,e,i))},handleToastClick=(s,e,i)=>{e.popup.onclick=()=>{s&&(isAnyButtonShown(s)||s.timer||s.input)||i(DismissReason.close)}},isAnyButtonShown=s=>!!(s.showConfirmButton||s.showDenyButton||s.showCancelButton||s.showCloseButton);let ignoreOutsideClick=!1;const handleModalMousedown=s=>{s.popup.onmousedown=()=>{s.container.onmouseup=function(e){s.container.onmouseup=()=>{},e.target===s.container&&(ignoreOutsideClick=!0)}}},handleContainerMousedown=s=>{s.container.onmousedown=e=>{e.target===s.container&&e.preventDefault(),s.popup.onmouseup=function(i){s.popup.onmouseup=()=>{},(i.target===s.popup||i.target instanceof HTMLElement&&s.popup.contains(i.target))&&(ignoreOutsideClick=!0)}}},handleModalClick=(s,e,i)=>{e.container.onclick=a=>{if(ignoreOutsideClick){ignoreOutsideClick=!1;return}a.target===e.container&&callIfFunction(s.allowOutsideClick)&&i(DismissReason.backdrop)}},isJqueryElement=s=>typeof s=="object"&&s.jquery,isElement=s=>s instanceof Element||isJqueryElement(s),argsToParams=s=>{const e={};return typeof s[0]=="object"&&!isElement(s[0])?Object.assign(e,s[0]):["title","html","icon"].forEach((i,a)=>{const o=s[a];typeof o=="string"||isElement(o)?e[i]=o:o!==void 0&&error(`Unexpected type of ${i}! Expected "string" or "Element", got ${typeof o}`)}),e};function fire(){for(var s=arguments.length,e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];return new this(...e)}function mixin(s){class e extends this{_main(a,o){return super._main(a,Object.assign({},s,o))}}return e}const getTimerLeft=()=>globalState.timeout&&globalState.timeout.getTimerLeft(),stopTimer=()=>{if(globalState.timeout)return stopTimerProgressBar(),globalState.timeout.stop()},resumeTimer=()=>{if(globalState.timeout){const s=globalState.timeout.start();return animateTimerProgressBar(s),s}},toggleTimer=()=>{const s=globalState.timeout;return s&&(s.running?stopTimer():resumeTimer())},increaseTimer=s=>{if(globalState.timeout){const e=globalState.timeout.increase(s);return animateTimerProgressBar(e,!0),e}},isTimerRunning=()=>!!(globalState.timeout&&globalState.timeout.isRunning());let bodyClickListenerAdded=!1;const clickHandlers={};function bindClickHandler(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";clickHandlers[s]=this,bodyClickListenerAdded||(document.body.addEventListener("click",bodyClickListener),bodyClickListenerAdded=!0)}const bodyClickListener=s=>{for(let e=s.target;e&&e!==document;e=e.parentNode)for(const i in clickHandlers){const a=e.getAttribute(i);if(a){clickHandlers[i].fire({template:a});return}}};let EventEmitter$1=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,i){const a=this._getHandlersByEventName(e);a.includes(i)||a.push(i)}once(e,i){var a=this;const o=function(){a.removeListener(e,o);for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];i.apply(a,d)};this.on(e,o)}emit(e){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(c=>{try{c.apply(this,a)}catch(d){console.error(d)}})}removeListener(e,i){const a=this._getHandlersByEventName(e),o=a.indexOf(i);o>-1&&a.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};globalState.eventEmitter=new EventEmitter$1;const on=(s,e)=>{globalState.eventEmitter.on(s,e)},once=(s,e)=>{globalState.eventEmitter.once(s,e)},off=(s,e)=>{if(!s){globalState.eventEmitter.reset();return}e?globalState.eventEmitter.removeListener(s,e):globalState.eventEmitter.removeAllListeners(s)};var staticMethods=Object.freeze({__proto__:null,argsToParams,bindClickHandler,clickCancel,clickConfirm,clickDeny,enableLoading:showLoading,fire,getActions,getCancelButton,getCloseButton,getConfirmButton,getContainer,getDenyButton,getFocusableElements,getFooter,getHtmlContainer,getIcon,getIconContent,getImage,getInputLabel,getLoader,getPopup,getProgressSteps,getTimerLeft,getTimerProgressBar,getTitle,getValidationMessage,increaseTimer,isDeprecatedParameter,isLoading,isTimerRunning,isUpdatableParameter,isValidParameter,isVisible,mixin,off,on,once,resumeTimer,showLoading,stopTimer,toggleTimer});class Timer{constructor(e,i){this.callback=e,this.remaining=i,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const i=this.running;return i&&this.stop(),this.remaining+=e,i&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const swalStringParams=["swal-title","swal-html","swal-footer"],getTemplateParams=s=>{const e=typeof s.template=="string"?document.querySelector(s.template):s.template;if(!e)return{};const i=e.content;return showWarningsForElements(i),Object.assign(getSwalParams(i),getSwalFunctionParams(i),getSwalButtons(i),getSwalImage(i),getSwalIcon(i),getSwalInput(i),getSwalStringParams(i,swalStringParams))},getSwalParams=s=>{const e={};return Array.from(s.querySelectorAll("swal-param")).forEach(a=>{showWarningsForAttributes(a,["name","value"]);const o=a.getAttribute("name"),c=a.getAttribute("value");!o||!c||(typeof defaultParams[o]=="boolean"?e[o]=c!=="false":typeof defaultParams[o]=="object"?e[o]=JSON.parse(c):e[o]=c)}),e},getSwalFunctionParams=s=>{const e={};return Array.from(s.querySelectorAll("swal-function-param")).forEach(a=>{const o=a.getAttribute("name"),c=a.getAttribute("value");!o||!c||(e[o]=new Function(`return ${c}`)())}),e},getSwalButtons=s=>{const e={};return Array.from(s.querySelectorAll("swal-button")).forEach(a=>{showWarningsForAttributes(a,["type","color","aria-label"]);const o=a.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=a.innerHTML,e[`show${capitalizeFirstLetter(o)}Button`]=!0,a.hasAttribute("color")&&(e[`${o}ButtonColor`]=a.getAttribute("color")),a.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=a.getAttribute("aria-label")))}),e},getSwalImage=s=>{const e={},i=s.querySelector("swal-image");return i&&(showWarningsForAttributes(i,["src","width","height","alt"]),i.hasAttribute("src")&&(e.imageUrl=i.getAttribute("src")||void 0),i.hasAttribute("width")&&(e.imageWidth=i.getAttribute("width")||void 0),i.hasAttribute("height")&&(e.imageHeight=i.getAttribute("height")||void 0),i.hasAttribute("alt")&&(e.imageAlt=i.getAttribute("alt")||void 0)),e},getSwalIcon=s=>{const e={},i=s.querySelector("swal-icon");return i&&(showWarningsForAttributes(i,["type","color"]),i.hasAttribute("type")&&(e.icon=i.getAttribute("type")),i.hasAttribute("color")&&(e.iconColor=i.getAttribute("color")),e.iconHtml=i.innerHTML),e},getSwalInput=s=>{const e={},i=s.querySelector("swal-input");i&&(showWarningsForAttributes(i,["type","label","placeholder","value"]),e.input=i.getAttribute("type")||"text",i.hasAttribute("label")&&(e.inputLabel=i.getAttribute("label")),i.hasAttribute("placeholder")&&(e.inputPlaceholder=i.getAttribute("placeholder")),i.hasAttribute("value")&&(e.inputValue=i.getAttribute("value")));const a=Array.from(s.querySelectorAll("swal-input-option"));return a.length&&(e.inputOptions={},a.forEach(o=>{showWarningsForAttributes(o,["value"]);const c=o.getAttribute("value");if(!c)return;const d=o.innerHTML;e.inputOptions[c]=d})),e},getSwalStringParams=(s,e)=>{const i={};for(const a in e){const o=e[a],c=s.querySelector(o);c&&(showWarningsForAttributes(c,[]),i[o.replace(/^swal-/,"")]=c.innerHTML.trim())}return i},showWarningsForElements=s=>{const e=swalStringParams.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(s.children).forEach(i=>{const a=i.tagName.toLowerCase();e.includes(a)||warn$1(`Unrecognized element <${a}>`)})},showWarningsForAttributes=(s,e)=>{Array.from(s.attributes).forEach(i=>{e.indexOf(i.name)===-1&&warn$1([`Unrecognized attribute "${i.name}" on <${s.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},SHOW_CLASS_TIMEOUT=10,openPopup=s=>{const e=getContainer(),i=getPopup();typeof s.willOpen=="function"&&s.willOpen(i),globalState.eventEmitter.emit("willOpen",i);const o=window.getComputedStyle(document.body).overflowY;addClasses(e,i,s),setTimeout(()=>{setScrollingVisibility(e,i)},SHOW_CLASS_TIMEOUT),isModal()&&(fixScrollContainer(e,s.scrollbarPadding,o),setAriaHidden()),!isToast()&&!globalState.previousActiveElement&&(globalState.previousActiveElement=document.activeElement),typeof s.didOpen=="function"&&setTimeout(()=>s.didOpen(i)),globalState.eventEmitter.emit("didOpen",i),removeClass(e,swalClasses["no-transition"])},swalOpenAnimationFinished=s=>{const e=getPopup();if(s.target!==e)return;const i=getContainer();e.removeEventListener("animationend",swalOpenAnimationFinished),e.removeEventListener("transitionend",swalOpenAnimationFinished),i.style.overflowY="auto"},setScrollingVisibility=(s,e)=>{hasCssAnimation(e)?(s.style.overflowY="hidden",e.addEventListener("animationend",swalOpenAnimationFinished),e.addEventListener("transitionend",swalOpenAnimationFinished)):s.style.overflowY="auto"},fixScrollContainer=(s,e,i)=>{iOSfix(),e&&i!=="hidden"&&replaceScrollbarWithPadding(i),setTimeout(()=>{s.scrollTop=0})},addClasses=(s,e,i)=>{addClass(s,i.showClass.backdrop),i.animation?(e.style.setProperty("opacity","0","important"),show(e,"grid"),setTimeout(()=>{addClass(e,i.showClass.popup),e.style.removeProperty("opacity")},SHOW_CLASS_TIMEOUT)):show(e,"grid"),addClass([document.documentElement,document.body],swalClasses.shown),i.heightAuto&&i.backdrop&&!i.toast&&addClass([document.documentElement,document.body],swalClasses["height-auto"])};var defaultInputValidators={email:(s,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(s)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(s,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(s)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function setDefaultInputValidators(s){s.inputValidator||(s.input==="email"&&(s.inputValidator=defaultInputValidators.email),s.input==="url"&&(s.inputValidator=defaultInputValidators.url))}function validateCustomTargetElement(s){(!s.target||typeof s.target=="string"&&!document.querySelector(s.target)||typeof s.target!="string"&&!s.target.appendChild)&&(warn$1('Target parameter is not valid, defaulting to "body"'),s.target="body")}function setParameters(s){setDefaultInputValidators(s),s.showLoaderOnConfirm&&!s.preConfirm&&warn$1(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),validateCustomTargetElement(s),typeof s.title=="string"&&(s.title=s.title.split(`
`).join("<br />")),init(s)}let currentInstance;var _promise=new WeakMap;class SweetAlert{constructor(){if(_classPrivateFieldInitSpec(this,_promise,void 0),typeof window>"u")return;currentInstance=this;for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];const o=Object.freeze(this.constructor.argsToParams(i));this.params=o,this.isAwaitingPromise=!1,_classPrivateFieldSet2(_promise,this,this._main(currentInstance.params))}_main(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(showWarningsForParams(Object.assign({},i,e)),globalState.currentInstance){const c=privateMethods.swalPromiseResolve.get(globalState.currentInstance),{isAwaitingPromise:d}=globalState.currentInstance;globalState.currentInstance._destroy(),d||c({isDismissed:!0}),isModal()&&unsetAriaHidden()}globalState.currentInstance=currentInstance;const a=prepareParams(e,i);setParameters(a),Object.freeze(a),globalState.timeout&&(globalState.timeout.stop(),delete globalState.timeout),clearTimeout(globalState.restoreFocusTimeout);const o=populateDomCache(currentInstance);return render(currentInstance,a),privateProps.innerParams.set(currentInstance,a),swalPromise(currentInstance,o,a)}then(e){return _classPrivateFieldGet2(_promise,this).then(e)}finally(e){return _classPrivateFieldGet2(_promise,this).finally(e)}}const swalPromise=(s,e,i)=>new Promise((a,o)=>{const c=d=>{s.close({isDismissed:!0,dismiss:d})};privateMethods.swalPromiseResolve.set(s,a),privateMethods.swalPromiseReject.set(s,o),e.confirmButton.onclick=()=>{handleConfirmButtonClick(s)},e.denyButton.onclick=()=>{handleDenyButtonClick(s)},e.cancelButton.onclick=()=>{handleCancelButtonClick(s,c)},e.closeButton.onclick=()=>{c(DismissReason.close)},handlePopupClick(i,e,c),addKeydownHandler(globalState,i,c),handleInputOptionsAndValue(s,i),openPopup(i),setupTimer(globalState,i,c),initFocus(e,i),setTimeout(()=>{e.container.scrollTop=0})}),prepareParams=(s,e)=>{const i=getTemplateParams(s),a=Object.assign({},defaultParams,e,i,s);return a.showClass=Object.assign({},defaultParams.showClass,a.showClass),a.hideClass=Object.assign({},defaultParams.hideClass,a.hideClass),a.animation===!1&&(a.showClass={backdrop:"swal2-noanimation"},a.hideClass={}),a},populateDomCache=s=>{const e={popup:getPopup(),container:getContainer(),actions:getActions(),confirmButton:getConfirmButton(),denyButton:getDenyButton(),cancelButton:getCancelButton(),loader:getLoader(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps()};return privateProps.domCache.set(s,e),e},setupTimer=(s,e,i)=>{const a=getTimerProgressBar();hide(a),e.timer&&(s.timeout=new Timer(()=>{i("timer"),delete s.timeout},e.timer),e.timerProgressBar&&(show(a),applyCustomClass(a,e,"timerProgressBar"),setTimeout(()=>{s.timeout&&s.timeout.running&&animateTimerProgressBar(e.timer)})))},initFocus=(s,e)=>{if(!e.toast){if(!callIfFunction(e.allowEnterKey)){warnAboutDeprecation("allowEnterKey"),blurActiveElement();return}focusAutofocus(s)||focusButton(s,e)||setFocus(-1,1)}},focusAutofocus=s=>{const e=Array.from(s.popup.querySelectorAll("[autofocus]"));for(const i of e)if(i instanceof HTMLElement&&isVisible$1(i))return i.focus(),!0;return!1},focusButton=(s,e)=>e.focusDeny&&isVisible$1(s.denyButton)?(s.denyButton.focus(),!0):e.focusCancel&&isVisible$1(s.cancelButton)?(s.cancelButton.focus(),!0):e.focusConfirm&&isVisible$1(s.confirmButton)?(s.confirmButton.focus(),!0):!1,blurActiveElement=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const s=new Date,e=localStorage.getItem("swal-initiation");e?(s.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const i=document.createElement("audio");i.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",i.loop=!0,document.body.appendChild(i),setTimeout(()=>{i.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${s}`)}SweetAlert.prototype.disableButtons=disableButtons;SweetAlert.prototype.enableButtons=enableButtons;SweetAlert.prototype.getInput=getInput;SweetAlert.prototype.disableInput=disableInput;SweetAlert.prototype.enableInput=enableInput;SweetAlert.prototype.hideLoading=hideLoading;SweetAlert.prototype.disableLoading=hideLoading;SweetAlert.prototype.showValidationMessage=showValidationMessage;SweetAlert.prototype.resetValidationMessage=resetValidationMessage;SweetAlert.prototype.close=close;SweetAlert.prototype.closePopup=close;SweetAlert.prototype.closeModal=close;SweetAlert.prototype.closeToast=close;SweetAlert.prototype.rejectPromise=rejectPromise;SweetAlert.prototype.update=update;SweetAlert.prototype._destroy=_destroy;Object.assign(SweetAlert,staticMethods);Object.keys(instanceMethods).forEach(s=>{SweetAlert[s]=function(){return currentInstance&&currentInstance[s]?currentInstance[s](...arguments):null}});SweetAlert.DismissReason=DismissReason;SweetAlert.version="11.14.5";const Swal=SweetAlert;Swal.default=Swal;typeof document<"u"&&function(s,e){var i=s.createElement("style");if(s.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=e);else try{i.innerHTML=e}catch{i.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const Contact=()=>{const{t:s}=useTranslation(),e=async i=>{i.preventDefault();const a=new FormData(i.target);a.append("access_key","52a6d27a-28a9-46fc-82bb-1150e8276e5b");const o={};a.forEach((c,d)=>{o[d]=c});try{const d=await(await fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o)})).json();d.success?Swal.fire({title:"Success!",text:"Your message was sent successfully!",icon:"success"}):Swal.fire({title:"Error!",text:d.message||"Something went wrong. Please try again.",icon:"error"})}catch(c){Swal.fire({title:"Error!",text:c.message||"Network error occurred.",icon:"error"})}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsxs("div",{className:"page-text",children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:samuelFoster,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Samuel Foster "]}),jsxRuntimeExports.jsxs("h1",{className:"orange-text",children:[" ",s("ContactOrange")," "]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("ContactText1")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"text",children:["E-Mail: info@guesthouses.top",jsxRuntimeExports.jsx("br",{}),"Telephone: 0049/ 1776004188",jsxRuntimeExports.jsx("br",{}),"WhatsApp: 0049/ 1776004188"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{className:"contact-form-container",children:[jsxRuntimeExports.jsxs("form",{className:"contact-form",onSubmit:e,children:[jsxRuntimeExports.jsxs("label",{children:["Name",jsxRuntimeExports.jsx("span",{className:"required",children:"*"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",required:!0})]}),jsxRuntimeExports.jsxs("label",{children:["E-Mail",jsxRuntimeExports.jsx("span",{className:"required",children:"*"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",required:!0})]}),jsxRuntimeExports.jsxs("label",{children:["Number",jsxRuntimeExports.jsx("span",{className:"required",children:"*"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phone",required:!0})]}),jsxRuntimeExports.jsxs("p",{className:"text",children:[" ",s("ContactText2")," "]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"submit-button",children:s("Submit")}),jsxRuntimeExports.jsxs("p",{className:"notice",children:[jsxRuntimeExports.jsx("strong",{children:s("ContactText3")})," ",s("ContactText4")," ",jsxRuntimeExports.jsx("span",{className:"required",children:"*"})," ",s("ContactText5")]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("img",{src:carlpic1,alt:"Decorative",className:"contact-image"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Carl Raabe "]})]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("img",{src:danielAndrade,className:"image-decor"}),jsxRuntimeExports.jsxs("p",{className:"photographer",children:[" ",s("Photograph")," Daniel Andrade "]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})},loginUser=async s=>{try{const e=await fetch("https://api.guesthouses.top/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok){const i=await e.json();throw new Error(i.message||`Error: ${e.status}`)}return await e.json()}catch(e){return console.error("Login failed:",e.message),{error:e.message}}},Login=({setToken:s})=>{const[e,i]=reactExports.useState(""),[a,o]=reactExports.useState(""),[c,d]=reactExports.useState(null),g=useNavigate(),b=async _=>{_.preventDefault();const j=await loginUser({username:e,password:a});j.error?d(j.error):j.token?(s(j.token),g("/dashboard")):d("Unexpected response from the server")};return jsxRuntimeExports.jsxs("div",{className:"login-wrapper",children:[jsxRuntimeExports.jsx("h1",{children:"Please Log In"}),jsxRuntimeExports.jsxs("form",{onSubmit:b,children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("p",{children:"Username"}),jsxRuntimeExports.jsx("input",{type:"text",onChange:_=>i(_.target.value),required:!0})]}),jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("p",{children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",onChange:_=>o(_.target.value),required:!0})]}),c&&jsxRuntimeExports.jsx("p",{style:{color:"red"},children:c})," ",jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{type:"submit",children:"Submit"})})]})]})},Dashboard=()=>{const[s,e]=reactExports.useState(""),[i,a]=reactExports.useState("en"),[o,c]=reactExports.useState(null),[d,g]=reactExports.useState(""),[b,_]=reactExports.useState([]),[j,$]=reactExports.useState("en"),_e=async it=>{it.preventDefault();const rt=new FormData;rt.append("title",s),rt.append("language",i),rt.append("pdf",o);try{(await fetch("https://api.guesthouses.top/api/upload-pdf",{method:"POST",body:rt})).ok?(g("PDF uploaded successfully!"),et()):g("Error uploading PDF.")}catch(nt){console.error("Error:",nt),g("Error uploading PDF.")}},et=async()=>{try{const it=await fetch(`https://api.guesthouses.top/api/pdfs/${j}`);if(it.ok){const rt=await it.json();_(rt)}else console.error("Error fetching PDFs")}catch(it){console.error("Error:",it)}},tt=async it=>{try{(await fetch(`https://api.guesthouses.top/api/delete-pdf/${it}`,{method:"DELETE"})).ok?(g("PDF deleted successfully!"),et()):g("Error deleting PDF.")}catch(rt){console.error("Error:",rt),g("Error deleting PDF.")}};return reactExports.useEffect(()=>{et()},[j]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{children:"Upload a PDF"}),jsxRuntimeExports.jsxs("form",{onSubmit:_e,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Title:"}),jsxRuntimeExports.jsx("input",{type:"text",value:s,onChange:it=>e(it.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Language:"}),jsxRuntimeExports.jsxs("select",{value:i,onChange:it=>a(it.target.value),required:!0,children:[jsxRuntimeExports.jsx("option",{value:"en",children:"English"}),jsxRuntimeExports.jsx("option",{value:"de",children:"German"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"PDF File:"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",onChange:it=>c(it.target.files[0]),required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Upload"})]}),d&&jsxRuntimeExports.jsx("p",{children:d}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{children:"Uploaded PDFs"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Filter by Language:"}),jsxRuntimeExports.jsxs("select",{value:j,onChange:it=>$(it.target.value),children:[jsxRuntimeExports.jsx("option",{value:"en",children:"English"}),jsxRuntimeExports.jsx("option",{value:"de",children:"German"})]})]}),jsxRuntimeExports.jsx("ul",{children:b.map(it=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("p",{children:it.title}),jsxRuntimeExports.jsx("a",{href:`https://api.guesthouses.top/${it.path}`,target:"_blank",rel:"noopener noreferrer",children:"View PDF"}),jsxRuntimeExports.jsx("button",{onClick:()=>tt(it.id),children:"Delete"})]},it.id))})]})]})},Imprint=()=>{const{t:s}=useTranslation();return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsxs("div",{className:"page-text",children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{children:s("imprintHeader1")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("imprintText1")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"text",children:["Top Guesthouses, findQ, findQuick sind Marken der Namola UG (haftungsbeschrnkt)",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:"Namola UG (haftungsbeschrnkt)"}),jsxRuntimeExports.jsx("br",{}),"Strae zum Lwen 25",jsxRuntimeExports.jsx("br",{}),"14109 Berlin"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"text",children:[s("imprintText2"),": Nadja Raabe",jsxRuntimeExports.jsx("br",{}),"HRB 256621 B, Amtsgericht Charlottenburg",jsxRuntimeExports.jsx("br",{}),"Finanzamt fr Krperschaften III",jsxRuntimeExports.jsx("br",{}),"USt.ID DE365218994"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"text",children:["Telephone: +49 (0) 30 - 52 65 56 03",jsxRuntimeExports.jsx("br",{}),"Mobile: +49 (0) 177 - 600 41 88",jsxRuntimeExports.jsx("br",{}),"E-Mail: info@guesthouses.top",jsxRuntimeExports.jsx("br",{}),"E-Mail Managing Director: mail@namola.de",jsxRuntimeExports.jsx("br",{}),"www.findQuick.de",jsxRuntimeExports.jsx("br",{}),"www.guesthouses.top"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{children:s("imprintHeader2")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{children:s("imprintText3")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("imprintText4")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("imprintText5")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{children:s("imprintText6")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("imprintText7")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("imprintText8")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{children:s("imprintText9")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("imprintText10")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("imprintText11")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h2",{children:s("imprintText12")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("imprintText13")})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})},DataProtection=()=>{const{t:s}=useTranslation();return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Carousel,{}),jsxRuntimeExports.jsxs("div",{className:"page-text",children:[jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{children:s("privacyHeader1")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText1")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText2")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText3")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("ol",{className:"ordered-list-berlin",children:[jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("li",{className:"text",children:s("privacyText4")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText5")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText6")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("ul",{className:"ordered-list-berlin",children:[jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText7")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText8")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText9")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText10")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText11")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText12")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText13")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText14")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText15")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText16")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText17")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText18")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText19")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText20")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText21")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText22")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText23")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText24")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText25")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText26")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("li",{className:"text",children:jsxRuntimeExports.jsx("b",{children:s("privacyText27")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText28")}),jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("li",{className:"text",children:s("privacyText29")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText30")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText31")}),jsxRuntimeExports.jsxs("p",{className:"text",children:[" Strasse zum Lwen 25 D-14109 Berlin ",jsxRuntimeExports.jsx("br",{}),"Tel.: +49 (0) 30  52 65 56 03 ",jsxRuntimeExports.jsx("br",{}),"E-Mail Geschftsfhrung: mail@namola.de ",jsxRuntimeExports.jsx("br",{}),"E-Mail: info@guesthouses.top ",jsxRuntimeExports.jsx("br",{}),"Website: www.guesthouses.top"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("li",{className:"text",children:s("privacyText32")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText33")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText34")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText35")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText36")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText37")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("li",{className:"text",children:s("privacyText38")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText39")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText40")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("li",{className:"text",children:s("privacyText41")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText42")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText43")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText44")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText45")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("li",{className:"text",children:s("privacyText46")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText47")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText48")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("li",{className:"text",children:s("privacyText49")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText50")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText51")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("li",{className:"text",children:s("privacyText52")})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText53")}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"text",children:s("privacyText54")})]})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})},scriptRel="modulepreload",assetsURL=function(s){return"/"+s},seen={},__vitePreload=function s(e,i,a){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(i.map(b=>{if(b=assetsURL(b),b in seen)return;seen[b]=!0;const _=b.endsWith(".css"),j=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${j}`))return;const $=document.createElement("link");if($.rel=_?"stylesheet":scriptRel,_||($.as="script"),$.crossOrigin="",$.href=b,g&&$.setAttribute("nonce",g),document.head.appendChild($),_)return new Promise((_e,et)=>{$.addEventListener("load",_e),$.addEventListener("error",()=>et(new Error(`Unable to preload CSS for ${b}`)))})}))}function c(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&c(g.reason);return e().catch(c)})};var __webpack_require__={};__webpack_require__.d=(s,e)=>{for(var i in e)__webpack_require__.o(e,i)&&!__webpack_require__.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:e[i]})};__webpack_require__.o=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,OutputScale:()=>OutputScale,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(s){Number.isInteger(s)&&(verbosity=s)}function getVerbosityLevel(){return verbosity}function info(s){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${s}`)}function warn(s){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${s}`)}function unreachable(s){throw new Error(s)}function assert(s,e){s||unreachable(e)}function _isValidProtocol(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(s,e=null,i=null){if(!s)return null;try{if(i&&typeof s=="string"){if(i.addDefaultProtocol&&s.startsWith("www.")){const o=s.match(/\./g);(o==null?void 0:o.length)>=2&&(s=`http://${s}`)}if(i.tryConvertEncoding)try{s=stringToUTF8String(s)}catch{}}const a=e?new URL(s,e):new URL(s);if(_isValidProtocol(a))return a}catch{}return null}function shadow(s,e,i,a=!1){return Object.defineProperty(s,e,{value:i,enumerable:!a,configurable:!0,writable:!1}),i}const BaseException=function s(){function e(i,a){this.message=i,this.name=a}return e.prototype=new Error,e.constructor=e,e}();class PasswordException extends BaseException{constructor(e,i){super(e,"PasswordException"),this.code=i}}class UnknownErrorException extends BaseException{constructor(e,i){super(e,"UnknownErrorException"),this.details=i}}class InvalidPDFException extends BaseException{constructor(e){super(e,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(e){super(e,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(e,i){super(e,"UnexpectedResponseException"),this.status=i}}class FormatError extends BaseException{constructor(e){super(e,"FormatError")}}class AbortException extends BaseException{constructor(e){super(e,"AbortException")}}function bytesToString(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&unreachable("Invalid argument for bytesToString");const e=s.length,i=8192;if(e<i)return String.fromCharCode.apply(null,s);const a=[];for(let o=0;o<e;o+=i){const c=Math.min(o+i,e),d=s.subarray(o,c);a.push(String.fromCharCode.apply(null,d))}return a.join("")}function stringToBytes(s){typeof s!="string"&&unreachable("Invalid argument for stringToBytes");const e=s.length,i=new Uint8Array(e);for(let a=0;a<e;++a)i[a]=s.charCodeAt(a)&255;return i}function string32(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function objectFromMap(s){const e=Object.create(null);for(const[i,a]of s)e[i]=a;return e}function isLittleEndian(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):shadow(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,i;return shadow(this,"isCSSRoundSupported",(i=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:i.call(e,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var Xl,i0,Ux;class Util{static makeHexColor(e,i,a){return`#${hexNumbers[e]}${hexNumbers[i]}${hexNumbers[a]}`}static scaleMinMax(e,i){let a;e[0]?(e[0]<0&&(a=i[0],i[0]=i[2],i[2]=a),i[0]*=e[0],i[2]*=e[0],e[3]<0&&(a=i[1],i[1]=i[3],i[3]=a),i[1]*=e[3],i[3]*=e[3]):(a=i[0],i[0]=i[1],i[1]=a,a=i[2],i[2]=i[3],i[3]=a,e[1]<0&&(a=i[1],i[1]=i[3],i[3]=a),i[1]*=e[1],i[3]*=e[1],e[2]<0&&(a=i[0],i[0]=i[2],i[2]=a),i[0]*=e[2],i[2]*=e[2]),i[0]+=e[4],i[1]+=e[5],i[2]+=e[4],i[3]+=e[5]}static transform(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}static applyTransform(e,i){const a=e[0]*i[0]+e[1]*i[2]+i[4],o=e[0]*i[1]+e[1]*i[3]+i[5];return[a,o]}static applyInverseTransform(e,i){const a=i[0]*i[3]-i[1]*i[2],o=(e[0]*i[3]-e[1]*i[2]+i[2]*i[5]-i[4]*i[3])/a,c=(-e[0]*i[1]+e[1]*i[0]+i[4]*i[1]-i[5]*i[0])/a;return[o,c]}static getAxialAlignedBoundingBox(e,i){const a=this.applyTransform(e,i),o=this.applyTransform(e.slice(2,4),i),c=this.applyTransform([e[0],e[3]],i),d=this.applyTransform([e[2],e[1]],i);return[Math.min(a[0],o[0],c[0],d[0]),Math.min(a[1],o[1],c[1],d[1]),Math.max(a[0],o[0],c[0],d[0]),Math.max(a[1],o[1],c[1],d[1])]}static inverseTransform(e){const i=e[0]*e[3]-e[1]*e[2];return[e[3]/i,-e[1]/i,-e[2]/i,e[0]/i,(e[2]*e[5]-e[4]*e[3])/i,(e[4]*e[1]-e[5]*e[0])/i]}static singularValueDecompose2dScale(e){const i=[e[0],e[2],e[1],e[3]],a=e[0]*i[0]+e[1]*i[2],o=e[0]*i[1]+e[1]*i[3],c=e[2]*i[0]+e[3]*i[2],d=e[2]*i[1]+e[3]*i[3],g=(a+d)/2,b=Math.sqrt((a+d)**2-4*(a*d-c*o))/2,_=g+b||1,j=g-b||1;return[Math.sqrt(_),Math.sqrt(j)]}static normalizeRect(e){const i=e.slice(0);return e[0]>e[2]&&(i[0]=e[2],i[2]=e[0]),e[1]>e[3]&&(i[1]=e[3],i[3]=e[1]),i}static intersect(e,i){const a=Math.max(Math.min(e[0],e[2]),Math.min(i[0],i[2])),o=Math.min(Math.max(e[0],e[2]),Math.max(i[0],i[2]));if(a>o)return null;const c=Math.max(Math.min(e[1],e[3]),Math.min(i[1],i[3])),d=Math.min(Math.max(e[1],e[3]),Math.max(i[1],i[3]));return c>d?null:[a,c,o,d]}static bezierBoundingBox(e,i,a,o,c,d,g,b,_){return _?(_[0]=Math.min(_[0],e,g),_[1]=Math.min(_[1],i,b),_[2]=Math.max(_[2],e,g),_[3]=Math.max(_[3],i,b)):_=[Math.min(e,g),Math.min(i,b),Math.max(e,g),Math.max(i,b)],ut(this,Xl,Ux).call(this,e,a,c,g,i,o,d,b,3*(-e+3*(a-c)+g),6*(e-2*a+c),3*(a-e),_),ut(this,Xl,Ux).call(this,e,a,c,g,i,o,d,b,3*(-i+3*(o-d)+b),6*(i-2*o+d),3*(o-i),_),_}}Xl=new WeakSet,i0=function(e,i,a,o,c,d,g,b,_,j){if(_<=0||_>=1)return;const $=1-_,_e=_*_,et=_e*_,tt=$*($*($*e+3*_*i)+3*_e*a)+et*o,it=$*($*($*c+3*_*d)+3*_e*g)+et*b;j[0]=Math.min(j[0],tt),j[1]=Math.min(j[1],it),j[2]=Math.max(j[2],tt),j[3]=Math.max(j[3],it)},Ux=function(e,i,a,o,c,d,g,b,_,j,$,_e){if(Math.abs(_)<1e-12){Math.abs(j)>=1e-12&&ut(this,Xl,i0).call(this,e,i,a,o,c,d,g,b,-$/j,_e);return}const et=j**2-4*$*_;if(et<0)return;const tt=Math.sqrt(et),it=2*_;ut(this,Xl,i0).call(this,e,i,a,o,c,d,g,b,(-j+tt)/it,_e),ut(this,Xl,i0).call(this,e,i,a,o,c,d,g,b,(-j-tt)/it,_e)},pt(Util,Xl);function stringToUTF8String(s){return decodeURIComponent(escape(s))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(s){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),s.replaceAll(NormalizeRegex,(e,i,a)=>i?i.normalize("NFKC"):NormalizationMap.get(a))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const s=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(s);else for(let e=0;e<32;e++)s[e]=Math.floor(Math.random()*255);return bytesToString(s)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function toBase64Util(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(bytesToString(s))}const SVG_NS="http://www.w3.org/2000/svg",Hu=class Hu{};Xn(Hu,"CSS",96),Xn(Hu,"PDF",72),Xn(Hu,"PDF_TO_CSS_UNITS",Hu.CSS/Hu.PDF);let PixelsPerInch=Hu;async function fetchData(s,e="text"){if(isValidFetchUrl(s,document.baseURI)){const i=await fetch(s);if(!i.ok)throw new Error(i.statusText);switch(e){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,a)=>{const o=new XMLHttpRequest;o.open("GET",s,!0),o.responseType=e,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(o.status===200||o.status===0){switch(e){case"arraybuffer":case"blob":case"json":i(o.response);return}i(o.responseText);return}a(new Error(o.statusText))}},o.send(null)})}class PageViewport{constructor({viewBox:e,scale:i,rotation:a,offsetX:o=0,offsetY:c=0,dontFlip:d=!1}){this.viewBox=e,this.scale=i,this.rotation=a,this.offsetX=o,this.offsetY=c;const g=(e[2]+e[0])/2,b=(e[3]+e[1])/2;let _,j,$,_e;switch(a%=360,a<0&&(a+=360),a){case 180:_=-1,j=0,$=0,_e=1;break;case 90:_=0,j=1,$=1,_e=0;break;case 270:_=0,j=-1,$=-1,_e=0;break;case 0:_=1,j=0,$=0,_e=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}d&&($=-$,_e=-_e);let et,tt,it,rt;_===0?(et=Math.abs(b-e[1])*i+o,tt=Math.abs(g-e[0])*i+c,it=(e[3]-e[1])*i,rt=(e[2]-e[0])*i):(et=Math.abs(g-e[0])*i+o,tt=Math.abs(b-e[1])*i+c,it=(e[2]-e[0])*i,rt=(e[3]-e[1])*i),this.transform=[_*i,j*i,$*i,_e*i,et-_*i*g-$*i*b,tt-j*i*g-_e*i*b],this.width=it,this.height=rt}get rawDims(){const{viewBox:e}=this;return shadow(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:i=this.rotation,offsetX:a=this.offsetX,offsetY:o=this.offsetY,dontFlip:c=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:e,rotation:i,offsetX:a,offsetY:o,dontFlip:c})}convertToViewportPoint(e,i){return Util.applyTransform([e,i],this.transform)}convertToViewportRectangle(e){const i=Util.applyTransform([e[0],e[1]],this.transform),a=Util.applyTransform([e[2],e[3]],this.transform);return[i[0],i[1],a[0],a[1]]}convertToPdfPoint(e,i){return Util.applyInverseTransform([e,i],this.transform)}}class RenderingCancelledException extends BaseException{constructor(e,i=0){super(e,"RenderingCancelledException"),this.extraDelay=i}}function isDataScheme(s){const e=s.length;let i=0;for(;i<e&&s[i].trim()==="";)i++;return s.substring(i,i+5).toLowerCase()==="data:"}function isPdfFile(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function getFilenameFromUrl(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(s,e="document.pdf"){if(typeof s!="string")return e;if(isDataScheme(s))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=i.exec(s);let c=a.exec(o[1])||a.exec(o[2])||a.exec(o[3]);if(c&&(c=c[0],c.includes("%")))try{c=a.exec(decodeURIComponent(c))[0]}catch{}return c||e}class StatTimer{constructor(){Xn(this,"started",Object.create(null));Xn(this,"times",[])}time(e){e in this.started&&warn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||warn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let i=0;for(const{name:a}of this.times)i=Math.max(a.length,i);for(const{name:a,start:o,end:c}of this.times)e.push(`${a.padEnd(i)} ${c-o}ms
`);return e.join("")}}function isValidFetchUrl(s,e){try{const{protocol:i}=e?new URL(s,e):new URL(s);return i==="http:"||i==="https:"}catch{return!1}}function noContextMenu(s){s.preventDefault()}function deprecated(s){console.log("Deprecated API usage: "+s)}var xv;class PDFDateString{static toDateObject(e){if(!e||typeof e!="string")return null;h(this,xv)||dt(this,xv,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=h(this,xv).exec(e);if(!i)return null;const a=parseInt(i[1],10);let o=parseInt(i[2],10);o=o>=1&&o<=12?o-1:0;let c=parseInt(i[3],10);c=c>=1&&c<=31?c:1;let d=parseInt(i[4],10);d=d>=0&&d<=23?d:0;let g=parseInt(i[5],10);g=g>=0&&g<=59?g:0;let b=parseInt(i[6],10);b=b>=0&&b<=59?b:0;const _=i[7]||"Z";let j=parseInt(i[8],10);j=j>=0&&j<=23?j:0;let $=parseInt(i[9],10)||0;return $=$>=0&&$<=59?$:0,_==="-"?(d+=j,g+=$):_==="+"&&(d-=j,g-=$),new Date(Date.UTC(a,o,c,d,g,b))}}xv=new WeakMap,pt(PDFDateString,xv);function getXfaPageViewport(s,{scale:e=1,rotation:i=0}){const{width:a,height:o}=s.attributes.style,c=[0,0,parseInt(a),parseInt(o)];return new PageViewport({viewBox:c,scale:e,rotation:i})}function getRGB(s){if(s.startsWith("#")){const e=parseInt(s.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(e=>parseInt(e)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(warn(`Not a valid color format: "${s}"`),[0,0,0])}function getColorValues(s){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const i of s.keys()){e.style.color=i;const a=window.getComputedStyle(e).color;s.set(i,getRGB(a))}e.remove()}function getCurrentTransform(s){const{a:e,b:i,c:a,d:o,e:c,f:d}=s.getTransform();return[e,i,a,o,c,d]}function getCurrentTransformInverse(s){const{a:e,b:i,c:a,d:o,e:c,f:d}=s.getTransform().invertSelf();return[e,i,a,o,c,d]}function setLayerDimensions(s,e,i=!1,a=!0){if(e instanceof PageViewport){const{pageWidth:o,pageHeight:c}=e.rawDims,{style:d}=s,g=util_FeatureTest.isCSSRoundSupported,b=`var(--scale-factor) * ${o}px`,_=`var(--scale-factor) * ${c}px`,j=g?`round(down, ${b}, var(--scale-round-x, 1px))`:`calc(${b})`,$=g?`round(down, ${_}, var(--scale-round-y, 1px))`:`calc(${_})`;!i||e.rotation%180===0?(d.width=j,d.height=$):(d.width=$,d.height=j)}a&&s.setAttribute("data-main-rotation",e.rotation)}class OutputScale{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var su,$u,vo,zu,wv,Ev,L0,UE,Vr,$E,zE,s0,VE,$x;const yl=class yl{constructor(e){pt(this,Vr);pt(this,su,null);pt(this,$u,null);pt(this,vo);pt(this,zu,null);pt(this,wv,null);dt(this,vo,e),h(yl,Ev)||dt(yl,Ev,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=dt(this,su,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const i=h(this,vo)._uiManager._signal;e.addEventListener("contextmenu",noContextMenu,{signal:i}),e.addEventListener("pointerdown",ut(yl,L0,UE),{signal:i});const a=dt(this,zu,document.createElement("div"));a.className="buttons",e.append(a);const o=h(this,vo).toolbarPosition;if(o){const{style:c}=e,d=h(this,vo)._uiManager.direction==="ltr"?1-o[0]:o[0];c.insetInlineEnd=`${100*d}%`,c.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return ut(this,Vr,VE).call(this),e}get div(){return h(this,su)}hide(){var e;h(this,su).classList.add("hidden"),(e=h(this,$u))==null||e.hideDropdown()}show(){var e;h(this,su).classList.remove("hidden"),(e=h(this,wv))==null||e.shown()}async addAltText(e){const i=await e.render();ut(this,Vr,s0).call(this,i),h(this,zu).prepend(i,h(this,Vr,$x)),dt(this,wv,e)}addColorPicker(e){dt(this,$u,e);const i=e.renderButton();ut(this,Vr,s0).call(this,i),h(this,zu).prepend(i,h(this,Vr,$x))}remove(){var e;h(this,su).remove(),(e=h(this,$u))==null||e.destroy(),dt(this,$u,null)}};su=new WeakMap,$u=new WeakMap,vo=new WeakMap,zu=new WeakMap,wv=new WeakMap,Ev=new WeakMap,L0=new WeakSet,UE=function(e){e.stopPropagation()},Vr=new WeakSet,$E=function(e){h(this,vo)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},zE=function(e){h(this,vo)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},s0=function(e){const i=h(this,vo)._uiManager._signal;e.addEventListener("focusin",ut(this,Vr,$E).bind(this),{capture:!0,signal:i}),e.addEventListener("focusout",ut(this,Vr,zE).bind(this),{capture:!0,signal:i}),e.addEventListener("contextmenu",noContextMenu,{signal:i})},VE=function(){const{editorType:e,_uiManager:i}=h(this,vo),a=document.createElement("button");a.className="delete",a.tabIndex=0,a.setAttribute("data-l10n-id",h(yl,Ev)[e]),ut(this,Vr,s0).call(this,a),a.addEventListener("click",o=>{i.delete()},{signal:i._signal}),h(this,zu).append(a)},$x=function(){const e=document.createElement("div");return e.className="divider",e},pt(yl,L0),pt(yl,Ev,null);let EditorToolbar=yl;var Av,Vu,Wu,Mu,WE,GE,XE;class HighlightToolbar{constructor(e){pt(this,Mu);pt(this,Av,null);pt(this,Vu,null);pt(this,Wu);dt(this,Wu,e)}show(e,i,a){const[o,c]=ut(this,Mu,GE).call(this,i,a),{style:d}=h(this,Vu)||dt(this,Vu,ut(this,Mu,WE).call(this));e.append(h(this,Vu)),d.insetInlineEnd=`${100*o}%`,d.top=`calc(${100*c}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Vu).remove()}}Av=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,Mu=new WeakSet,WE=function(){const e=dt(this,Vu,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",noContextMenu,{signal:h(this,Wu)._signal});const i=dt(this,Av,document.createElement("div"));return i.className="buttons",e.append(i),ut(this,Mu,XE).call(this),e},GE=function(e,i){let a=0,o=0;for(const c of e){const d=c.y+c.height;if(d<a)continue;const g=c.x+(i?c.width:0);if(d>a){o=g,a=d;continue}i?g>o&&(o=g):g<o&&(o=g)}return[i?1-o:o,a]},XE=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");e.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const a=h(this,Wu)._signal;e.addEventListener("contextmenu",noContextMenu,{signal:a}),e.addEventListener("click",()=>{h(this,Wu).highlightSelection("floating_button")},{signal:a}),h(this,Av).append(e)};function bindEvents(s,e,i){for(const a of i)e.addEventListener(a,s[a].bind(s))}function opacityToHex(s){return Math.round(Math.min(255,Math.max(1,255*s))).toString(16).padStart(2,"0")}var F0;class IdManager{constructor(){pt(this,F0,0)}get id(){return`${AnnotationEditorPrefix}${yr(this,F0)._++}`}}F0=new WeakMap;var Jp,_v,Nr,_g,r0;const Nw=class Nw{constructor(){pt(this,_g);pt(this,Jp,getUuid());pt(this,_v,0);pt(this,Nr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;o.src=e;const c=o.decode().then(()=>(a.drawImage(o,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",c)}async getFromFile(e){const{lastModified:i,name:a,size:o,type:c}=e;return ut(this,_g,r0).call(this,`${i}_${a}_${o}_${c}`,e)}async getFromUrl(e){return ut(this,_g,r0).call(this,e,e)}async getFromBlob(e,i){const a=await i;return ut(this,_g,r0).call(this,e,a)}async getFromId(e){h(this,Nr)||dt(this,Nr,new Map);const i=h(this,Nr).get(e);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:a}=i;return delete i.blobPromise,this.getFromBlob(i.id,a)}return this.getFromUrl(i.url)}getFromCanvas(e,i){h(this,Nr)||dt(this,Nr,new Map);let a=h(this,Nr).get(e);if(a!=null&&a.bitmap)return a.refCounter+=1,a;const o=new OffscreenCanvas(i.width,i.height);return o.getContext("2d").drawImage(i,0,0),a={bitmap:o.transferToImageBitmap(),id:`image_${h(this,Jp)}_${yr(this,_v)._++}`,refCounter:1,isSvg:!1},h(this,Nr).set(e,a),h(this,Nr).set(a.id,a),a}getSvgUrl(e){const i=h(this,Nr).get(e);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(e){var o;h(this,Nr)||dt(this,Nr,new Map);const i=h(this,Nr).get(e);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:a}=i;if(!i.url&&!i.file){const c=new OffscreenCanvas(a.width,a.height);c.getContext("bitmaprenderer").transferFromImageBitmap(a),i.blobPromise=c.convertToBlob()}(o=a.close)==null||o.call(a),i.bitmap=null}isValidId(e){return e.startsWith(`image_${h(this,Jp)}_`)}};Jp=new WeakMap,_v=new WeakMap,Nr=new WeakMap,_g=new WeakSet,r0=async function(e,i){h(this,Nr)||dt(this,Nr,new Map);let a=h(this,Nr).get(e);if(a===null)return null;if(a!=null&&a.bitmap)return a.refCounter+=1,a;try{a||(a={bitmap:null,id:`image_${h(this,Jp)}_${yr(this,_v)._++}`,refCounter:0,isSvg:!1});let o;if(typeof i=="string"?(a.url=i,o=await fetchData(i,"blob")):i instanceof File?o=a.file=i:i instanceof Blob&&(o=i),o.type==="image/svg+xml"){const c=Nw._isSVGFittingCanvas,d=new FileReader,g=new Image,b=new Promise((_,j)=>{g.onload=()=>{a.bitmap=g,a.isSvg=!0,_()},d.onload=async()=>{const $=a.svgUrl=d.result;g.src=await c?`${$}#svgView(preserveAspectRatio(none))`:$},g.onerror=d.onerror=j});d.readAsDataURL(o),await b}else a.bitmap=await createImageBitmap(o);a.refCounter=1}catch(o){console.error(o),a=null}return h(this,Nr).set(e,a),a&&h(this,Nr).set(a.id,a),a};let ImageManager=Nw;var Cr,ru,Sv,Rr;class CommandManager{constructor(e=128){pt(this,Cr,[]);pt(this,ru,!1);pt(this,Sv);pt(this,Rr,-1);dt(this,Sv,e)}add({cmd:e,undo:i,post:a,mustExec:o,type:c=NaN,overwriteIfSameType:d=!1,keepUndo:g=!1}){if(o&&e(),h(this,ru))return;const b={cmd:e,undo:i,post:a,type:c};if(h(this,Rr)===-1){h(this,Cr).length>0&&(h(this,Cr).length=0),dt(this,Rr,0),h(this,Cr).push(b);return}if(d&&h(this,Cr)[h(this,Rr)].type===c){g&&(b.undo=h(this,Cr)[h(this,Rr)].undo),h(this,Cr)[h(this,Rr)]=b;return}const _=h(this,Rr)+1;_===h(this,Sv)?h(this,Cr).splice(0,1):(dt(this,Rr,_),_<h(this,Cr).length&&h(this,Cr).splice(_)),h(this,Cr).push(b)}undo(){if(h(this,Rr)===-1)return;dt(this,ru,!0);const{undo:e,post:i}=h(this,Cr)[h(this,Rr)];e(),i==null||i(),dt(this,ru,!1),dt(this,Rr,h(this,Rr)-1)}redo(){if(h(this,Rr)<h(this,Cr).length-1){dt(this,Rr,h(this,Rr)+1),dt(this,ru,!0);const{cmd:e,post:i}=h(this,Cr)[h(this,Rr)];e(),i==null||i(),dt(this,ru,!1)}}hasSomethingToUndo(){return h(this,Rr)!==-1}hasSomethingToRedo(){return h(this,Rr)<h(this,Cr).length-1}destroy(){dt(this,Cr,null)}}Cr=new WeakMap,ru=new WeakMap,Sv=new WeakMap,Rr=new WeakMap;var I0,qE;class KeyboardManager{constructor(e){pt(this,I0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=util_FeatureTest.platform;for(const[a,o,c={}]of e)for(const d of a){const g=d.startsWith("mac+");i&&g?(this.callbacks.set(d.slice(4),{callback:o,options:c}),this.allKeys.add(d.split("+").at(-1))):!i&&!g&&(this.callbacks.set(d,{callback:o,options:c}),this.allKeys.add(d.split("+").at(-1)))}}exec(e,i){if(!this.allKeys.has(i.key))return;const a=this.callbacks.get(ut(this,I0,qE).call(this,i));if(!a)return;const{callback:o,options:{bubbles:c=!1,args:d=[],checker:g=null}}=a;g&&!g(e,i)||(o.bind(e,...d,i)(),c||(i.stopPropagation(),i.preventDefault()))}}I0=new WeakSet,qE=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const j0=class j0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(e),shadow(this,"_colors",e)}convert(e){const i=getRGB(e);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[a,o]of this._colors)if(o.every((c,d)=>c===i[d]))return j0._colorsMapping.get(a);return i}getHexCode(e){const i=this._colors.get(e);return i?Util.makeHexColor(...i):e}};Xn(j0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=j0;var em,na,xr,Fr,tm,wl,nm,yo,au,im,Gu,Io,bo,Xu,Cv,Rv,sm,Tv,jo,ou,rm,lu,Do,D0,cu,kv,uu,qu,Pv,Mv,Tr,Vs,El,Ku,Lv,Fv,du,Oo,Al,Iv,ro,Wn,a0,zx,KE,YE,o0,QE,ZE,JE,Vx,eA,Wx,Gx,tA,$r,nu,nA,iA,Xx,sA,rv,qx;const Zp=class Zp{constructor(e,i,a,o,c,d,g,b,_,j,$){pt(this,Wn);pt(this,em,new AbortController);pt(this,na,null);pt(this,xr,new Map);pt(this,Fr,new Map);pt(this,tm,null);pt(this,wl,null);pt(this,nm,null);pt(this,yo,new CommandManager);pt(this,au,null);pt(this,im,0);pt(this,Gu,new Set);pt(this,Io,null);pt(this,bo,null);pt(this,Xu,new Set);pt(this,Cv,!1);pt(this,Rv,!1);pt(this,sm,!1);pt(this,Tv,null);pt(this,jo,null);pt(this,ou,null);pt(this,rm,null);pt(this,lu,!1);pt(this,Do,null);pt(this,D0,new IdManager);pt(this,cu,!1);pt(this,kv,!1);pt(this,uu,null);pt(this,qu,null);pt(this,Pv,null);pt(this,Mv,null);pt(this,Tr,AnnotationEditorType.NONE);pt(this,Vs,new Set);pt(this,El,null);pt(this,Ku,null);pt(this,Lv,null);pt(this,Fv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});pt(this,du,[0,0]);pt(this,Oo,null);pt(this,Al,null);pt(this,Iv,null);pt(this,ro,null);const _e=this._signal=h(this,em).signal;dt(this,Al,e),dt(this,Iv,i),dt(this,tm,a),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:_e}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:_e}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:_e}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:_e}),o._on("setpreference",this.onSetPreference.bind(this),{signal:_e}),o._on("switchannotationeditorparams",et=>this.updateParams(et.type,et.value),{signal:_e}),ut(this,Wn,QE).call(this),ut(this,Wn,tA).call(this),ut(this,Wn,Vx).call(this),dt(this,wl,c.annotationStorage),dt(this,Tv,c.filterFactory),dt(this,Ku,d),dt(this,rm,g||null),dt(this,Cv,b),dt(this,Rv,_),dt(this,sm,j),dt(this,Mv,$||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Zp.prototype,i=d=>h(d,Al).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&d.hasSomethingToControl(),a=(d,{target:g})=>{if(g instanceof HTMLInputElement){const{type:b}=g;return b!=="text"&&b!=="number"}return!0},o=this.TRANSLATE_SMALL,c=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],e.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:a}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(d,{target:g})=>!(g instanceof HTMLButtonElement)&&h(d,Al).contains(g)&&!d.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(d,{target:g})=>!(g instanceof HTMLButtonElement)&&h(d,Al).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-c,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[c,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-c],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,c],checker:i}]]))}destroy(){var e,i,a,o;(e=h(this,ro))==null||e.resolve(),dt(this,ro,null),(i=h(this,em))==null||i.abort(),dt(this,em,null),this._signal=null;for(const c of h(this,Fr).values())c.destroy();h(this,Fr).clear(),h(this,xr).clear(),h(this,Xu).clear(),dt(this,na,null),h(this,Vs).clear(),h(this,yo).destroy(),(a=h(this,tm))==null||a.destroy(),(o=h(this,Do))==null||o.hide(),dt(this,Do,null),h(this,jo)&&(clearTimeout(h(this,jo)),dt(this,jo,null)),h(this,Oo)&&(clearTimeout(h(this,Oo)),dt(this,Oo,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return h(this,Mv)}get useNewAltTextFlow(){return h(this,Rv)}get useNewAltTextWhenAddingImage(){return h(this,sm)}get hcmFilter(){return shadow(this,"hcmFilter",h(this,Ku)?h(this,Tv).addHCMFilter(h(this,Ku).foreground,h(this,Ku).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(h(this,Al)).direction)}get highlightColors(){return shadow(this,"highlightColors",h(this,rm)?new Map(h(this,rm).split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){dt(this,Pv,e)}editAltText(e,i=!1){var a;(a=h(this,tm))==null||a.editAltText(this,e,i)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":dt(this,sm,i);break}}onPageChanging({pageNumber:e}){dt(this,im,e-1)}focusMainContainer(){h(this,Al).focus()}findParent(e,i){for(const a of h(this,Fr).values()){const{x:o,y:c,width:d,height:g}=a.div.getBoundingClientRect();if(e>=o&&e<=o+d&&i>=c&&i<=c+g)return a}return null}disableUserSelect(e=!1){h(this,Iv).classList.toggle("noUserSelect",e)}addShouldRescale(e){h(this,Xu).add(e)}removeShouldRescale(e){h(this,Xu).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*PixelsPerInch.PDF_TO_CSS_UNITS;for(const i of h(this,Xu))i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:a,anchorOffset:o,focusNode:c,focusOffset:d}=i,g=i.toString(),_=ut(this,Wn,a0).call(this,i).closest(".textLayer"),j=this.getSelectionBoxes(_);if(!j)return;i.empty();const $=ut(this,Wn,zx).call(this,_),_e=h(this,Tr)===AnnotationEditorType.NONE,et=()=>{$==null||$.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:j,anchorNode:a,anchorOffset:o,focusNode:c,focusOffset:d,text:g}),_e&&this.showAllEditors("highlight",!0,!0)};if(_e){this.switchToMode(AnnotationEditorType.HIGHLIGHT,et);return}et()}addToAnnotationStorage(e){!e.isEmpty()&&h(this,wl)&&!h(this,wl).has(e.id)&&h(this,wl).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,h(this,lu)&&(dt(this,lu,!1),ut(this,Wn,o0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of h(this,Vs))if(i.div.contains(e)){dt(this,qu,[i,e]),i._focusEventsAllowed=!1;break}}focus(){if(!h(this,qu))return;const[e,i]=h(this,qu);dt(this,qu,null),i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){ut(this,Wn,Vx).call(this),ut(this,Wn,Wx).call(this)}removeEditListeners(){ut(this,Wn,eA).call(this),ut(this,Wn,Gx).call(this)}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const a of h(this,bo))if(a.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const i of e.dataTransfer.items)for(const a of h(this,bo))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){var a;if(e.preventDefault(),(a=h(this,na))==null||a.commitOrRemove(),!this.hasSelection)return;const i=[];for(const o of h(this,Vs)){const c=o.serialize(!0);c&&i.push(c)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:i}=e;for(const c of i.items)for(const d of h(this,bo))if(d.isHandlingMimeForPasting(c.type)){d.paste(c,this.currentLayer);return}let a=i.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(c){warn(`paste: "${c.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const o=this.currentLayer;try{const c=[];for(const b of a){const _=await o.deserialize(b);if(!_)return;c.push(_)}const d=()=>{for(const b of c)ut(this,Wn,Xx).call(this,b);ut(this,Wn,qx).call(this,c)},g=()=>{for(const b of c)b.remove()};this.addCommands({cmd:d,undo:g,mustExec:!0})}catch(c){warn(`paste: "${c.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Tr)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&Zp._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,lu)&&(dt(this,lu,!1),ut(this,Wn,o0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(ut(this,Wn,ZE).call(this),ut(this,Wn,Wx).call(this),ut(this,Wn,$r).call(this,{isEditing:h(this,Tr)!==AnnotationEditorType.NONE,isEmpty:ut(this,Wn,rv).call(this),hasSomethingToUndo:h(this,yo).hasSomethingToUndo(),hasSomethingToRedo:h(this,yo).hasSomethingToRedo(),hasSelectedEditor:!1})):(ut(this,Wn,JE).call(this),ut(this,Wn,Gx).call(this),ut(this,Wn,$r).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!h(this,bo)){dt(this,bo,e);for(const i of h(this,bo))ut(this,Wn,nu).call(this,i.defaultPropertiesToUpdate)}}getId(){return h(this,D0).id}get currentLayer(){return h(this,Fr).get(h(this,im))}getLayer(e){return h(this,Fr).get(e)}get currentPageIndex(){return h(this,im)}addLayer(e){h(this,Fr).set(e.pageIndex,e),h(this,cu)?e.enable():e.disable()}removeLayer(e){h(this,Fr).delete(e.pageIndex)}async updateMode(e,i=null,a=!1){if(h(this,Tr)!==e&&!(h(this,ro)&&(await h(this,ro).promise,!h(this,ro)))){if(dt(this,ro,Promise.withResolvers()),dt(this,Tr,e),e===AnnotationEditorType.NONE){this.setEditingState(!1),ut(this,Wn,iA).call(this),h(this,ro).resolve();return}this.setEditingState(!0),await ut(this,Wn,nA).call(this),this.unselectAll();for(const o of h(this,Fr).values())o.updateMode(e);if(!i){a&&this.addNewEditorFromKeyboard(),h(this,ro).resolve();return}for(const o of h(this,xr).values())o.annotationElementId===i?(this.setSelected(o),o.enterInEditMode()):o.unselect();h(this,ro).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==h(this,Tr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){var a;if(h(this,bo)){switch(e){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(a=h(this,Pv))==null||a.updateColor(i);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Lv)||dt(this,Lv,new Map)).set(e,i),this.showAllEditors("highlight",i);break}for(const o of h(this,Vs))o.updateParams(e,i);for(const o of h(this,bo))o.updateDefaultParams(e,i)}}showAllEditors(e,i,a=!1){var c;for(const d of h(this,xr).values())d.editorType===e&&d.show(i);(((c=h(this,Lv))==null?void 0:c.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==i&&ut(this,Wn,nu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(h(this,kv)!==e){dt(this,kv,e);for(const i of h(this,Fr).values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}getEditors(e){const i=[];for(const a of h(this,xr).values())a.pageIndex===e&&i.push(a);return i}getEditor(e){return h(this,xr).get(e)}addEditor(e){h(this,xr).set(e.id,e)}removeEditor(e){var i;e.div.contains(document.activeElement)&&(h(this,jo)&&clearTimeout(h(this,jo)),dt(this,jo,setTimeout(()=>{this.focusMainContainer(),dt(this,jo,null)},0))),h(this,xr).delete(e.id),this.unselect(e),(!e.annotationElementId||!h(this,Gu).has(e.annotationElementId))&&((i=h(this,wl))==null||i.remove(e.id))}addDeletedAnnotationElement(e){h(this,Gu).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return h(this,Gu).has(e)}removeDeletedAnnotationElement(e){h(this,Gu).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){h(this,na)!==e&&(dt(this,na,e),e&&ut(this,Wn,nu).call(this,e.propertiesToUpdate))}updateUI(e){h(this,Wn,sA)===e&&ut(this,Wn,nu).call(this,e.propertiesToUpdate)}toggleSelected(e){if(h(this,Vs).has(e)){h(this,Vs).delete(e),e.unselect(),ut(this,Wn,$r).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Vs).add(e),e.select(),ut(this,Wn,nu).call(this,e.propertiesToUpdate),ut(this,Wn,$r).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const i of h(this,Vs))i!==e&&i.unselect();h(this,Vs).clear(),h(this,Vs).add(e),e.select(),ut(this,Wn,nu).call(this,e.propertiesToUpdate),ut(this,Wn,$r).call(this,{hasSelectedEditor:!0})}isSelected(e){return h(this,Vs).has(e)}get firstSelectedEditor(){return h(this,Vs).values().next().value}unselect(e){e.unselect(),h(this,Vs).delete(e),ut(this,Wn,$r).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Vs).size!==0}get isEnterHandled(){return h(this,Vs).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,yo).undo(),ut(this,Wn,$r).call(this,{hasSomethingToUndo:h(this,yo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ut(this,Wn,rv).call(this)})}redo(){h(this,yo).redo(),ut(this,Wn,$r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,yo).hasSomethingToRedo(),isEmpty:ut(this,Wn,rv).call(this)})}addCommands(e){h(this,yo).add(e),ut(this,Wn,$r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ut(this,Wn,rv).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...h(this,Vs)],i=()=>{for(const o of e)o.remove()},a=()=>{for(const o of e)ut(this,Wn,Xx).call(this,o)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){var e;(e=h(this,na))==null||e.commitOrRemove()}hasSomethingToControl(){return h(this,na)||this.hasSelection}selectAll(){for(const e of h(this,Vs))e.commit();ut(this,Wn,qx).call(this,h(this,xr).values())}unselectAll(){if(!(h(this,na)&&(h(this,na).commitOrRemove(),h(this,Tr)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const e of h(this,Vs))e.unselect();h(this,Vs).clear(),ut(this,Wn,$r).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,i,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;h(this,du)[0]+=e,h(this,du)[1]+=i;const[o,c]=h(this,du),d=[...h(this,Vs)],g=1e3;h(this,Oo)&&clearTimeout(h(this,Oo)),dt(this,Oo,setTimeout(()=>{dt(this,Oo,null),h(this,du)[0]=h(this,du)[1]=0,this.addCommands({cmd:()=>{for(const b of d)h(this,xr).has(b.id)&&b.translateInPage(o,c)},undo:()=>{for(const b of d)h(this,xr).has(b.id)&&b.translateInPage(-o,-c)},mustExec:!1})},g));for(const b of d)b.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),dt(this,Io,new Map);for(const e of h(this,Vs))h(this,Io).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Io))return!1;this.disableUserSelect(!1);const e=h(this,Io);dt(this,Io,null);let i=!1;for(const[{x:o,y:c,pageIndex:d},g]of e)g.newX=o,g.newY=c,g.newPageIndex=d,i||(i=o!==g.savedX||c!==g.savedY||d!==g.savedPageIndex);if(!i)return!1;const a=(o,c,d,g)=>{if(h(this,xr).has(o.id)){const b=h(this,Fr).get(g);b?o._setParentAndPosition(b,c,d):(o.pageIndex=g,o.x=c,o.y=d)}};return this.addCommands({cmd:()=>{for(const[o,{newX:c,newY:d,newPageIndex:g}]of e)a(o,c,d,g)},undo:()=>{for(const[o,{savedX:c,savedY:d,savedPageIndex:g}]of e)a(o,c,d,g)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(h(this,Io))for(const a of h(this,Io).keys())a.drag(e,i)}rebuild(e){if(e.parent===null){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||h(this,Vs).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return h(this,na)===e}getActive(){return h(this,na)}getMode(){return h(this,Tr)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let _=0,j=i.rangeCount;_<j;_++)if(!e.contains(i.getRangeAt(_).commonAncestorContainer))return null;const{x:a,y:o,width:c,height:d}=e.getBoundingClientRect();let g;switch(e.getAttribute("data-main-rotation")){case"90":g=(_,j,$,_e)=>({x:(j-o)/d,y:1-(_+$-a)/c,width:_e/d,height:$/c});break;case"180":g=(_,j,$,_e)=>({x:1-(_+$-a)/c,y:1-(j+_e-o)/d,width:$/c,height:_e/d});break;case"270":g=(_,j,$,_e)=>({x:1-(j+_e-o)/d,y:(_-a)/c,width:_e/d,height:$/c});break;default:g=(_,j,$,_e)=>({x:(_-a)/c,y:(j-o)/d,width:$/c,height:_e/d});break}const b=[];for(let _=0,j=i.rangeCount;_<j;_++){const $=i.getRangeAt(_);if(!$.collapsed)for(const{x:_e,y:et,width:tt,height:it}of $.getClientRects())tt===0||it===0||b.push(g(_e,et,tt,it))}return b.length===0?null:b}addChangedExistingAnnotation({annotationElementId:e,id:i}){(h(this,nm)||dt(this,nm,new Map)).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){var i;(i=h(this,nm))==null||i.delete(e)}renderAnnotationElement(e){var o;const i=(o=h(this,nm))==null?void 0:o.get(e.data.id);if(!i)return;const a=h(this,wl).getRawValue(i);a&&(h(this,Tr)===AnnotationEditorType.NONE&&!a.hasBeenModified||a.renderAnnotationElement(e))}};em=new WeakMap,na=new WeakMap,xr=new WeakMap,Fr=new WeakMap,tm=new WeakMap,wl=new WeakMap,nm=new WeakMap,yo=new WeakMap,au=new WeakMap,im=new WeakMap,Gu=new WeakMap,Io=new WeakMap,bo=new WeakMap,Xu=new WeakMap,Cv=new WeakMap,Rv=new WeakMap,sm=new WeakMap,Tv=new WeakMap,jo=new WeakMap,ou=new WeakMap,rm=new WeakMap,lu=new WeakMap,Do=new WeakMap,D0=new WeakMap,cu=new WeakMap,kv=new WeakMap,uu=new WeakMap,qu=new WeakMap,Pv=new WeakMap,Mv=new WeakMap,Tr=new WeakMap,Vs=new WeakMap,El=new WeakMap,Ku=new WeakMap,Lv=new WeakMap,Fv=new WeakMap,du=new WeakMap,Oo=new WeakMap,Al=new WeakMap,Iv=new WeakMap,ro=new WeakMap,Wn=new WeakSet,a0=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},zx=function(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const a of h(this,Fr).values())if(a.hasTextLayer(e))return a;return null},KE=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const a=ut(this,Wn,a0).call(this,e).closest(".textLayer"),o=this.getSelectionBoxes(a);o&&(h(this,Do)||dt(this,Do,new HighlightToolbar(this)),h(this,Do).show(a,o,this.direction==="ltr"))},YE=function(){var c,d,g;const e=document.getSelection();if(!e||e.isCollapsed){h(this,El)&&((c=h(this,Do))==null||c.hide(),dt(this,El,null),ut(this,Wn,$r).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=e;if(i===h(this,El))return;const o=ut(this,Wn,a0).call(this,e).closest(".textLayer");if(!o){h(this,El)&&((d=h(this,Do))==null||d.hide(),dt(this,El,null),ut(this,Wn,$r).call(this,{hasSelectedText:!1}));return}if((g=h(this,Do))==null||g.hide(),dt(this,El,i),ut(this,Wn,$r).call(this,{hasSelectedText:!0}),!(h(this,Tr)!==AnnotationEditorType.HIGHLIGHT&&h(this,Tr)!==AnnotationEditorType.NONE)&&(h(this,Tr)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),dt(this,lu,this.isShiftKeyDown),!this.isShiftKeyDown)){const b=h(this,Tr)===AnnotationEditorType.HIGHLIGHT?ut(this,Wn,zx).call(this,o):null;b==null||b.toggleDrawing();const _=new AbortController,j=this.combinedSignal(_),$=_e=>{_e.type==="pointerup"&&_e.button!==0||(_.abort(),b==null||b.toggleDrawing(!0),_e.type==="pointerup"&&ut(this,Wn,o0).call(this,"main_toolbar"))};window.addEventListener("pointerup",$,{signal:j}),window.addEventListener("blur",$,{signal:j})}},o0=function(e=""){h(this,Tr)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(e):h(this,Cv)&&ut(this,Wn,KE).call(this)},QE=function(){document.addEventListener("selectionchange",ut(this,Wn,YE).bind(this),{signal:this._signal})},ZE=function(){if(h(this,ou))return;dt(this,ou,new AbortController);const e=this.combinedSignal(h(this,ou));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},JE=function(){var e;(e=h(this,ou))==null||e.abort(),dt(this,ou,null)},Vx=function(){if(h(this,uu))return;dt(this,uu,new AbortController);const e=this.combinedSignal(h(this,uu));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},eA=function(){var e;(e=h(this,uu))==null||e.abort(),dt(this,uu,null)},Wx=function(){if(h(this,au))return;dt(this,au,new AbortController);const e=this.combinedSignal(h(this,au));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Gx=function(){var e;(e=h(this,au))==null||e.abort(),dt(this,au,null)},tA=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},$r=function(e){Object.entries(e).some(([a,o])=>h(this,Fv)[a]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Fv),e)}),h(this,Tr)===AnnotationEditorType.HIGHLIGHT&&e.hasSelectedEditor===!1&&ut(this,Wn,nu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},nu=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},nA=async function(){if(!h(this,cu)){dt(this,cu,!0);const e=[];for(const i of h(this,Fr).values())e.push(i.enable());await Promise.all(e);for(const i of h(this,xr).values())i.enable()}},iA=function(){if(this.unselectAll(),h(this,cu)){dt(this,cu,!1);for(const e of h(this,Fr).values())e.disable();for(const e of h(this,xr).values())e.disable()}},Xx=function(e){const i=h(this,Fr).get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},sA=function(){let e=null;for(e of h(this,Vs));return e},rv=function(){if(h(this,xr).size===0)return!0;if(h(this,xr).size===1)for(const e of h(this,xr).values())return e.isEmpty();return!1},qx=function(e){for(const i of h(this,Vs))i.unselect();h(this,Vs).clear();for(const i of e)i.isEmpty()||(h(this,Vs).add(i),i.select());ut(this,Wn,$r).call(this,{hasSelectedEditor:this.hasSelection})},Xn(Zp,"TRANSLATE_SMALL",1),Xn(Zp,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=Zp;var kr,No,xo,am,Bo,ga,om,Ho,qr,_l,Yu,Uo,hu,Po,av,l0;const zr=class zr{constructor(e){pt(this,Po);pt(this,kr,null);pt(this,No,!1);pt(this,xo,null);pt(this,am,null);pt(this,Bo,null);pt(this,ga,null);pt(this,om,!1);pt(this,Ho,null);pt(this,qr,null);pt(this,_l,null);pt(this,Yu,null);pt(this,Uo,!1);dt(this,qr,e),dt(this,Uo,e._uiManager.useNewAltTextFlow),h(zr,hu)||dt(zr,hu,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){zr._l10n??(zr._l10n=e)}async render(){const e=dt(this,xo,document.createElement("button"));e.className="altText",e.tabIndex="0";const i=dt(this,am,document.createElement("span"));e.append(i),h(this,Uo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",h(zr,hu).missing),i.setAttribute("data-l10n-id",h(zr,hu)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const a=h(this,qr)._uiManager._signal;e.addEventListener("contextmenu",noContextMenu,{signal:a}),e.addEventListener("pointerdown",c=>c.stopPropagation(),{signal:a});const o=c=>{c.preventDefault(),h(this,qr)._uiManager.editAltText(h(this,qr)),h(this,Uo)&&h(this,qr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Po,av)}})};return e.addEventListener("click",o,{capture:!0,signal:a}),e.addEventListener("keydown",c=>{c.target===e&&c.key==="Enter"&&(dt(this,om,!0),o(c))},{signal:a}),await ut(this,Po,l0).call(this),e}finish(){h(this,xo)&&(h(this,xo).focus({focusVisible:h(this,om)}),dt(this,om,!1))}isEmpty(){return h(this,Uo)?h(this,kr)===null:!h(this,kr)&&!h(this,No)}hasData(){return h(this,Uo)?h(this,kr)!==null||!!h(this,_l):this.isEmpty()}get guessedText(){return h(this,_l)}async setGuessedText(e){h(this,kr)===null&&(dt(this,_l,e),dt(this,Yu,await zr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ut(this,Po,l0).call(this))}toggleAltTextBadge(e=!1){var i;if(!h(this,Uo)||h(this,kr)){(i=h(this,Ho))==null||i.remove(),dt(this,Ho,null);return}if(!h(this,Ho)){const a=dt(this,Ho,document.createElement("div"));a.className="noAltTextBadge",h(this,qr).div.append(a)}h(this,Ho).classList.toggle("hidden",!e)}serialize(e){let i=h(this,kr);return!e&&h(this,_l)===i&&(i=h(this,Yu)),{altText:i,decorative:h(this,No),guessedText:h(this,_l),textWithDisclaimer:h(this,Yu)}}get data(){return{altText:h(this,kr),decorative:h(this,No)}}set data({altText:e,decorative:i,guessedText:a,textWithDisclaimer:o,cancel:c=!1}){a&&(dt(this,_l,a),dt(this,Yu,o)),!(h(this,kr)===e&&h(this,No)===i)&&(c||(dt(this,kr,e),dt(this,No,i)),ut(this,Po,l0).call(this))}toggle(e=!1){h(this,xo)&&(!e&&h(this,ga)&&(clearTimeout(h(this,ga)),dt(this,ga,null)),h(this,xo).disabled=!e)}shown(){h(this,qr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Po,av)}})}destroy(){var e,i;(e=h(this,xo))==null||e.remove(),dt(this,xo,null),dt(this,am,null),dt(this,Bo,null),(i=h(this,Ho))==null||i.remove(),dt(this,Ho,null)}};kr=new WeakMap,No=new WeakMap,xo=new WeakMap,am=new WeakMap,Bo=new WeakMap,ga=new WeakMap,om=new WeakMap,Ho=new WeakMap,qr=new WeakMap,_l=new WeakMap,Yu=new WeakMap,Uo=new WeakMap,hu=new WeakMap,Po=new WeakSet,av=function(){return h(this,kr)&&"added"||h(this,kr)===null&&this.guessedText&&"review"||"missing"},l0=async function(){var o,c,d;const e=h(this,xo);if(!e)return;if(h(this,Uo)){if(e.classList.toggle("done",!!h(this,kr)),e.setAttribute("data-l10n-id",h(zr,hu)[h(this,Po,av)]),(o=h(this,am))==null||o.setAttribute("data-l10n-id",h(zr,hu)[`${h(this,Po,av)}-label`]),!h(this,kr)){(c=h(this,Bo))==null||c.remove();return}}else{if(!h(this,kr)&&!h(this,No)){e.classList.remove("done"),(d=h(this,Bo))==null||d.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=h(this,Bo);if(!i){dt(this,Bo,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${h(this,qr).id}`;const g=100,b=h(this,qr)._uiManager._signal;b.addEventListener("abort",()=>{clearTimeout(h(this,ga)),dt(this,ga,null)},{once:!0}),e.addEventListener("mouseenter",()=>{dt(this,ga,setTimeout(()=>{dt(this,ga,null),h(this,Bo).classList.add("show"),h(this,qr)._reportTelemetry({action:"alt_text_tooltip"})},g))},{signal:b}),e.addEventListener("mouseleave",()=>{var _;h(this,ga)&&(clearTimeout(h(this,ga)),dt(this,ga,null)),(_=h(this,Bo))==null||_.classList.remove("show")},{signal:b})}h(this,No)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=h(this,kr)),i.parentNode||e.append(i);const a=h(this,qr).getImageForAltText();a==null||a.setAttribute("aria-describedby",i.id)},pt(zr,hu,null),Xn(zr,"_l10n",null);let AltText=zr;var Qu,wo,ar,lm,Zu,Ir,Ju,fu,jv,_d,pu,Dv,_h,Sl,$o,cm,um,ao,Ov,O0,Rs,Kx,Nv,Yx,Qx,rA,aA,Zx,Jx,ew,oA,tw,lA,cA,uA,nw,ov;const $s=class $s{constructor(e){pt(this,Rs);pt(this,Qu,null);pt(this,wo,null);pt(this,ar,null);pt(this,lm,!1);pt(this,Zu,!1);pt(this,Ir,null);pt(this,Ju,null);pt(this,fu,null);pt(this,jv,"");pt(this,_d,!1);pt(this,pu,null);pt(this,Dv,!1);pt(this,_h,!1);pt(this,Sl,!1);pt(this,$o,null);pt(this,cm,0);pt(this,um,0);pt(this,ao,null);Xn(this,"_editToolbar",null);Xn(this,"_initialOptions",Object.create(null));Xn(this,"_initialData",null);Xn(this,"_isVisible",!0);Xn(this,"_uiManager",null);Xn(this,"_focusEventsAllowed",!0);pt(this,Ov,!1);pt(this,O0,$s._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:a,pageHeight:o,pageX:c,pageY:d}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,o],this.pageTranslation=[c,d];const[g,b]=this.parentDimensions;this.x=e.x/g,this.y=e.y/b,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=$s.prototype._resizeWithKeyboard,i=AnnotationEditorUIManager.TRANSLATE_SMALL,a=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,a]}],[["Escape","mac+Escape"],$s.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const i=new FakeEditor({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});i.annotationElementId=e.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(e,i){if($s._l10n??($s._l10n=e),$s._l10nResizer||($s._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$s._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);$s._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,i){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,Ov)}set _isDraggable(e){var i;dt(this,Ov,e),(i=this.div)==null||i.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(e*2),this.y+=this.width*e/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(e*2),this.y-=this.width*e/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,O0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ut(this,Rs,ov).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(h(this,_d)?dt(this,_d,!1):this.parent.setSelected(this))}focusout(e){var a;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(a=this.parent)!=null&&a.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,i,a,o){const[c,d]=this.parentDimensions;[a,o]=this.screenToPageTranslation(a,o),this.x=(e+a)/c,this.y=(i+o)/d,this.fixAndSetPosition()}translate(e,i){ut(this,Rs,Kx).call(this,this.parentDimensions,e,i)}translateInPage(e,i){h(this,pu)||dt(this,pu,[this.x,this.y]),ut(this,Rs,Kx).call(this,this.pageDimensions,e,i),this.div.scrollIntoView({block:"nearest"})}drag(e,i){h(this,pu)||dt(this,pu,[this.x,this.y]);const[a,o]=this.parentDimensions;if(this.x+=e/a,this.y+=i/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:_,y:j}=this.div.getBoundingClientRect();this.parent.findNewParent(this,_,j)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:d}=this;const[g,b]=this.getBaseTranslation();c+=g,d+=b,this.div.style.left=`${(100*c).toFixed(2)}%`,this.div.style.top=`${(100*d).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,pu)&&(h(this,pu)[0]!==this.x||h(this,pu)[1]!==this.y)}getBaseTranslation(){const[e,i]=this.parentDimensions,{_borderLineWidth:a}=$s,o=a/e,c=a/i;switch(this.rotation){case 90:return[-o,c];case 180:return[o,c];case 270:return[o,-c];default:return[-o,-c]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[i,a]=this.pageDimensions;let{x:o,y:c,width:d,height:g}=this;if(d*=i,g*=a,o*=i,c*=a,this._mustFixPosition)switch(e){case 0:o=Math.max(0,Math.min(i-d,o)),c=Math.max(0,Math.min(a-g,c));break;case 90:o=Math.max(0,Math.min(i-g,o)),c=Math.min(a,Math.max(d,c));break;case 180:o=Math.min(i,Math.max(d,o)),c=Math.min(a,Math.max(g,c));break;case 270:o=Math.min(i,Math.max(g,o)),c=Math.max(0,Math.min(a-d,c));break}this.x=o/=i,this.y=c/=a;const[b,_]=this.getBaseTranslation();o+=b,c+=_;const{style:j}=this.div;j.left=`${(100*o).toFixed(2)}%`,j.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,i){var a;return ut(a=$s,Nv,Yx).call(a,e,i,this.parentRotation)}pageTranslationToScreen(e,i){var a;return ut(a=$s,Nv,Yx).call(a,e,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[i,a]}=this;return[i*e,a*e]}setDims(e,i){const[a,o]=this.parentDimensions;this.div.style.width=`${(100*e/a).toFixed(2)}%`,h(this,Zu)||(this.div.style.height=`${(100*i/o).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:i,width:a}=e,o=a.endsWith("%"),c=!h(this,Zu)&&i.endsWith("%");if(o&&c)return;const[d,g]=this.parentDimensions;o||(e.width=`${(100*parseFloat(a)/d).toFixed(2)}%`),!h(this,Zu)&&!c&&(e.height=`${(100*parseFloat(i)/g).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=h(this,ar))==null||e.finish()}async addEditToolbar(){return this._editToolbar||h(this,_h)?this._editToolbar:(this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render()),h(this,ar)&&await this._editToolbar.addAltText(h(this,ar)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=h(this,ar))==null||e.destroy())}addContainer(e){var a;const i=(a=this._editToolbar)==null?void 0:a.div;i?i.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,ar)||(AltText.initialize($s._l10n),dt(this,ar,new AltText(this)),h(this,Qu)&&(h(this,ar).data=h(this,Qu),dt(this,Qu,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=h(this,ar))==null?void 0:e.data}set altTextData(e){h(this,ar)&&(h(this,ar).data=e)}get guessedAltText(){var e;return(e=h(this,ar))==null?void 0:e.guessedText}async setGuessedAltText(e){var i;await((i=h(this,ar))==null?void 0:i.setGuessedText(e))}serializeAltText(e){var i;return(i=h(this,ar))==null?void 0:i.serialize(e)}hasAltText(){return!!h(this,ar)&&!h(this,ar).isEmpty()}hasAltTextData(){var e;return((e=h(this,ar))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,lm)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ut(this,Rs,tw).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,o]=this.getInitialTranslation();return this.translate(a,o),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:i}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&i){e.preventDefault();return}if(dt(this,_d,!0),this._isDraggable){ut(this,Rs,oA).call(this,e);return}ut(this,Rs,ew).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,$o)&&clearTimeout(h(this,$o)),dt(this,$o,setTimeout(()=>{var e;dt(this,$o,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,i,a){e.changeParent(this),this.x=i,this.y=a,this.fixAndSetPosition()}getRect(e,i,a=this.rotation){const o=this.parentScale,[c,d]=this.pageDimensions,[g,b]=this.pageTranslation,_=e/o,j=i/o,$=this.x*c,_e=this.y*d,et=this.width*c,tt=this.height*d;switch(a){case 0:return[$+_+g,d-_e-j-tt+b,$+_+et+g,d-_e-j+b];case 90:return[$+j+g,d-_e+_+b,$+j+tt+g,d-_e+_+et+b];case 180:return[$-_-et+g,d-_e+j+b,$-_+g,d-_e+j+tt+b];case 270:return[$-j-tt+g,d-_e-_-et+b,$-j+g,d-_e-_+b];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,i){const[a,o,c,d]=e,g=c-a,b=d-o;switch(this.rotation){case 0:return[a,i-d,g,b];case 90:return[a,i-o,b,g];case 180:return[c,i-o,g,b];case 270:return[c,i-d,b,g];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){dt(this,_h,!0)}disableEditMode(){dt(this,_h,!1)}isInEditMode(){return h(this,_h)}shouldGetKeyboardEvents(){return h(this,Sl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){ut(this,Rs,tw).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,i=null){unreachable("An editor must be serializable")}static async deserialize(e,i,a){const o=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:a});o.rotation=e.rotation,dt(o,Qu,e.accessibilityData);const[c,d]=o.pageDimensions,[g,b,_,j]=o.getRectInCurrentCoords(e.rect,d);return o.x=g/c,o.y=b/d,o.width=_/c,o.height=j/d,o}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=h(this,fu))==null||e.abort(),dt(this,fu,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,$o)&&(clearTimeout(h(this,$o)),dt(this,$o,null)),ut(this,Rs,ov).call(this),this.removeEditToolbar(),h(this,ao)){for(const i of h(this,ao).values())clearTimeout(i);dt(this,ao,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(ut(this,Rs,rA).call(this),h(this,Ir).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),dt(this,Ju,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=h(this,Ir).children;if(!h(this,wo)){dt(this,wo,Array.from(i));const d=ut(this,Rs,lA).bind(this),g=ut(this,Rs,cA).bind(this),b=this._uiManager._signal;for(const _ of h(this,wo)){const j=_.getAttribute("data-resizer-name");_.setAttribute("role","spinbutton"),_.addEventListener("keydown",d,{signal:b}),_.addEventListener("blur",g,{signal:b}),_.addEventListener("focus",ut(this,Rs,uA).bind(this,j),{signal:b}),_.setAttribute("data-l10n-id",$s._l10nResizer[j])}}const a=h(this,wo)[0];let o=0;for(const d of i){if(d===a)break;o++}const c=(360-this.rotation+this.parentRotation)%360/90*(h(this,wo).length/4);if(c!==o){if(c<o)for(let g=0;g<o-c;g++)h(this,Ir).append(h(this,Ir).firstChild);else if(c>o)for(let g=0;g<c-o;g++)h(this,Ir).firstChild.before(h(this,Ir).lastChild);let d=0;for(const g of i){const _=h(this,wo)[d++].getAttribute("data-resizer-name");g.setAttribute("data-l10n-id",$s._l10nResizer[_])}}ut(this,Rs,nw).call(this,0),dt(this,Sl,!0),h(this,Ir).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,i){h(this,Sl)&&ut(this,Rs,Jx).call(this,h(this,jv),{movementX:e,movementY:i})}_stopResizingWithKeyboard(){ut(this,Rs,ov).call(this),this.div.focus()}select(){var e,i,a;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var o,c;(o=this.div)!=null&&o.classList.contains("selectedEditor")&&((c=this._editToolbar)==null||c.show())});return}(i=this._editToolbar)==null||i.show(),(a=h(this,ar))==null||a.toggleAltTextBadge(!1)}unselect(){var e,i,a,o,c;(e=h(this,Ir))==null||e.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(a=this.div)!=null&&a.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(o=this._editToolbar)==null||o.hide(),(c=h(this,ar))==null||c.toggleAltTextBadge(!0)}updateParams(e,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,Dv)}set isEditing(e){dt(this,Dv,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,i){dt(this,Zu,!0);const a=e/i,{style:o}=this.div;o.aspectRatio=a,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,i=!1){if(i){h(this,ao)||dt(this,ao,new Map);const{action:a}=e;let o=h(this,ao).get(a);o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(e),h(this,ao).delete(a),h(this,ao).size===0&&dt(this,ao,null)},$s._telemetryTimeout),h(this,ao).set(a,o);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),dt(this,lm,!1)}disable(){this.div&&(this.div.tabIndex=-1),dt(this,lm,!0)}renderAnnotationElement(e){let i=e.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),e.container.prepend(i);else if(i.nodeName==="CANVAS"){const a=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),a.before(i)}return i}resetAnnotationElement(e){const{firstChild:i}=e.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};Qu=new WeakMap,wo=new WeakMap,ar=new WeakMap,lm=new WeakMap,Zu=new WeakMap,Ir=new WeakMap,Ju=new WeakMap,fu=new WeakMap,jv=new WeakMap,_d=new WeakMap,pu=new WeakMap,Dv=new WeakMap,_h=new WeakMap,Sl=new WeakMap,$o=new WeakMap,cm=new WeakMap,um=new WeakMap,ao=new WeakMap,Ov=new WeakMap,O0=new WeakMap,Rs=new WeakSet,Kx=function([e,i],a,o){[a,o]=this.screenToPageTranslation(a,o),this.x+=a/e,this.y+=o/i,this.fixAndSetPosition()},Nv=new WeakSet,Yx=function(e,i,a){switch(a){case 90:return[i,-e];case 180:return[-e,-i];case 270:return[-i,e];default:return[e,i]}},Qx=function(e){switch(e){case 90:{const[i,a]=this.pageDimensions;return[0,-i/a,a/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,a]=this.pageDimensions;return[0,i/a,-a/i,0]}default:return[1,0,0,1]}},rA=function(){if(h(this,Ir))return;dt(this,Ir,document.createElement("div")),h(this,Ir).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const a of e){const o=document.createElement("div");h(this,Ir).append(o),o.classList.add("resizer",a),o.setAttribute("data-resizer-name",a),o.addEventListener("pointerdown",ut(this,Rs,aA).bind(this,a),{signal:i}),o.addEventListener("contextmenu",noContextMenu,{signal:i}),o.tabIndex=-1}this.div.prepend(h(this,Ir))},aA=function(e,i){var tt;i.preventDefault();const{isMac:a}=util_FeatureTest.platform;if(i.button!==0||i.ctrlKey&&a)return;(tt=h(this,ar))==null||tt.toggle(!1);const o=this._isDraggable;this._isDraggable=!1;const c=new AbortController,d=this._uiManager.combinedSignal(c);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ut(this,Rs,Jx).bind(this,e),{passive:!0,capture:!0,signal:d}),window.addEventListener("contextmenu",noContextMenu,{signal:d});const g=this.x,b=this.y,_=this.width,j=this.height,$=this.parent.div.style.cursor,_e=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const et=()=>{var it;c.abort(),this.parent.togglePointerEvents(!0),(it=h(this,ar))==null||it.toggle(!0),this._isDraggable=o,this.parent.div.style.cursor=$,this.div.style.cursor=_e,ut(this,Rs,Zx).call(this,g,b,_,j)};window.addEventListener("pointerup",et,{signal:d}),window.addEventListener("blur",et,{signal:d})},Zx=function(e,i,a,o){const c=this.x,d=this.y,g=this.width,b=this.height;c===e&&d===i&&g===a&&b===o||this.addCommands({cmd:()=>{this.width=g,this.height=b,this.x=c,this.y=d;const[_,j]=this.parentDimensions;this.setDims(_*g,j*b),this.fixAndSetPosition()},undo:()=>{this.width=a,this.height=o,this.x=e,this.y=i;const[_,j]=this.parentDimensions;this.setDims(_*a,j*o),this.fixAndSetPosition()},mustExec:!0})},Jx=function(e,i){const[a,o]=this.parentDimensions,c=this.x,d=this.y,g=this.width,b=this.height,_=$s.MIN_SIZE/a,j=$s.MIN_SIZE/o,$=jt=>Math.round(jt*1e4)/1e4,_e=ut(this,Rs,Qx).call(this,this.rotation),et=(jt,Ft)=>[_e[0]*jt+_e[2]*Ft,_e[1]*jt+_e[3]*Ft],tt=ut(this,Rs,Qx).call(this,360-this.rotation),it=(jt,Ft)=>[tt[0]*jt+tt[2]*Ft,tt[1]*jt+tt[3]*Ft];let rt,nt,st=!1,ot=!1;switch(e){case"topLeft":st=!0,rt=(jt,Ft)=>[0,0],nt=(jt,Ft)=>[jt,Ft];break;case"topMiddle":rt=(jt,Ft)=>[jt/2,0],nt=(jt,Ft)=>[jt/2,Ft];break;case"topRight":st=!0,rt=(jt,Ft)=>[jt,0],nt=(jt,Ft)=>[0,Ft];break;case"middleRight":ot=!0,rt=(jt,Ft)=>[jt,Ft/2],nt=(jt,Ft)=>[0,Ft/2];break;case"bottomRight":st=!0,rt=(jt,Ft)=>[jt,Ft],nt=(jt,Ft)=>[0,0];break;case"bottomMiddle":rt=(jt,Ft)=>[jt/2,Ft],nt=(jt,Ft)=>[jt/2,0];break;case"bottomLeft":st=!0,rt=(jt,Ft)=>[0,Ft],nt=(jt,Ft)=>[jt,0];break;case"middleLeft":ot=!0,rt=(jt,Ft)=>[0,Ft/2],nt=(jt,Ft)=>[jt,Ft/2];break}const ct=rt(g,b),at=nt(g,b);let ht=et(...at);const lt=$(c+ht[0]),ft=$(d+ht[1]);let yt=1,Et=1,[mt,At]=this.screenToPageTranslation(i.movementX,i.movementY);if([mt,At]=it(mt/a,At/o),st){const jt=Math.hypot(g,b);yt=Et=Math.max(Math.min(Math.hypot(at[0]-ct[0]-mt,at[1]-ct[1]-At)/jt,1/g,1/b),_/g,j/b)}else ot?yt=Math.max(_,Math.min(1,Math.abs(at[0]-ct[0]-mt)))/g:Et=Math.max(j,Math.min(1,Math.abs(at[1]-ct[1]-At)))/b;const Rt=$(g*yt),qt=$(b*Et);ht=et(...nt(Rt,qt));const Bt=lt-ht[0],$t=ft-ht[1];this.width=Rt,this.height=qt,this.x=Bt,this.y=$t,this.setDims(a*Rt,o*qt),this.fixAndSetPosition()},ew=function(e){const{isMac:i}=util_FeatureTest.platform;e.ctrlKey&&!i||e.shiftKey||e.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},oA=function(e){const{isSelected:i}=this;this._uiManager.setUpDragSession();const a=new AbortController,o=this._uiManager.combinedSignal(a);if(i){this.div.classList.add("moving"),dt(this,cm,e.clientX),dt(this,um,e.clientY);const d=g=>{const{clientX:b,clientY:_}=g,[j,$]=this.screenToPageTranslation(b-h(this,cm),_-h(this,um));dt(this,cm,b),dt(this,um,_),this._uiManager.dragSelectedEditors(j,$)};window.addEventListener("pointermove",d,{passive:!0,capture:!0,signal:o})}const c=()=>{a.abort(),i&&this.div.classList.remove("moving"),dt(this,_d,!1),this._uiManager.endDragSession()||ut(this,Rs,ew).call(this,e)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},tw=function(){if(h(this,fu)||!this.div)return;dt(this,fu,new AbortController);const e=this._uiManager.combinedSignal(h(this,fu));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},lA=function(e){$s._resizerKeyboardManager.exec(this,e)},cA=function(e){var i;h(this,Sl)&&((i=e.relatedTarget)==null?void 0:i.parentNode)!==h(this,Ir)&&ut(this,Rs,ov).call(this)},uA=function(e){dt(this,jv,h(this,Sl)?e:"")},nw=function(e){if(h(this,wo))for(const i of h(this,wo))i.tabIndex=e},ov=function(){if(dt(this,Sl,!1),ut(this,Rs,nw).call(this,-1),h(this,Ju)){const{savedX:e,savedY:i,savedWidth:a,savedHeight:o}=h(this,Ju);ut(this,Rs,Zx).call(this,e,i,a,o),dt(this,Ju,null)}},pt($s,Nv),Xn($s,"_l10n",null),Xn($s,"_l10nResizer",null),Xn($s,"_borderLineWidth",-1),Xn($s,"_colorManager",new ColorManager),Xn($s,"_zIndex",1),Xn($s,"_telemetryTimeout",1e3);let AnnotationEditor=$s;class FakeEditor extends AnnotationEditor{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(e){this.h1=e?e&4294967295:SEED,this.h2=e?e&4294967295:SEED}update(e){let i,a;if(typeof e=="string"){i=new Uint8Array(e.length*2),a=0;for(let it=0,rt=e.length;it<rt;it++){const nt=e.charCodeAt(it);nt<=255?i[a++]=nt:(i[a++]=nt>>>8,i[a++]=nt&255)}}else if(ArrayBuffer.isView(e))i=e.slice(),a=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const o=a>>2,c=a-o*4,d=new Uint32Array(i.buffer,0,o);let g=0,b=0,_=this.h1,j=this.h2;const $=3432918353,_e=461845907,et=$&MASK_LOW,tt=_e&MASK_LOW;for(let it=0;it<o;it++)it&1?(g=d[it],g=g*$&MASK_HIGH|g*et&MASK_LOW,g=g<<15|g>>>17,g=g*_e&MASK_HIGH|g*tt&MASK_LOW,_^=g,_=_<<13|_>>>19,_=_*5+3864292196):(b=d[it],b=b*$&MASK_HIGH|b*et&MASK_LOW,b=b<<15|b>>>17,b=b*_e&MASK_HIGH|b*tt&MASK_LOW,j^=b,j=j<<13|j>>>19,j=j*5+3864292196);switch(g=0,c){case 3:g^=i[o*4+2]<<16;case 2:g^=i[o*4+1]<<8;case 1:g^=i[o*4],g=g*$&MASK_HIGH|g*et&MASK_LOW,g=g<<15|g>>>17,g=g*_e&MASK_HIGH|g*tt&MASK_LOW,o&1?_^=g:j^=g}this.h1=_,this.h2=j}hexdigest(){let e=this.h1,i=this.h2;return e^=i>>>1,e=e*3981806797&MASK_HIGH|e*36045&MASK_LOW,i=i*4283543511&MASK_HIGH|((i<<16|e>>>16)*2950163797&MASK_HIGH)>>>16,e^=i>>>1,e=e*444984403&MASK_HIGH|e*60499&MASK_LOW,i=i*3301882366&MASK_HIGH|((i<<16|e>>>16)*3120437893&MASK_HIGH)>>>16,e^=i>>>1,(e>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var _f,ep,Pr,N0,dA;class AnnotationStorage{constructor(){pt(this,N0);pt(this,_f,!1);pt(this,ep,null);pt(this,Pr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,i){const a=h(this,Pr).get(e);return a===void 0?i:Object.assign(i,a)}getRawValue(e){return h(this,Pr).get(e)}remove(e){if(h(this,Pr).delete(e),h(this,Pr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of h(this,Pr).values())if(i instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,i){const a=h(this,Pr).get(e);let o=!1;if(a!==void 0)for(const[c,d]of Object.entries(i))a[c]!==d&&(o=!0,a[c]=d);else o=!0,h(this,Pr).set(e,i);o&&ut(this,N0,dA).call(this),i instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(e){return h(this,Pr).has(e)}getAll(){return h(this,Pr).size>0?objectFromMap(h(this,Pr)):null}setAll(e){for(const[i,a]of Object.entries(e))this.setValue(i,a)}get size(){return h(this,Pr).size}resetModified(){h(this,_f)&&(dt(this,_f,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(h(this,Pr).size===0)return SerializableEmpty;const e=new Map,i=new MurmurHash3_64,a=[],o=Object.create(null);let c=!1;for(const[d,g]of h(this,Pr)){const b=g instanceof AnnotationEditor?g.serialize(!1,o):g;b&&(e.set(d,b),i.update(`${d}:${JSON.stringify(b)}`),c||(c=!!b.bitmap))}if(c)for(const d of e.values())d.bitmap&&a.push(d.bitmap);return e.size>0?{map:e,hash:i.hexdigest(),transfer:a}:SerializableEmpty}get editorStats(){let e=null;const i=new Map;for(const a of h(this,Pr).values()){if(!(a instanceof AnnotationEditor))continue;const o=a.telemetryFinalData;if(!o)continue;const{type:c}=o;i.has(c)||i.set(c,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const d=e[c]||(e[c]=new Map);for(const[g,b]of Object.entries(o)){if(g==="type")continue;let _=d.get(g);_||(_=new Map,d.set(g,_));const j=_.get(b)??0;_.set(b,j+1)}}for(const[a,o]of i)e[a]=o.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){dt(this,ep,null)}get modifiedIds(){if(h(this,ep))return h(this,ep);const e=[];for(const i of h(this,Pr).values())!(i instanceof AnnotationEditor)||!i.annotationElementId||!i.serialize()||e.push(i.annotationElementId);return dt(this,ep,{ids:new Set(e),hash:e.join(",")})}}_f=new WeakMap,ep=new WeakMap,Pr=new WeakMap,N0=new WeakSet,dA=function(){h(this,_f)||(dt(this,_f,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Bv;class PrintAnnotationStorage extends AnnotationStorage{constructor(i){super();pt(this,Bv);const{map:a,hash:o,transfer:c}=i.serializable,d=structuredClone(a,c?{transfer:c}:null);dt(this,Bv,{map:d,hash:o,transfer:c})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Bv)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}Bv=new WeakMap;var dm;class FontLoader{constructor({ownerDocument:e=globalThis.document,styleElement:i=null}){pt(this,dm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(e,i.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),h(this,dm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:i}){if(!(!e||h(this,dm).has(e.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:o,style:c}=e,d=new FontFace(a,o,c);this.addNativeFontFace(d);try{await d.load(),h(this,dm).add(a),i==null||i(e)}catch{warn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(d)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const a=e.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(o){throw warn(`Failed to load font '${a.family}': '${o}'.`),e.disableFontFace=!0,o}}return}const i=e.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const o=this._queueLoadingCallback(a);this._prepareFontLoadEvent(e,o)})}}get isFontLoadingAPISupported(){var i;const e=!!((i=this._document)!=null&&i.fonts);return shadow(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),shadow(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function i(){for(assert(!o.done,"completeRequest() cannot be called twice."),o.done=!0;a.length>0&&a[0].done;){const c=a.shift();setTimeout(c.callback,0)}}const{loadingRequests:a}=this,o={done:!1,complete:i,callback:e};return a.push(o),o}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,i){function a(ct,at){return ct.charCodeAt(at)<<24|ct.charCodeAt(at+1)<<16|ct.charCodeAt(at+2)<<8|ct.charCodeAt(at+3)&255}function o(ct,at,ht,lt){const ft=ct.substring(0,at),yt=ct.substring(at+ht);return ft+lt+yt}let c,d;const g=this._document.createElement("canvas");g.width=1,g.height=1;const b=g.getContext("2d");let _=0;function j(ct,at){if(++_>30){warn("Load test font never loaded."),at();return}if(b.font="30px "+ct,b.fillText(".",0,20),b.getImageData(0,0,1,1).data[3]>0){at();return}setTimeout(j.bind(null,ct,at))}const $=`lt${Date.now()}${this.loadTestFontId++}`;let _e=this._loadTestFont;_e=o(_e,976,$.length,$);const tt=16,it=1482184792;let rt=a(_e,tt);for(c=0,d=$.length-3;c<d;c+=4)rt=rt-it+a($,c)|0;c<$.length&&(rt=rt-it+a($+"XXX",c)|0),_e=o(_e,tt,4,string32(rt));const nt=`url(data:font/opentype;base64,${btoa(_e)});`,st=`@font-face {font-family:"${$}";src:${nt}}`;this.insertRule(st);const ot=this._document.createElement("div");ot.style.visibility="hidden",ot.style.width=ot.style.height="10px",ot.style.position="absolute",ot.style.top=ot.style.left="0px";for(const ct of[e.loadedName,$]){const at=this._document.createElement("span");at.textContent="Hi",at.style.fontFamily=ct,ot.append(at)}this._document.body.append(ot),j($,()=>{ot.remove(),i.complete()})}}dm=new WeakMap;class FontFaceObject{constructor(e,{disableFontFace:i=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const o in e)this[o]=e[o];this.disableFontFace=i===!0,this._inspectFont=a}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return(i=this._inspectFont)==null||i.call(this,this),e}createFontFaceRule(){var a;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${e}}`}return(a=this._inspectFont)==null||a.call(this,this,e),i}getPathGenerator(e,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let a;try{a=e.get(this.loadedName+"_path_"+i)}catch(c){warn(`getPathGenerator - ignoring character: "${c}".`)}if(!Array.isArray(a)||a.length===0)return this.compiledGlyphs[i]=function(c,d){};const o=[];for(let c=0,d=a.length;c<d;)switch(a[c++]){case FontRenderOps.BEZIER_CURVE_TO:{const[g,b,_,j,$,_e]=a.slice(c,c+6);o.push(et=>et.bezierCurveTo(g,b,_,j,$,_e)),c+=6}break;case FontRenderOps.MOVE_TO:{const[g,b]=a.slice(c,c+2);o.push(_=>_.moveTo(g,b)),c+=2}break;case FontRenderOps.LINE_TO:{const[g,b]=a.slice(c,c+2);o.push(_=>_.lineTo(g,b)),c+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[g,b,_,j]=a.slice(c,c+4);o.push($=>$.quadraticCurveTo(g,b,_,j)),c+=4}break;case FontRenderOps.RESTORE:o.push(g=>g.restore());break;case FontRenderOps.SAVE:o.push(g=>g.save());break;case FontRenderOps.SCALE:assert(o.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[g,b,_,j,$,_e]=a.slice(c,c+6);o.push(et=>et.transform(g,b,_,j,$,_e)),c+=6}break;case FontRenderOps.TRANSLATE:{const[g,b]=a.slice(c,c+2);o.push(_=>_.translate(g,b)),c+=2}break}return this.compiledGlyphs[i]=function(d,g){o[0](d),o[1](d),d.scale(g,-g);for(let b=2,_=o.length;b<_;b++)o[b](d)}}}var Hv;class BaseCanvasFactory{constructor({enableHWA:e=!1}){pt(this,Hv,!1);dt(this,Hv,e)}create(e,i){if(e<=0||i<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(e,i);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!h(this,Hv)})}}reset(e,i,a){if(!e.canvas)throw new Error("Canvas is not specified");if(i<=0||a<=0)throw new Error("Invalid canvas size");e.canvas.width=i,e.canvas.height=a}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,i){unreachable("Abstract method `_createCanvas` called.")}}Hv=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=e}_createCanvas(e,i){const a=this._document.createElement("canvas");return a.width=e,a.height=i,a}}class BaseCMapReaderFactory{constructor({baseUrl:e=null,isCompressed:i=!0}){this.baseUrl=e,this.isCompressed=i}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){const i=await fetchData(e,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):stringToBytes(i)}}class BaseFilterFactory{addFilter(e){return"none"}addHCMFilter(e,i){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,i,a,o,c){return"none"}destroy(e=!1){}}var tp,np,zo,Cl,Br,B0,ip,Zn,Or,Wp,Gp,c0,Xp,hA,iw,qp,lv,cv,sw,uv;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:i,ownerDocument:a=globalThis.document}){super();pt(this,Zn);pt(this,tp);pt(this,np);pt(this,zo);pt(this,Cl);pt(this,Br);pt(this,B0);pt(this,ip,0);dt(this,Cl,i),dt(this,Br,a)}addFilter(i){if(!i)return"none";let a=h(this,Zn,Or).get(i);if(a)return a;const[o,c,d]=ut(this,Zn,c0).call(this,i),g=i.length===1?o:`${o}${c}${d}`;if(a=h(this,Zn,Or).get(g),a)return h(this,Zn,Or).set(i,a),a;const b=`g_${h(this,Cl)}_transfer_map_${yr(this,ip)._++}`,_=ut(this,Zn,Xp).call(this,b);h(this,Zn,Or).set(i,_),h(this,Zn,Or).set(g,_);const j=ut(this,Zn,qp).call(this,b);return ut(this,Zn,cv).call(this,o,c,d,j),_}addHCMFilter(i,a){var tt;const o=`${i}-${a}`,c="base";let d=h(this,Zn,Wp).get(c);if((d==null?void 0:d.key)===o||(d?((tt=d.filter)==null||tt.remove(),d.key=o,d.url="none",d.filter=null):(d={key:o,url:"none",filter:null},h(this,Zn,Wp).set(c,d)),!i||!a))return d.url;const g=ut(this,Zn,uv).call(this,i);i=Util.makeHexColor(...g);const b=ut(this,Zn,uv).call(this,a);if(a=Util.makeHexColor(...b),h(this,Zn,Gp).style.color="",i==="#000000"&&a==="#ffffff"||i===a)return d.url;const _=new Array(256);for(let it=0;it<=255;it++){const rt=it/255;_[it]=rt<=.03928?rt/12.92:((rt+.055)/1.055)**2.4}const j=_.join(","),$=`g_${h(this,Cl)}_hcm_filter`,_e=d.filter=ut(this,Zn,qp).call(this,$);ut(this,Zn,cv).call(this,j,j,j,_e),ut(this,Zn,iw).call(this,_e);const et=(it,rt)=>{const nt=g[it]/255,st=b[it]/255,ot=new Array(rt+1);for(let ct=0;ct<=rt;ct++)ot[ct]=nt+ct/rt*(st-nt);return ot.join(",")};return ut(this,Zn,cv).call(this,et(0,5),et(1,5),et(2,5),_e),d.url=ut(this,Zn,Xp).call(this,$),d.url}addAlphaFilter(i){let a=h(this,Zn,Or).get(i);if(a)return a;const[o]=ut(this,Zn,c0).call(this,[i]),c=`alpha_${o}`;if(a=h(this,Zn,Or).get(c),a)return h(this,Zn,Or).set(i,a),a;const d=`g_${h(this,Cl)}_alpha_map_${yr(this,ip)._++}`,g=ut(this,Zn,Xp).call(this,d);h(this,Zn,Or).set(i,g),h(this,Zn,Or).set(c,g);const b=ut(this,Zn,qp).call(this,d);return ut(this,Zn,sw).call(this,o,b),g}addLuminosityFilter(i){let a=h(this,Zn,Or).get(i||"luminosity");if(a)return a;let o,c;if(i?([o]=ut(this,Zn,c0).call(this,[i]),c=`luminosity_${o}`):c="luminosity",a=h(this,Zn,Or).get(c),a)return h(this,Zn,Or).set(i,a),a;const d=`g_${h(this,Cl)}_luminosity_map_${yr(this,ip)._++}`,g=ut(this,Zn,Xp).call(this,d);h(this,Zn,Or).set(i,g),h(this,Zn,Or).set(c,g);const b=ut(this,Zn,qp).call(this,d);return ut(this,Zn,hA).call(this,b),i&&ut(this,Zn,sw).call(this,o,b),g}addHighlightHCMFilter(i,a,o,c,d){var st;const g=`${a}-${o}-${c}-${d}`;let b=h(this,Zn,Wp).get(i);if((b==null?void 0:b.key)===g||(b?((st=b.filter)==null||st.remove(),b.key=g,b.url="none",b.filter=null):(b={key:g,url:"none",filter:null},h(this,Zn,Wp).set(i,b)),!a||!o))return b.url;const[_,j]=[a,o].map(ut(this,Zn,uv).bind(this));let $=Math.round(.2126*_[0]+.7152*_[1]+.0722*_[2]),_e=Math.round(.2126*j[0]+.7152*j[1]+.0722*j[2]),[et,tt]=[c,d].map(ut(this,Zn,uv).bind(this));_e<$&&([$,_e,et,tt]=[_e,$,tt,et]),h(this,Zn,Gp).style.color="";const it=(ot,ct,at)=>{const ht=new Array(256),lt=(_e-$)/at,ft=ot/255,yt=(ct-ot)/(255*at);let Et=0;for(let mt=0;mt<=at;mt++){const At=Math.round($+mt*lt),Rt=ft+mt*yt;for(let qt=Et;qt<=At;qt++)ht[qt]=Rt;Et=At+1}for(let mt=Et;mt<256;mt++)ht[mt]=ht[Et-1];return ht.join(",")},rt=`g_${h(this,Cl)}_hcm_${i}_filter`,nt=b.filter=ut(this,Zn,qp).call(this,rt);return ut(this,Zn,iw).call(this,nt),ut(this,Zn,cv).call(this,it(et[0],tt[0],5),it(et[1],tt[1],5),it(et[2],tt[2],5),nt),b.url=ut(this,Zn,Xp).call(this,rt),b.url}destroy(i=!1){i&&h(this,Zn,Wp).size!==0||(h(this,zo)&&(h(this,zo).parentNode.parentNode.remove(),dt(this,zo,null)),h(this,np)&&(h(this,np).clear(),dt(this,np,null)),dt(this,ip,0))}}tp=new WeakMap,np=new WeakMap,zo=new WeakMap,Cl=new WeakMap,Br=new WeakMap,B0=new WeakMap,ip=new WeakMap,Zn=new WeakSet,Or=function(){return h(this,np)||dt(this,np,new Map)},Wp=function(){return h(this,B0)||dt(this,B0,new Map)},Gp=function(){if(!h(this,zo)){const i=h(this,Br).createElement("div"),{style:a}=i;a.visibility="hidden",a.contain="strict",a.width=a.height=0,a.position="absolute",a.top=a.left=0,a.zIndex=-1;const o=h(this,Br).createElementNS(SVG_NS,"svg");o.setAttribute("width",0),o.setAttribute("height",0),dt(this,zo,h(this,Br).createElementNS(SVG_NS,"defs")),i.append(o),o.append(h(this,zo)),h(this,Br).body.append(i)}return h(this,zo)},c0=function(i){if(i.length===1){const _=i[0],j=new Array(256);for(let _e=0;_e<256;_e++)j[_e]=_[_e]/255;const $=j.join(",");return[$,$,$]}const[a,o,c]=i,d=new Array(256),g=new Array(256),b=new Array(256);for(let _=0;_<256;_++)d[_]=a[_]/255,g[_]=o[_]/255,b[_]=c[_]/255;return[d.join(","),g.join(","),b.join(",")]},Xp=function(i){if(h(this,tp)===void 0){dt(this,tp,"");const a=h(this,Br).URL;a!==h(this,Br).baseURI&&(isDataScheme(a)?warn('#createUrl: ignore "data:"-URL for performance reasons.'):dt(this,tp,a.split("#",1)[0]))}return`url(${h(this,tp)}#${i})`},hA=function(i){const a=h(this,Br).createElementNS(SVG_NS,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(a)},iw=function(i){const a=h(this,Br).createElementNS(SVG_NS,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(a)},qp=function(i){const a=h(this,Br).createElementNS(SVG_NS,"filter");return a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("id",i),h(this,Zn,Gp).append(a),a},lv=function(i,a,o){const c=h(this,Br).createElementNS(SVG_NS,a);c.setAttribute("type","discrete"),c.setAttribute("tableValues",o),i.append(c)},cv=function(i,a,o,c){const d=h(this,Br).createElementNS(SVG_NS,"feComponentTransfer");c.append(d),ut(this,Zn,lv).call(this,d,"feFuncR",i),ut(this,Zn,lv).call(this,d,"feFuncG",a),ut(this,Zn,lv).call(this,d,"feFuncB",o)},sw=function(i,a){const o=h(this,Br).createElementNS(SVG_NS,"feComponentTransfer");a.append(o),ut(this,Zn,lv).call(this,o,"feFuncA",i)},uv=function(i){return h(this,Zn,Gp).style.color=i,getRGB(getComputedStyle(h(this,Zn,Gp)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(a=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){const i=await fetchData(e,"arraybuffer");return new Uint8Array(i)}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const e=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),i=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),a=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),o=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let c,d;return new Map(Object.entries({fs:e,http:i,https:a,url:o,canvas:c,path2d:d}))})().then(e=>{packageMap=e,packageCapability.resolve()},e=>{warn(`loadPackages: ${e}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get(e){return packageMap==null?void 0:packageMap.get(e)}}async function node_utils_fetchData(s){const i=await NodePackages.get("fs").promises.readFile(s);return new Uint8Array(i)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(e,i){return NodePackages.get("canvas").createCanvas(e,i)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){return node_utils_fetchData(e)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){return node_utils_fetchData(e)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(s,e){if(!e)return;const i=e[2]-e[0],a=e[3]-e[1],o=new Path2D;o.rect(e[0],e[1],i,a),s.clip(o)}class BaseShadingPattern{getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let i;this._type==="axial"?i=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)i.addColorStop(a[0],a[1]);return i}getPattern(e,i,a,o){let c;if(o===PathType.STROKE||o===PathType.FILL){const d=i.current.getClippedPathBoundingBox(o,getCurrentTransform(e))||[0,0,0,0],g=Math.ceil(d[2]-d[0])||1,b=Math.ceil(d[3]-d[1])||1,_=i.cachedCanvases.getCanvas("pattern",g,b),j=_.context;j.clearRect(0,0,j.canvas.width,j.canvas.height),j.beginPath(),j.rect(0,0,j.canvas.width,j.canvas.height),j.translate(-d[0],-d[1]),a=Util.transform(a,[1,0,0,1,d[0],d[1]]),j.transform(...i.baseTransform),this.matrix&&j.transform(...this.matrix),applyBoundingBox(j,this._bbox),j.fillStyle=this._createGradient(j),j.fill(),c=e.createPattern(_.canvas,"no-repeat");const $=new DOMMatrix(a);c.setTransform($)}else applyBoundingBox(e,this._bbox),c=this._createGradient(e);return c}}function drawTriangle(s,e,i,a,o,c,d,g){const b=e.coords,_=e.colors,j=s.data,$=s.width*4;let _e;b[i+1]>b[a+1]&&(_e=i,i=a,a=_e,_e=c,c=d,d=_e),b[a+1]>b[o+1]&&(_e=a,a=o,o=_e,_e=d,d=g,g=_e),b[i+1]>b[a+1]&&(_e=i,i=a,a=_e,_e=c,c=d,d=_e);const et=(b[i]+e.offsetX)*e.scaleX,tt=(b[i+1]+e.offsetY)*e.scaleY,it=(b[a]+e.offsetX)*e.scaleX,rt=(b[a+1]+e.offsetY)*e.scaleY,nt=(b[o]+e.offsetX)*e.scaleX,st=(b[o+1]+e.offsetY)*e.scaleY;if(tt>=st)return;const ot=_[c],ct=_[c+1],at=_[c+2],ht=_[d],lt=_[d+1],ft=_[d+2],yt=_[g],Et=_[g+1],mt=_[g+2],At=Math.round(tt),Rt=Math.round(st);let qt,Bt,$t,jt,Ft,St,It,zt;for(let _t=At;_t<=Rt;_t++){if(_t<rt){const kt=_t<tt?0:(tt-_t)/(tt-rt);qt=et-(et-it)*kt,Bt=ot-(ot-ht)*kt,$t=ct-(ct-lt)*kt,jt=at-(at-ft)*kt}else{let kt;_t>st?kt=1:rt===st?kt=0:kt=(rt-_t)/(rt-st),qt=it-(it-nt)*kt,Bt=ht-(ht-yt)*kt,$t=lt-(lt-Et)*kt,jt=ft-(ft-mt)*kt}let vt;_t<tt?vt=0:_t>st?vt=1:vt=(tt-_t)/(tt-st),Ft=et-(et-nt)*vt,St=ot-(ot-yt)*vt,It=ct-(ct-Et)*vt,zt=at-(at-mt)*vt;const bt=Math.round(Math.min(qt,Ft)),wt=Math.round(Math.max(qt,Ft));let Pt=$*_t+bt*4;for(let kt=bt;kt<=wt;kt++)vt=(qt-kt)/(qt-Ft),vt<0?vt=0:vt>1&&(vt=1),j[Pt++]=Bt-(Bt-St)*vt|0,j[Pt++]=$t-($t-It)*vt|0,j[Pt++]=jt-(jt-zt)*vt|0,j[Pt++]=255}}function drawFigure(s,e,i){const a=e.coords,o=e.colors;let c,d;switch(e.type){case"lattice":const g=e.verticesPerRow,b=Math.floor(a.length/g)-1,_=g-1;for(c=0;c<b;c++){let j=c*g;for(let $=0;$<_;$++,j++)drawTriangle(s,i,a[j],a[j+1],a[j+g],o[j],o[j+1],o[j+g]),drawTriangle(s,i,a[j+g+1],a[j+1],a[j+g],o[j+g+1],o[j+1],o[j+g])}break;case"triangles":for(c=0,d=a.length;c<d;c+=3)drawTriangle(s,i,a[c],a[c+1],a[c+2],o[c],o[c+1],o[c+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,i,a){const g=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),_=Math.ceil(this._bounds[2])-g,j=Math.ceil(this._bounds[3])-b,$=Math.min(Math.ceil(Math.abs(_*e[0]*1.1)),3e3),_e=Math.min(Math.ceil(Math.abs(j*e[1]*1.1)),3e3),et=_/$,tt=j/_e,it={coords:this._coords,colors:this._colors,offsetX:-g,offsetY:-b,scaleX:1/et,scaleY:1/tt},rt=$+2*2,nt=_e+2*2,st=a.getCanvas("mesh",rt,nt),ot=st.context,ct=ot.createImageData($,_e);if(i){const ht=ct.data;for(let lt=0,ft=ht.length;lt<ft;lt+=4)ht[lt]=i[0],ht[lt+1]=i[1],ht[lt+2]=i[2],ht[lt+3]=255}for(const ht of this._figures)drawFigure(ct,ht,it);return ot.putImageData(ct,2,2),{canvas:st.canvas,offsetX:g-2*et,offsetY:b-2*tt,scaleX:et,scaleY:tt}}getPattern(e,i,a,o){applyBoundingBox(e,this._bbox);let c;if(o===PathType.SHADING)c=Util.singularValueDecompose2dScale(getCurrentTransform(e));else if(c=Util.singularValueDecompose2dScale(i.baseTransform),this.matrix){const g=Util.singularValueDecompose2dScale(this.matrix);c=[c[0]*g[0],c[1]*g[1]]}const d=this._createMeshCanvas(c,o===PathType.SHADING?null:this._background,i.cachedCanvases);return o!==PathType.SHADING&&(e.setTransform(...i.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(d.offsetX,d.offsetY),e.scale(d.scaleX,d.scaleY),e.createPattern(d.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(s){switch(s[0]){case"RadialAxial":return new RadialAxialShadingPattern(s);case"Mesh":return new MeshShadingPattern(s);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${s[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},H0=class H0{constructor(e,i,a,o,c){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=a,this.canvasGraphicsFactory=o,this.baseTransform=c}createPatternCanvas(e){const{bbox:i,operatorList:a,paintType:o,tilingType:c,color:d,canvasGraphicsFactory:g}=this;let{xstep:b,ystep:_}=this;b=Math.abs(b),_=Math.abs(_),info("TilingType: "+c);const j=i[0],$=i[1],_e=i[2],et=i[3],tt=_e-j,it=et-$,rt=Util.singularValueDecompose2dScale(this.matrix),nt=Util.singularValueDecompose2dScale(this.baseTransform),st=rt[0]*nt[0],ot=rt[1]*nt[1];let ct=tt,at=it,ht=!1,lt=!1;const ft=Math.ceil(b*st),yt=Math.ceil(_*ot),Et=Math.ceil(tt*st),mt=Math.ceil(it*ot);ft>=Et?ct=b:ht=!0,yt>=mt?at=_:lt=!0;const At=this.getSizeAndScale(ct,this.ctx.canvas.width,st),Rt=this.getSizeAndScale(at,this.ctx.canvas.height,ot),qt=e.cachedCanvases.getCanvas("pattern",At.size,Rt.size),Bt=qt.context,$t=g.createCanvasGraphics(Bt);if($t.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext($t,o,d),Bt.translate(-At.scale*j,-Rt.scale*$),$t.transform(At.scale,0,0,Rt.scale,0,0),Bt.save(),this.clipBbox($t,j,$,_e,et),$t.baseTransform=getCurrentTransform($t.ctx),$t.executeOperatorList(a),$t.endDrawing(),Bt.restore(),ht||lt){const jt=qt.canvas;ht&&(ct=b),lt&&(at=_);const Ft=this.getSizeAndScale(ct,this.ctx.canvas.width,st),St=this.getSizeAndScale(at,this.ctx.canvas.height,ot),It=Ft.size,zt=St.size,_t=e.cachedCanvases.getCanvas("pattern-workaround",It,zt),vt=_t.context,bt=ht?Math.floor(tt/b):0,wt=lt?Math.floor(it/_):0;for(let Pt=0;Pt<=bt;Pt++)for(let kt=0;kt<=wt;kt++)vt.drawImage(jt,It*Pt,zt*kt,It,zt,0,0,It,zt);return{canvas:_t.canvas,scaleX:Ft.scale,scaleY:St.scale,offsetX:j,offsetY:$}}return{canvas:qt.canvas,scaleX:At.scale,scaleY:Rt.scale,offsetX:j,offsetY:$}}getSizeAndScale(e,i,a){const o=Math.max(H0.MAX_PATTERN_SIZE,i);let c=Math.ceil(e*a);return c>=o?c=o:a=c/e,{scale:a,size:c}}clipBbox(e,i,a,o,c){const d=o-i,g=c-a;e.ctx.rect(i,a,d,g),e.current.updateRectMinMax(getCurrentTransform(e.ctx),[i,a,o,c]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,a){const o=e.ctx,c=e.current;switch(i){case PaintType.COLORED:const d=this.ctx;o.fillStyle=d.fillStyle,o.strokeStyle=d.strokeStyle,c.fillColor=d.fillStyle,c.strokeColor=d.strokeStyle;break;case PaintType.UNCOLORED:const g=Util.makeHexColor(a[0],a[1],a[2]);o.fillStyle=g,o.strokeStyle=g,c.fillColor=g,c.strokeColor=g;break;default:throw new FormatError(`Unsupported paint type: ${i}`)}}getPattern(e,i,a,o){let c=a;o!==PathType.SHADING&&(c=Util.transform(c,i.baseTransform),this.matrix&&(c=Util.transform(c,this.matrix)));const d=this.createPatternCanvas(i);let g=new DOMMatrix(c);g=g.translate(d.offsetX,d.offsetY),g=g.scale(1/d.scaleX,1/d.scaleY);const b=e.createPattern(d.canvas,"repeat");return b.setTransform(g),b}};Xn(H0,"MAX_PATTERN_SIZE",3e3);let TilingPattern=H0;function convertBlackAndWhiteToRGBA({src:s,srcPos:e=0,dest:i,width:a,height:o,nonBlackColor:c=4294967295,inverseDecode:d=!1}){const g=util_FeatureTest.isLittleEndian?4278190080:255,[b,_]=d?[c,g]:[g,c],j=a>>3,$=a&7,_e=s.length;i=new Uint32Array(i.buffer);let et=0;for(let tt=0;tt<o;tt++){for(const rt=e+j;e<rt;e++){const nt=e<_e?s[e]:255;i[et++]=nt&128?_:b,i[et++]=nt&64?_:b,i[et++]=nt&32?_:b,i[et++]=nt&16?_:b,i[et++]=nt&8?_:b,i[et++]=nt&4?_:b,i[et++]=nt&2?_:b,i[et++]=nt&1?_:b}if($===0)continue;const it=e<_e?s[e++]:255;for(let rt=0;rt<$;rt++)i[et++]=it&1<<7-rt?_:b}return{srcPos:e,destPos:et}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(s,e){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){e.save(),this.__originalSave()},s.restore=function(){e.restore(),this.__originalRestore()},s.translate=function(a,o){e.translate(a,o),this.__originalTranslate(a,o)},s.scale=function(a,o){e.scale(a,o),this.__originalScale(a,o)},s.transform=function(a,o,c,d,g,b){e.transform(a,o,c,d,g,b),this.__originalTransform(a,o,c,d,g,b)},s.setTransform=function(a,o,c,d,g,b){e.setTransform(a,o,c,d,g,b),this.__originalSetTransform(a,o,c,d,g,b)},s.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},s.rotate=function(a){e.rotate(a),this.__originalRotate(a)},s.clip=function(a){e.clip(a),this.__originalClip(a)},s.moveTo=function(i,a){e.moveTo(i,a),this.__originalMoveTo(i,a)},s.lineTo=function(i,a){e.lineTo(i,a),this.__originalLineTo(i,a)},s.bezierCurveTo=function(i,a,o,c,d,g){e.bezierCurveTo(i,a,o,c,d,g),this.__originalBezierCurveTo(i,a,o,c,d,g)},s.rect=function(i,a,o,c){e.rect(i,a,o,c),this.__originalRect(i,a,o,c)},s.closePath=function(){e.closePath(),this.__originalClosePath()},s.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,a){let o;return this.cache[e]!==void 0?(o=this.cache[e],this.canvasFactory.reset(o,i,a)):(o=this.canvasFactory.create(i,a),this.cache[e]=o),o}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const i=this.cache[e];this.canvasFactory.destroy(i),delete this.cache[e]}}}function drawImageAtIntegerCoords(s,e,i,a,o,c,d,g,b,_){const[j,$,_e,et,tt,it]=getCurrentTransform(s);if($===0&&_e===0){const st=d*j+tt,ot=Math.round(st),ct=g*et+it,at=Math.round(ct),ht=(d+b)*j+tt,lt=Math.abs(Math.round(ht)-ot)||1,ft=(g+_)*et+it,yt=Math.abs(Math.round(ft)-at)||1;return s.setTransform(Math.sign(j),0,0,Math.sign(et),ot,at),s.drawImage(e,i,a,o,c,0,0,lt,yt),s.setTransform(j,$,_e,et,tt,it),[lt,yt]}if(j===0&&et===0){const st=g*_e+tt,ot=Math.round(st),ct=d*$+it,at=Math.round(ct),ht=(g+_)*_e+tt,lt=Math.abs(Math.round(ht)-ot)||1,ft=(d+b)*$+it,yt=Math.abs(Math.round(ft)-at)||1;return s.setTransform(0,Math.sign($),Math.sign(_e),0,ot,at),s.drawImage(e,i,a,o,c,0,0,yt,lt),s.setTransform(j,$,_e,et,tt,it),[yt,lt]}s.drawImage(e,i,a,o,c,d,g,b,_);const rt=Math.hypot(j,$),nt=Math.hypot(_e,et);return[rt*b,nt*_]}function compileType3Glyph(s){const{width:e,height:i}=s;if(e>MAX_SIZE_TO_COMPILE||i>MAX_SIZE_TO_COMPILE)return null;const a=1e3,o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=e+1;let d=new Uint8Array(c*(i+1)),g,b,_;const j=e+7&-8;let $=new Uint8Array(j*i),_e=0;for(const nt of s.data){let st=128;for(;st>0;)$[_e++]=nt&st?0:255,st>>=1}let et=0;for(_e=0,$[_e]!==0&&(d[0]=1,++et),b=1;b<e;b++)$[_e]!==$[_e+1]&&(d[b]=$[_e]?2:1,++et),_e++;for($[_e]!==0&&(d[b]=2,++et),g=1;g<i;g++){_e=g*j,_=g*c,$[_e-j]!==$[_e]&&(d[_]=$[_e]?1:8,++et);let nt=($[_e]?4:0)+($[_e-j]?8:0);for(b=1;b<e;b++)nt=(nt>>2)+($[_e+1]?4:0)+($[_e-j+1]?8:0),o[nt]&&(d[_+b]=o[nt],++et),_e++;if($[_e-j]!==$[_e]&&(d[_+b]=$[_e]?2:4,++et),et>a)return null}for(_e=j*(i-1),_=g*c,$[_e]!==0&&(d[_]=8,++et),b=1;b<e;b++)$[_e]!==$[_e+1]&&(d[_+b]=$[_e]?4:8,++et),_e++;if($[_e]!==0&&(d[_+b]=4,++et),et>a)return null;const tt=new Int32Array([0,c,-1,0,-c,0,0,0,1]),it=new Path2D;for(g=0;et&&g<=i;g++){let nt=g*c;const st=nt+e;for(;nt<st&&!d[nt];)nt++;if(nt===st)continue;it.moveTo(nt%c,g);const ot=nt;let ct=d[nt];do{const at=tt[ct];do nt+=at;while(!d[nt]);const ht=d[nt];ht!==5&&ht!==10?(ct=ht,d[nt]=0):(ct=ht&51*ct>>4,d[nt]&=ct>>2|ct<<2),it.lineTo(nt%c,nt/c|0),d[nt]||--et}while(ot!==nt);--g}return $=null,d=null,function(nt){nt.save(),nt.scale(1/e,-1/i),nt.translate(0,-i),nt.fill(it),nt.beginPath(),nt.restore()}}class CanvasExtraState{constructor(e,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,i])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,i){this.x=e,this.y=i}updatePathMinMax(e,i,a){[i,a]=Util.applyTransform([i,a],e),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(e,i){const a=Util.applyTransform(i,e),o=Util.applyTransform(i.slice(2),e),c=Util.applyTransform([i[0],i[3]],e),d=Util.applyTransform([i[2],i[1]],e);this.minX=Math.min(this.minX,a[0],o[0],c[0],d[0]),this.minY=Math.min(this.minY,a[1],o[1],c[1],d[1]),this.maxX=Math.max(this.maxX,a[0],o[0],c[0],d[0]),this.maxY=Math.max(this.maxY,a[1],o[1],c[1],d[1])}updateScalingPathMinMax(e,i){Util.scaleMinMax(e,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(e,i,a,o,c,d,g,b,_,j){const $=Util.bezierBoundingBox(i,a,o,c,d,g,b,_,j);j||this.updateRectMinMax(e,$)}getPathBoundingBox(e=PathType.FILL,i=null){const a=[this.minX,this.minY,this.maxX,this.maxY];if(e===PathType.STROKE){i||unreachable("Stroke bounding box must include transform.");const o=Util.singularValueDecompose2dScale(i),c=o[0]*this.lineWidth/2,d=o[1]*this.lineWidth/2;a[0]-=c,a[1]-=d,a[2]+=c,a[3]+=d}return a}updateClipFromPath(){const e=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=PathType.FILL,i=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function putBinaryImageData(s,e){if(typeof ImageData<"u"&&e instanceof ImageData){s.putImageData(e,0,0);return}const i=e.height,a=e.width,o=i%FULL_CHUNK_HEIGHT,c=(i-o)/FULL_CHUNK_HEIGHT,d=o===0?c:c+1,g=s.createImageData(a,FULL_CHUNK_HEIGHT);let b=0,_;const j=e.data,$=g.data;let _e,et,tt,it;if(e.kind===util_ImageKind.GRAYSCALE_1BPP){const rt=j.byteLength,nt=new Uint32Array($.buffer,0,$.byteLength>>2),st=nt.length,ot=a+7>>3,ct=4294967295,at=util_FeatureTest.isLittleEndian?4278190080:255;for(_e=0;_e<d;_e++){for(tt=_e<c?FULL_CHUNK_HEIGHT:o,_=0,et=0;et<tt;et++){const ht=rt-b;let lt=0;const ft=ht>ot?a:ht*8-7,yt=ft&-8;let Et=0,mt=0;for(;lt<yt;lt+=8)mt=j[b++],nt[_++]=mt&128?ct:at,nt[_++]=mt&64?ct:at,nt[_++]=mt&32?ct:at,nt[_++]=mt&16?ct:at,nt[_++]=mt&8?ct:at,nt[_++]=mt&4?ct:at,nt[_++]=mt&2?ct:at,nt[_++]=mt&1?ct:at;for(;lt<ft;lt++)Et===0&&(mt=j[b++],Et=128),nt[_++]=mt&Et?ct:at,Et>>=1}for(;_<st;)nt[_++]=0;s.putImageData(g,0,_e*FULL_CHUNK_HEIGHT)}}else if(e.kind===util_ImageKind.RGBA_32BPP){for(et=0,it=a*FULL_CHUNK_HEIGHT*4,_e=0;_e<c;_e++)$.set(j.subarray(b,b+it)),b+=it,s.putImageData(g,0,et),et+=FULL_CHUNK_HEIGHT;_e<d&&(it=a*o*4,$.set(j.subarray(b,b+it)),s.putImageData(g,0,et))}else if(e.kind===util_ImageKind.RGB_24BPP)for(tt=FULL_CHUNK_HEIGHT,it=a*tt,_e=0;_e<d;_e++){for(_e>=c&&(tt=o,it=a*tt),_=0,et=it;et--;)$[_++]=j[b++],$[_++]=j[b++],$[_++]=j[b++],$[_++]=255;s.putImageData(g,0,_e*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${e.kind}`)}function putBinaryImageMask(s,e){if(e.bitmap){s.drawImage(e.bitmap,0,0);return}const i=e.height,a=e.width,o=i%FULL_CHUNK_HEIGHT,c=(i-o)/FULL_CHUNK_HEIGHT,d=o===0?c:c+1,g=s.createImageData(a,FULL_CHUNK_HEIGHT);let b=0;const _=e.data,j=g.data;for(let $=0;$<d;$++){const _e=$<c?FULL_CHUNK_HEIGHT:o;({srcPos:b}=convertBlackAndWhiteToRGBA({src:_,srcPos:b,dest:j,width:a,height:_e,nonBlackColor:0})),s.putImageData(g,0,$*FULL_CHUNK_HEIGHT)}}function copyCtxState(s,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of i)s[a]!==void 0&&(e[a]=s[a]);s.setLineDash!==void 0&&(e.setLineDash(s.getLineDash()),e.lineDashOffset=s.lineDashOffset)}function resetCtxToDefault(s){if(s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0),!isNodeJS){const{filter:e}=s;e!=="none"&&e!==""&&(s.filter="none")}}function getImageSmoothingEnabled(s,e){if(e)return!0;const i=Util.singularValueDecompose2dScale(s);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return i[0]<=a&&i[1]<=a}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Lu,rw,aw;const Bw=class Bw{constructor(e,i,a,o,c,{optionalContentConfig:d,markedContentStack:g=null},b,_){pt(this,Lu);this.ctx=e,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=a,this.canvasFactory=o,this.filterFactory=c,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=g||[],this.optionalContentConfig=d,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=b,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=_,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:a=!1,background:o=null}){const c=this.ctx.canvas.width,d=this.ctx.canvas.height,g=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,c,d),this.ctx.fillStyle=g,a){const b=this.cachedCanvases.getCanvas("transparent",c,d);this.compositeCtx=this.ctx,this.transparentCanvas=b.canvas,this.ctx=b.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(e,i,a,o){const c=e.argsArray,d=e.fnArray;let g=i||0;const b=c.length;if(b===g)return g;const _=b-g>EXECUTION_STEPS&&typeof a=="function",j=_?Date.now()+EXECUTION_TIME:0;let $=0;const _e=this.commonObjs,et=this.objs;let tt;for(;;){if(o!==void 0&&g===o.nextBreakPoint)return o.breakIt(g,a),g;if(tt=d[g],tt!==OPS.dependency)this[tt].apply(this,c[g]);else for(const it of c[g]){const rt=it.startsWith("g_")?_e:et;if(!rt.has(it))return rt.get(it,a),g}if(g++,g===b)return g;if(_&&++$>EXECUTION_STEPS){if(Date.now()>j)return a(),g;$=0}}}endDrawing(){ut(this,Lu,rw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),ut(this,Lu,aw).call(this)}_scaleImage(e,i){const a=e.width??e.displayWidth,o=e.height??e.displayHeight;let c=Math.max(Math.hypot(i[0],i[1]),1),d=Math.max(Math.hypot(i[2],i[3]),1),g=a,b=o,_="prescale1",j,$;for(;c>2&&g>1||d>2&&b>1;){let _e=g,et=b;c>2&&g>1&&(_e=g>=16384?Math.floor(g/2)-1||1:Math.ceil(g/2),c/=g/_e),d>2&&b>1&&(et=b>=16384?Math.floor(b/2)-1||1:Math.ceil(b)/2,d/=b/et),j=this.cachedCanvases.getCanvas(_,_e,et),$=j.context,$.clearRect(0,0,_e,et),$.drawImage(e,0,0,g,b,0,0,_e,et),e=j.canvas,g=_e,b=et,_=_==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:g,paintHeight:b}}_createMaskCanvas(e){const i=this.ctx,{width:a,height:o}=e,c=this.current.fillColor,d=this.current.patternFill,g=getCurrentTransform(i);let b,_,j,$;if((e.bitmap||e.data)&&e.count>1){const ft=e.bitmap||e.data.buffer;_=JSON.stringify(d?g:[g.slice(0,4),c]),b=this._cachedBitmapsMap.get(ft),b||(b=new Map,this._cachedBitmapsMap.set(ft,b));const yt=b.get(_);if(yt&&!d){const Et=Math.round(Math.min(g[0],g[2])+g[4]),mt=Math.round(Math.min(g[1],g[3])+g[5]);return{canvas:yt,offsetX:Et,offsetY:mt}}j=yt}j||($=this.cachedCanvases.getCanvas("maskCanvas",a,o),putBinaryImageMask($.context,e));let _e=Util.transform(g,[1/a,0,0,-1/o,0,0]);_e=Util.transform(_e,[1,0,0,1,0,-o]);const[et,tt,it,rt]=Util.getAxialAlignedBoundingBox([0,0,a,o],_e),nt=Math.round(it-et)||1,st=Math.round(rt-tt)||1,ot=this.cachedCanvases.getCanvas("fillCanvas",nt,st),ct=ot.context,at=et,ht=tt;ct.translate(-at,-ht),ct.transform(..._e),j||(j=this._scaleImage($.canvas,getCurrentTransformInverse(ct)),j=j.img,b&&d&&b.set(_,j)),ct.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(ct),e.interpolate),drawImageAtIntegerCoords(ct,j,0,0,j.width,j.height,0,0,a,o),ct.globalCompositeOperation="source-in";const lt=Util.transform(getCurrentTransformInverse(ct),[1,0,0,1,-at,-ht]);return ct.fillStyle=d?c.getPattern(i,this,lt,PathType.FILL):c,ct.fillRect(0,0,a,o),b&&!d&&(this.cachedCanvases.delete("fillCanvas"),b.set(_,ot.canvas)),{canvas:ot.canvas,offsetX:Math.round(at),offsetY:Math.round(ht)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=LINE_CAP_STYLES[e]}setLineJoin(e){this.ctx.lineJoin=LINE_JOIN_STYLES[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(e),a.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,a]of e)switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(a,e,i);this.suspendedCtx=this.ctx,this.ctx=o.context;const c=this.ctx;c.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,c),mirrorContextOperations(c,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,i,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,i,a,o){const c=o[0],d=o[1],g=o[2]-c,b=o[3]-d;g===0||b===0||(this.genericComposeSMask(i.context,a,g,b,i.subtype,i.backdrop,i.transferMap,c,d,i.offsetX,i.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(a.canvas,0,0),e.restore())}genericComposeSMask(e,i,a,o,c,d,g,b,_,j,$){let _e=e.canvas,et=b-j,tt=_-$;if(d){const rt=Util.makeHexColor(...d);if(et<0||tt<0||et+a>_e.width||tt+o>_e.height){const nt=this.cachedCanvases.getCanvas("maskExtension",a,o),st=nt.context;st.drawImage(_e,-et,-tt),st.globalCompositeOperation="destination-atop",st.fillStyle=rt,st.fillRect(0,0,a,o),st.globalCompositeOperation="source-over",_e=nt.canvas,et=tt=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const nt=new Path2D;nt.rect(et,tt,a,o),e.clip(nt),e.globalCompositeOperation="destination-atop",e.fillStyle=rt,e.fillRect(et,tt,a,o),e.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),c==="Alpha"&&g?i.filter=this.filterFactory.addAlphaFilter(g):c==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(g));const it=new Path2D;it.rect(b,_,a,o),i.clip(it),i.globalCompositeOperation="destination-in",i.drawImage(_e,et,tt,a,o,b,_,a,o),i.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,i,a,o,c,d){this.ctx.transform(e,i,a,o,c,d),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,i,a){const o=this.ctx,c=this.current;let d=c.x,g=c.y,b,_;const j=getCurrentTransform(o),$=j[0]===0&&j[3]===0||j[1]===0&&j[2]===0,_e=$?a.slice(0):null;for(let et=0,tt=0,it=e.length;et<it;et++)switch(e[et]|0){case OPS.rectangle:d=i[tt++],g=i[tt++];const rt=i[tt++],nt=i[tt++],st=d+rt,ot=g+nt;o.moveTo(d,g),rt===0||nt===0?o.lineTo(st,ot):(o.lineTo(st,g),o.lineTo(st,ot),o.lineTo(d,ot)),$||c.updateRectMinMax(j,[d,g,st,ot]),o.closePath();break;case OPS.moveTo:d=i[tt++],g=i[tt++],o.moveTo(d,g),$||c.updatePathMinMax(j,d,g);break;case OPS.lineTo:d=i[tt++],g=i[tt++],o.lineTo(d,g),$||c.updatePathMinMax(j,d,g);break;case OPS.curveTo:b=d,_=g,d=i[tt+4],g=i[tt+5],o.bezierCurveTo(i[tt],i[tt+1],i[tt+2],i[tt+3],d,g),c.updateCurvePathMinMax(j,b,_,i[tt],i[tt+1],i[tt+2],i[tt+3],d,g,_e),tt+=6;break;case OPS.curveTo2:b=d,_=g,o.bezierCurveTo(d,g,i[tt],i[tt+1],i[tt+2],i[tt+3]),c.updateCurvePathMinMax(j,b,_,d,g,i[tt],i[tt+1],i[tt+2],i[tt+3],_e),d=i[tt+2],g=i[tt+3],tt+=4;break;case OPS.curveTo3:b=d,_=g,d=i[tt+2],g=i[tt+3],o.bezierCurveTo(i[tt],i[tt+1],d,g,d,g),c.updateCurvePathMinMax(j,b,_,i[tt],i[tt+1],d,g,d,g,_e),tt+=4;break;case OPS.closePath:o.closePath();break}$&&c.updateScalingPathMinMax(j,_e),c.setCurrentPoint(d,g)}closePath(){this.ctx.closePath()}stroke(e=!0){const i=this.ctx,a=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof a=="object"&&(a!=null&&a.getPattern)?(i.save(),i.strokeStyle=a.getPattern(i,this,getCurrentTransformInverse(i),PathType.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const i=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let c=!1;o&&(i.save(),i.fillStyle=a.getPattern(i,this,getCurrentTransformInverse(i),PathType.FILL),c=!0);const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),c&&i.restore(),e&&this.consumePath(d)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(e===void 0){i.beginPath();return}i.save(),i.beginPath();for(const a of e)i.setTransform(...a.transform),i.translate(a.x,a.y),a.addToPath(i,a.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){var j;const a=this.commonObjs.get(e),o=this.current;if(!a)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=a.fontMatrix||FONT_IDENTITY_MATRIX,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+e),i<0?(i=-i,o.fontDirection=-1):o.fontDirection=1,this.current.font=a,this.current.fontSize=i,a.isType3Font)return;const c=a.loadedName||"sans-serif",d=((j=a.systemFontInfo)==null?void 0:j.css)||`"${c}", ${a.fallbackName}`;let g="normal";a.black?g="900":a.bold&&(g="bold");const b=a.italic?"italic":"normal";let _=i;i<MIN_FONT_SIZE?_=MIN_FONT_SIZE:i>MAX_FONT_SIZE&&(_=MAX_FONT_SIZE),this.current.fontSizeScale=i/_,this.ctx.font=`${b} ${g} ${_}px ${d}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e,i,a,o,c,d){this.current.textMatrix=[e,i,a,o,c,d],this.current.textMatrixScale=Math.hypot(e,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,a,o){const c=this.ctx,d=this.current,g=d.font,b=d.textRenderingMode,_=d.fontSize/d.fontSizeScale,j=b&TextRenderingMode.FILL_STROKE_MASK,$=!!(b&TextRenderingMode.ADD_TO_PATH_FLAG),_e=d.patternFill&&!g.missingFile;let et;(g.disableFontFace||$||_e)&&(et=g.getPathGenerator(this.commonObjs,e)),g.disableFontFace||_e?(c.save(),c.translate(i,a),c.beginPath(),et(c,_),o&&c.setTransform(...o),(j===TextRenderingMode.FILL||j===TextRenderingMode.FILL_STROKE)&&c.fill(),(j===TextRenderingMode.STROKE||j===TextRenderingMode.FILL_STROKE)&&c.stroke(),c.restore()):((j===TextRenderingMode.FILL||j===TextRenderingMode.FILL_STROKE)&&c.fillText(e,i,a),(j===TextRenderingMode.STROKE||j===TextRenderingMode.FILL_STROKE)&&c.strokeText(e,i,a)),$&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(c),x:i,y:a,fontSize:_,addToPath:et})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let a=!1;for(let o=3;o<i.length;o+=4)if(i[o]>0&&i[o]<255){a=!0;break}return shadow(this,"isFontSubpixelAAEnabled",a)}showText(e){const i=this.current,a=i.font;if(a.isType3Font)return this.showType3Text(e);const o=i.fontSize;if(o===0)return;const c=this.ctx,d=i.fontSizeScale,g=i.charSpacing,b=i.wordSpacing,_=i.fontDirection,j=i.textHScale*_,$=e.length,_e=a.vertical,et=_e?1:-1,tt=a.defaultVMetrics,it=o*i.fontMatrix[0],rt=i.textRenderingMode===TextRenderingMode.FILL&&!a.disableFontFace&&!i.patternFill;c.save(),c.transform(...i.textMatrix),c.translate(i.x,i.y+i.textRise),_>0?c.scale(j,-1):c.scale(j,1);let nt;if(i.patternFill){c.save();const ht=i.fillColor.getPattern(c,this,getCurrentTransformInverse(c),PathType.FILL);nt=getCurrentTransform(c),c.restore(),c.fillStyle=ht}let st=i.lineWidth;const ot=i.textMatrixScale;if(ot===0||st===0){const ht=i.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(ht===TextRenderingMode.STROKE||ht===TextRenderingMode.FILL_STROKE)&&(st=this.getSinglePixelWidth())}else st/=ot;if(d!==1&&(c.scale(d,d),st/=d),c.lineWidth=st,a.isInvalidPDFjsFont){const ht=[];let lt=0;for(const ft of e)ht.push(ft.unicode),lt+=ft.width;c.fillText(ht.join(""),0,0),i.x+=lt*it*j,c.restore(),this.compose();return}let ct=0,at;for(at=0;at<$;++at){const ht=e[at];if(typeof ht=="number"){ct+=et*ht*o/1e3;continue}let lt=!1;const ft=(ht.isSpace?b:0)+g,yt=ht.fontChar,Et=ht.accent;let mt,At,Rt=ht.width;if(_e){const Bt=ht.vmetric||tt,$t=-(ht.vmetric?Bt[1]:Rt*.5)*it,jt=Bt[2]*it;Rt=Bt?-Bt[0]:Rt,mt=$t/d,At=(ct+jt)/d}else mt=ct/d,At=0;if(a.remeasure&&Rt>0){const Bt=c.measureText(yt).width*1e3/o*d;if(Rt<Bt&&this.isFontSubpixelAAEnabled){const $t=Rt/Bt;lt=!0,c.save(),c.scale($t,1),mt/=$t}else Rt!==Bt&&(mt+=(Rt-Bt)/2e3*o/d)}if(this.contentVisible&&(ht.isInFont||a.missingFile)){if(rt&&!Et)c.fillText(yt,mt,At);else if(this.paintChar(yt,mt,At,nt),Et){const Bt=mt+o*Et.offset.x/d,$t=At-o*Et.offset.y/d;this.paintChar(Et.fontChar,Bt,$t,nt)}}const qt=_e?Rt*it-ft*_:Rt*it+ft*_;ct+=qt,lt&&c.restore()}_e?i.y-=ct:i.x+=ct*j,c.restore(),this.compose()}showType3Text(e){const i=this.ctx,a=this.current,o=a.font,c=a.fontSize,d=a.fontDirection,g=o.vertical?1:-1,b=a.charSpacing,_=a.wordSpacing,j=a.textHScale*d,$=a.fontMatrix||FONT_IDENTITY_MATRIX,_e=e.length,et=a.textRenderingMode===TextRenderingMode.INVISIBLE;let tt,it,rt,nt;if(!(et||c===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...a.textMatrix),i.translate(a.x,a.y),i.scale(j,d),tt=0;tt<_e;++tt){if(it=e[tt],typeof it=="number"){nt=g*it*c/1e3,this.ctx.translate(nt,0),a.x+=nt*j;continue}const st=(it.isSpace?_:0)+b,ot=o.charProcOperatorList[it.operatorListId];if(!ot){warn(`Type3 character "${it.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=it,this.save(),i.scale(c,c),i.transform(...$),this.executeOperatorList(ot),this.restore()),rt=Util.applyTransform([it.width,0],$)[0]*c+st,i.translate(rt,0),a.x+=rt*j}i.restore(),this.processingType3=null}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,a,o,c,d){this.ctx.rect(a,o,c-a,d-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let i;if(e[0]==="TilingPattern"){const a=e[1],o=this.baseTransform||getCurrentTransform(this.ctx),c={createCanvasGraphics:d=>new Bw(d,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new TilingPattern(e,a,this.ctx,c,o)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,a){this.ctx.strokeStyle=this.current.strokeColor=Util.makeHexColor(e,i,a)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,i,a){this.ctx.fillStyle=this.current.fillColor=Util.makeHexColor(e,i,a),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,i=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=getShadingPattern(this.getObject(e)),this.cachedPatterns.set(e,a)),i&&(a.matrix=i),a}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const a=this._getPattern(e);i.fillStyle=a.getPattern(i,this,getCurrentTransformInverse(i),PathType.SHADING);const o=getCurrentTransformInverse(i);if(o){const{width:c,height:d}=i.canvas,[g,b,_,j]=Util.getAxialAlignedBoundingBox([0,0,c,d],o);this.ctx.fillRect(g,b,_-g,j-b)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(e,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=getCurrentTransform(this.ctx),i)){const a=i[2]-i[0],o=i[3]-i[1];this.ctx.rect(i[0],i[1],a,o),this.current.updateRectMinMax(getCurrentTransform(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||info("TODO: Support non-isolated groups."),e.knockout&&warn("Knockout groups not supported.");const a=getCurrentTransform(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Util.getAxialAlignedBoundingBox(e.bbox,getCurrentTransform(i));const c=[0,0,i.canvas.width,i.canvas.height];o=Util.intersect(o,c)||[0,0,0,0];const d=Math.floor(o[0]),g=Math.floor(o[1]),b=Math.max(Math.ceil(o[2])-d,1),_=Math.max(Math.ceil(o[3])-g,1);this.current.startNewPathAndClipBox([0,0,b,_]);let j="groupAt"+this.groupLevel;e.smask&&(j+="_smask_"+this.smaskCounter++%2);const $=this.cachedCanvases.getCanvas(j,b,_),_e=$.context;_e.translate(-d,-g),_e.transform(...a),e.smask?this.smaskStack.push({canvas:$.canvas,context:_e,offsetX:d,offsetY:g,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(d,g),i.save()),copyCtxState(i,_e),this.ctx=_e,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const c=Util.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(e,i,a,o,c){if(ut(this,Lu,rw).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const d=i[2]-i[0],g=i[3]-i[1];if(c&&this.annotationCanvasMap){a=a.slice(),a[4]-=i[0],a[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=d,i[3]=g;const[b,_]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:j}=this,$=Math.ceil(d*this.outputScaleX*j),_e=Math.ceil(g*this.outputScaleY*j);this.annotationCanvas=this.canvasFactory.create($,_e);const{canvas:et,context:tt}=this.annotationCanvas;this.annotationCanvasMap.set(e,et),this.annotationCanvas.savedCtx=this.ctx,this.ctx=tt,this.ctx.save(),this.ctx.setTransform(b,0,0,-_,0,g*_),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.endPath(),this.ctx.rect(i[0],i[1],d,g),this.ctx.clip(),this.ctx.beginPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ut(this,Lu,aw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(e.data,e),e.count=i;const a=this.ctx,o=this.processingType3;if(o&&(o.compiled===void 0&&(o.compiled=compileType3Glyph(e)),o.compiled)){o.compiled(a);return}const c=this._createMaskCanvas(e),d=c.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(d,c.offsetX,c.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,a=0,o=0,c,d){if(!this.contentVisible)return;e=this.getObject(e.data,e);const g=this.ctx;g.save();const b=getCurrentTransform(g);g.transform(i,a,o,c,0,0);const _=this._createMaskCanvas(e);g.setTransform(1,0,0,1,_.offsetX-b[4],_.offsetY-b[5]);for(let j=0,$=d.length;j<$;j+=2){const _e=Util.transform(b,[i,a,o,c,d[j],d[j+1]]),[et,tt]=Util.applyTransform([0,0],_e);g.drawImage(_.canvas,et,tt)}g.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,a=this.current.fillColor,o=this.current.patternFill;for(const c of e){const{data:d,width:g,height:b,transform:_}=c,j=this.cachedCanvases.getCanvas("maskCanvas",g,b),$=j.context;$.save();const _e=this.getObject(d,c);putBinaryImageMask($,_e),$.globalCompositeOperation="source-in",$.fillStyle=o?a.getPattern($,this,getCurrentTransformInverse(i),PathType.FILL):a,$.fillRect(0,0,g,b),$.restore(),i.save(),i.transform(..._),i.scale(1,-1),drawImageAtIntegerCoords(i,j.canvas,0,0,g,b,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(e,i,a,o){if(!this.contentVisible)return;const c=this.getObject(e);if(!c){warn("Dependent image isn't ready yet");return}const d=c.width,g=c.height,b=[];for(let _=0,j=o.length;_<j;_+=2)b.push({transform:[i,0,0,a,o[_],o[_+1]],x:0,y:0,w:d,h:g});this.paintInlineImageXObjectGroup(c,b)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:i,width:a,height:o}=e,c=this.cachedCanvases.getCanvas("inlineImage",a,o),d=c.context;return d.filter=this.current.transferMaps,d.drawImage(i,0,0),d.filter="none",c.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,a=e.height,o=this.ctx;if(this.save(),!isNodeJS){const{filter:g}=o;g!=="none"&&g!==""&&(o.filter="none")}o.scale(1/i,-1/a);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const b=this.cachedCanvases.getCanvas("inlineImage",i,a).context;putBinaryImageData(b,e),c=this.applyTransferMapsToCanvas(b)}const d=this._scaleImage(c,getCurrentTransformInverse(o));o.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(o),e.interpolate),drawImageAtIntegerCoords(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-a,i,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const a=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const c=e.width,d=e.height,b=this.cachedCanvases.getCanvas("inlineImage",c,d).context;putBinaryImageData(b,e),o=this.applyTransferMapsToCanvas(b)}for(const c of i)a.save(),a.transform(...c.transform),a.scale(1,-1),drawImageAtIntegerCoords(a,o,c.x,c.y,c.w,c.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===EO_CLIP?a.clip("evenodd"):a.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=getCurrentTransform(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),a=Math.hypot(e[0],e[2]),o=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(a,o)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:i,b:a,c:o,d:c}=this.ctx.getTransform();let d,g;if(a===0&&o===0){const b=Math.abs(i),_=Math.abs(c);if(b===_)if(e===0)d=g=1/b;else{const j=b*e;d=g=j<1?1/j:1}else if(e===0)d=1/b,g=1/_;else{const j=b*e,$=_*e;d=j<1?1/j:1,g=$<1?1/$:1}}else{const b=Math.abs(i*c-a*o),_=Math.hypot(i,a),j=Math.hypot(o,c);if(e===0)d=j/b,g=_/b;else{const $=e*b;d=j>$?j/$:1,g=_>$?_/$:1}}this._cachedScaleForStroking[0]=d,this._cachedScaleForStroking[1]=g}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:i}=this,{lineWidth:a}=this.current,[o,c]=this.getScaleForStroking();if(i.lineWidth=a||1,o===1&&c===1){i.stroke();return}const d=i.getLineDash();if(e&&i.save(),i.scale(o,c),d.length>0){const g=Math.max(o,c);i.setLineDash(d.map(b=>b/g)),i.lineDashOffset/=g}i.stroke(),e&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Lu=new WeakSet,rw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},aw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const i=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}};let CanvasGraphics=Bw;for(const s in OPS)CanvasGraphics.prototype[s]!==void 0&&(CanvasGraphics.prototype[OPS[s]]=CanvasGraphics.prototype[s]);var Uv,$v;class GlobalWorkerOptions{static get workerPort(){return h(this,Uv)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");dt(this,Uv,e)}static get workerSrc(){return h(this,$v)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");dt(this,$v,e)}}Uv=new WeakMap,$v=new WeakMap,pt(GlobalWorkerOptions,Uv,null),pt(GlobalWorkerOptions,$v,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(s){switch(s instanceof Error||typeof s=="object"&&s!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new AbortException(s.message);case"MissingPDFException":return new MissingPDFException(s.message);case"PasswordException":return new PasswordException(s.message,s.code);case"UnexpectedResponseException":return new UnexpectedResponseException(s.message,s.status);case"UnknownErrorException":return new UnknownErrorException(s.message,s.details);default:return new UnknownErrorException(s.message,s.toString())}}var hm,fo,fA,pA,gA,u0;class MessageHandler{constructor(e,i,a){pt(this,fo);pt(this,hm,new AbortController);this.sourceName=e,this.targetName=i,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),a.addEventListener("message",ut(this,fo,fA).bind(this),{signal:h(this,hm).signal})}on(e,i){const a=this.actionHandler;if(a[e])throw new Error(`There is already an actionName called "${e}"`);a[e]=i}send(e,i,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:i},a)}sendWithPromise(e,i,a){const o=this.callbackId++,c=Promise.withResolvers();this.callbackCapabilities[o]=c;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:o,data:i},a)}catch(d){c.reject(d)}return c.promise}sendWithStream(e,i,a,o){const c=this.streamId++,d=this.sourceName,g=this.targetName,b=this.comObj;return new ReadableStream({start:_=>{const j=Promise.withResolvers();return this.streamControllers[c]={controller:_,startCall:j,pullCall:null,cancelCall:null,isClosed:!1},b.postMessage({sourceName:d,targetName:g,action:e,streamId:c,data:i,desiredSize:_.desiredSize},o),j.promise},pull:_=>{const j=Promise.withResolvers();return this.streamControllers[c].pullCall=j,b.postMessage({sourceName:d,targetName:g,stream:StreamKind.PULL,streamId:c,desiredSize:_.desiredSize}),j.promise},cancel:_=>{assert(_ instanceof Error,"cancel must have a valid reason");const j=Promise.withResolvers();return this.streamControllers[c].cancelCall=j,this.streamControllers[c].isClosed=!0,b.postMessage({sourceName:d,targetName:g,stream:StreamKind.CANCEL,streamId:c,reason:wrapReason(_)}),j.promise}},a)}destroy(){var e;(e=h(this,hm))==null||e.abort(),dt(this,hm,null)}}hm=new WeakMap,fo=new WeakSet,fA=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ut(this,fo,gA).call(this,e);return}if(e.callback){const a=e.callbackId,o=this.callbackCapabilities[a];if(!o)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],e.callback===CallbackKind.DATA)o.resolve(e.data);else if(e.callback===CallbackKind.ERROR)o.reject(wrapReason(e.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[e.action];if(!i)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const a=this.sourceName,o=e.sourceName,c=this.comObj;new Promise(function(d){d(i(e.data))}).then(function(d){c.postMessage({sourceName:a,targetName:o,callback:CallbackKind.DATA,callbackId:e.callbackId,data:d})},function(d){c.postMessage({sourceName:a,targetName:o,callback:CallbackKind.ERROR,callbackId:e.callbackId,reason:wrapReason(d)})});return}if(e.streamId){ut(this,fo,pA).call(this,e);return}i(e.data)},pA=function(e){const i=e.streamId,a=this.sourceName,o=e.sourceName,c=this.comObj,d=this,g=this.actionHandler[e.action],b={enqueue(_,j=1,$){if(this.isCancelled)return;const _e=this.desiredSize;this.desiredSize-=j,_e>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),c.postMessage({sourceName:a,targetName:o,stream:StreamKind.ENQUEUE,streamId:i,chunk:_},$)},close(){this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:a,targetName:o,stream:StreamKind.CLOSE,streamId:i}),delete d.streamSinks[i])},error(_){assert(_ instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,c.postMessage({sourceName:a,targetName:o,stream:StreamKind.ERROR,streamId:i,reason:wrapReason(_)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};b.sinkCapability.resolve(),b.ready=b.sinkCapability.promise,this.streamSinks[i]=b,new Promise(function(_){_(g(e.data,b))}).then(function(){c.postMessage({sourceName:a,targetName:o,stream:StreamKind.START_COMPLETE,streamId:i,success:!0})},function(_){c.postMessage({sourceName:a,targetName:o,stream:StreamKind.START_COMPLETE,streamId:i,reason:wrapReason(_)})})},gA=function(e){const i=e.streamId,a=this.sourceName,o=e.sourceName,c=this.comObj,d=this.streamControllers[i],g=this.streamSinks[i];switch(e.stream){case StreamKind.START_COMPLETE:e.success?d.startCall.resolve():d.startCall.reject(wrapReason(e.reason));break;case StreamKind.PULL_COMPLETE:e.success?d.pullCall.resolve():d.pullCall.reject(wrapReason(e.reason));break;case StreamKind.PULL:if(!g){c.postMessage({sourceName:a,targetName:o,stream:StreamKind.PULL_COMPLETE,streamId:i,success:!0});break}g.desiredSize<=0&&e.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=e.desiredSize,new Promise(function(b){var _;b((_=g.onPull)==null?void 0:_.call(g))}).then(function(){c.postMessage({sourceName:a,targetName:o,stream:StreamKind.PULL_COMPLETE,streamId:i,success:!0})},function(b){c.postMessage({sourceName:a,targetName:o,stream:StreamKind.PULL_COMPLETE,streamId:i,reason:wrapReason(b)})});break;case StreamKind.ENQUEUE:if(assert(d,"enqueue should have stream controller"),d.isClosed)break;d.controller.enqueue(e.chunk);break;case StreamKind.CLOSE:if(assert(d,"close should have stream controller"),d.isClosed)break;d.isClosed=!0,d.controller.close(),ut(this,fo,u0).call(this,d,i);break;case StreamKind.ERROR:assert(d,"error should have stream controller"),d.controller.error(wrapReason(e.reason)),ut(this,fo,u0).call(this,d,i);break;case StreamKind.CANCEL_COMPLETE:e.success?d.cancelCall.resolve():d.cancelCall.reject(wrapReason(e.reason)),ut(this,fo,u0).call(this,d,i);break;case StreamKind.CANCEL:if(!g)break;new Promise(function(b){var _;b((_=g.onCancel)==null?void 0:_.call(g,wrapReason(e.reason)))}).then(function(){c.postMessage({sourceName:a,targetName:o,stream:StreamKind.CANCEL_COMPLETE,streamId:i,success:!0})},function(b){c.postMessage({sourceName:a,targetName:o,stream:StreamKind.CANCEL_COMPLETE,streamId:i,reason:wrapReason(b)})}),g.sinkCapability.reject(wrapReason(e.reason)),g.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},u0=async function(e,i){var a,o,c;await Promise.allSettled([(a=e.startCall)==null?void 0:a.promise,(o=e.pullCall)==null?void 0:o.promise,(c=e.cancelCall)==null?void 0:c.promise]),delete this.streamControllers[i]};var sp,zv;class Metadata{constructor({parsedData:e,rawData:i}){pt(this,sp);pt(this,zv);dt(this,sp,e),dt(this,zv,i)}getRaw(){return h(this,zv)}get(e){return h(this,sp).get(e)??null}getAll(){return objectFromMap(h(this,sp))}has(e){return h(this,sp).has(e)}}sp=new WeakMap,zv=new WeakMap;const INTERNAL=Symbol("INTERNAL");var Vv,Wv,Gv,fm;class OptionalContentGroup{constructor(e,{name:i,intent:a,usage:o,rbGroups:c}){pt(this,Vv,!1);pt(this,Wv,!1);pt(this,Gv,!1);pt(this,fm,!0);dt(this,Vv,!!(e&RenderingIntentFlag.DISPLAY)),dt(this,Wv,!!(e&RenderingIntentFlag.PRINT)),this.name=i,this.intent=a,this.usage=o,this.rbGroups=c}get visible(){if(h(this,Gv))return h(this,fm);if(!h(this,fm))return!1;const{print:e,view:i}=this.usage;return h(this,Vv)?(i==null?void 0:i.viewState)!=="OFF":h(this,Wv)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,i,a=!1){e!==INTERNAL&&unreachable("Internal method `_setVisible` called."),dt(this,Gv,a),dt(this,fm,i)}}Vv=new WeakMap,Wv=new WeakMap,Gv=new WeakMap,fm=new WeakMap;var gu,Ws,pm,gm,Xv,ow;class OptionalContentConfig{constructor(e,i=RenderingIntentFlag.DISPLAY){pt(this,Xv);pt(this,gu,null);pt(this,Ws,new Map);pt(this,pm,null);pt(this,gm,null);if(this.renderingIntent=i,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,dt(this,gm,e.order);for(const a of e.groups)h(this,Ws).set(a.id,new OptionalContentGroup(i,a));if(e.baseState==="OFF")for(const a of h(this,Ws).values())a._setVisible(INTERNAL,!1);for(const a of e.on)h(this,Ws).get(a)._setVisible(INTERNAL,!0);for(const a of e.off)h(this,Ws).get(a)._setVisible(INTERNAL,!1);dt(this,pm,this.getHash())}}isVisible(e){if(h(this,Ws).size===0)return!0;if(!e)return info("Optional content group not defined."),!0;if(e.type==="OCG")return h(this,Ws).has(e.id)?h(this,Ws).get(e.id).visible:(warn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ut(this,Xv,ow).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const i of e.ids){if(!h(this,Ws).has(i))return warn(`Optional content group not found: ${i}`),!0;if(h(this,Ws).get(i).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const i of e.ids){if(!h(this,Ws).has(i))return warn(`Optional content group not found: ${i}`),!0;if(!h(this,Ws).get(i).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const i of e.ids){if(!h(this,Ws).has(i))return warn(`Optional content group not found: ${i}`),!0;if(!h(this,Ws).get(i).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const i of e.ids){if(!h(this,Ws).has(i))return warn(`Optional content group not found: ${i}`),!0;if(h(this,Ws).get(i).visible)return!1}return!0}return warn(`Unknown optional content policy ${e.policy}.`),!0}return warn(`Unknown group type ${e.type}.`),!0}setVisibility(e,i=!0,a=!0){var c;const o=h(this,Ws).get(e);if(!o){warn(`Optional content group not found: ${e}`);return}if(a&&i&&o.rbGroups.length)for(const d of o.rbGroups)for(const g of d)g!==e&&((c=h(this,Ws).get(g))==null||c._setVisible(INTERNAL,!1,!0));o._setVisible(INTERNAL,!!i,!0),dt(this,gu,null)}setOCGState({state:e,preserveRB:i}){let a;for(const o of e){switch(o){case"ON":case"OFF":case"Toggle":a=o;continue}const c=h(this,Ws).get(o);if(c)switch(a){case"ON":this.setVisibility(o,!0,i);break;case"OFF":this.setVisibility(o,!1,i);break;case"Toggle":this.setVisibility(o,!c.visible,i);break}}dt(this,gu,null)}get hasInitialVisibility(){return h(this,pm)===null||this.getHash()===h(this,pm)}getOrder(){return h(this,Ws).size?h(this,gm)?h(this,gm).slice():[...h(this,Ws).keys()]:null}getGroups(){return h(this,Ws).size>0?objectFromMap(h(this,Ws)):null}getGroup(e){return h(this,Ws).get(e)||null}getHash(){if(h(this,gu)!==null)return h(this,gu);const e=new MurmurHash3_64;for(const[i,a]of h(this,Ws))e.update(`${i}:${a.visible}`);return dt(this,gu,e.hexdigest())}}gu=new WeakMap,Ws=new WeakMap,pm=new WeakMap,gm=new WeakMap,Xv=new WeakSet,ow=function(e){const i=e.length;if(i<2)return!0;const a=e[0];for(let o=1;o<i;o++){const c=e[o];let d;if(Array.isArray(c))d=ut(this,Xv,ow).call(this,c);else if(h(this,Ws).has(c))d=h(this,Ws).get(c).visible;else return warn(`Optional content group not found: ${c}`),!0;switch(a){case"And":if(!d)return!1;break;case"Or":if(d)return!0;break;case"Not":return!d;default:return!0}}return a==="And"};class PDFDataTransportStream{constructor(e,{disableRange:i=!1,disableStream:a=!1}){assert(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:c,progressiveDone:d,contentDispositionFilename:g}=e;if(this._queuedChunks=[],this._progressiveDone=d,this._contentDispositionFilename=g,(c==null?void 0:c.length)>0){const b=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;this._queuedChunks.push(b)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!a,this._isRangeSupported=!i,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((b,_)=>{this._onReceiveData({begin:b,chunk:_})}),e.addProgressListener((b,_)=>{this._onProgress({loaded:b,total:_})}),e.addProgressiveReadListener(b=>{this._onReceiveData({chunk:b})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:i}){const a=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const o=this._rangeReaders.some(function(c){return c._begin!==e?!1:(c._enqueue(a),!0)});assert(o,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var i,a,o,c;e.total===void 0?(a=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded}):(c=(o=this._fullRequestReader)==null?void 0:o.onProgress)==null||c.call(o,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const i=this._rangeReaders.indexOf(e);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const a=new PDFDataTransportStreamRangeReader(this,e,i);return this._pdfDataRangeTransport.requestDataRange(e,i),this._rangeReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeReaders.slice(0))a.cancel(e);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(e,i,a=!1,o=null){this._stream=e,this._done=a||!1,this._filename=isPdfFile(o)?o:null,this._queuedChunks=i||[],this._loaded=0;for(const c of this._queuedChunks)this._loaded+=c.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(e,i,a){this._stream=e,this._begin=i,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(s){let e=!0,i=a("filename\\*","i").exec(s);if(i){i=i[1];let j=g(i);return j=unescape(j),j=b(j),j=_(j),c(j)}if(i=d(s),i){const j=_(i);return c(j)}if(i=a("filename","i").exec(s),i){i=i[1];let j=g(i);return j=_(j),c(j)}function a(j,$){return new RegExp("(?:^|;)\\s*"+j+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',$)}function o(j,$){if(j){if(!/^[\x00-\xFF]+$/.test($))return $;try{const _e=new TextDecoder(j,{fatal:!0}),et=stringToBytes($);$=_e.decode(et),e=!1}catch{}}return $}function c(j){return e&&/[\x80-\xff]/.test(j)&&(j=o("utf-8",j),e&&(j=o("iso-8859-1",j))),j}function d(j){const $=[];let _e;const et=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(_e=et.exec(j))!==null;){let[,it,rt,nt]=_e;if(it=parseInt(it,10),it in $){if(it===0)break;continue}$[it]=[rt,nt]}const tt=[];for(let it=0;it<$.length&&it in $;++it){let[rt,nt]=$[it];nt=g(nt),rt&&(nt=unescape(nt),it===0&&(nt=b(nt))),tt.push(nt)}return tt.join("")}function g(j){if(j.startsWith('"')){const $=j.slice(1).split('\\"');for(let _e=0;_e<$.length;++_e){const et=$[_e].indexOf('"');et!==-1&&($[_e]=$[_e].slice(0,et),$.length=_e+1),$[_e]=$[_e].replaceAll(/\\(.)/g,"$1")}j=$.join('"')}return j}function b(j){const $=j.indexOf("'");if($===-1)return j;const _e=j.slice(0,$),tt=j.slice($+1).replace(/^[^']*'/,"");return o(_e,tt)}function _(j){return!j.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(j)?j:j.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function($,_e,et,tt){if(et==="q"||et==="Q")return tt=tt.replaceAll("_"," "),tt=tt.replaceAll(/=([0-9a-fA-F]{2})/g,function(it,rt){return String.fromCharCode(parseInt(rt,16))}),o(_e,tt);try{tt=atob(tt)}catch{}return o(_e,tt)})}return""}function createHeaders(s,e){const i=new Headers;if(!s||!e||typeof e!="object")return i;for(const a in e){const o=e[a];o!==void 0&&i.append(a,o)}return i}function validateRangeRequestCapabilities({responseHeaders:s,isHttp:e,rangeChunkSize:i,disableRange:a}){const o={allowRangeRequests:!1,suggestedLength:void 0},c=parseInt(s.get("Content-Length"),10);return!Number.isInteger(c)||(o.suggestedLength=c,c<=2*i)||a||!e||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function extractFilenameFromHeader(s){const e=s.get("Content-Disposition");if(e){let i=getFilenameFromContentDispositionHeader(e);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(isPdfFile(i))return i}return null}function createResponseStatusError(s,e){return s===404||s===0&&e.startsWith("file:")?new MissingPDFException('Missing PDF "'+e+'".'):new UnexpectedResponseException(`Unexpected server response (${s}) while retrieving PDF "${e}".`,s)}function validateResponseStatus(s){return s===200||s===206}function createFetchOptions(s,e,i){return{method:"GET",headers:s,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(warn(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class PDFFetchStream{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=createHeaders(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const a=new PDFFetchStreamRangeReader(this,e,i);return this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class PDFFetchStreamReader{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const a=new Headers(e.headers),o=i.url;fetch(o,createFetchOptions(a,this._withCredentials,this._abortController)).then(c=>{if(!validateResponseStatus(c.status))throw createResponseStatusError(c.status,o);this._reader=c.body.getReader(),this._headersCapability.resolve();const d=c.headers,{allowRangeRequests:g,suggestedLength:b}=validateRangeRequestCapabilities({responseHeaders:d,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=b||this._contentLength,this._filename=extractFilenameFromHeader(d),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(e,i,a){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController;const c=new Headers(e.headers);c.append("Range",`bytes=${i}-${a-1}`);const d=o.url;fetch(d,createFetchOptions(c,this._withCredentials,this._abortController)).then(g=>{if(!validateResponseStatus(g.status))throw createResponseStatusError(g.status,d);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:getArrayBuffer(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(s){const e=s.response;return typeof e!="string"?e:stringToBytes(e).buffer}class NetworkManager{constructor({url:e,httpHeaders:i,withCredentials:a}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=createHeaders(this.isHttp,i),this.withCredentials=a||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,i,a){const o={begin:e,end:i};for(const c in a)o[c]=a[c];return this.request(o)}requestFull(e){return this.request(e)}request(e){const i=new XMLHttpRequest,a=this.currXhrId++,o=this.pendingRequests[a]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[c,d]of this.headers)i.setRequestHeader(c,d);return this.isHttp&&"begin"in e&&"end"in e?(i.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),o.expectedStatus=PARTIAL_CONTENT_RESPONSE):o.expectedStatus=OK_RESPONSE,i.responseType="arraybuffer",e.onError&&(i.onerror=function(c){e.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,a),i.onprogress=this.onProgress.bind(this,a),o.onHeadersReceived=e.onHeadersReceived,o.onDone=e.onDone,o.onError=e.onError,o.onProgress=e.onProgress,i.send(null),a}onProgress(e,i){var o;const a=this.pendingRequests[e];a&&((o=a.onProgress)==null||o.call(a,i))}onStateChange(e,i){var b,_,j;const a=this.pendingRequests[e];if(!a)return;const o=a.xhr;if(o.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),o.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],o.status===0&&this.isHttp){(b=a.onError)==null||b.call(a,o.status);return}const c=o.status||OK_RESPONSE;if(!(c===OK_RESPONSE&&a.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&c!==a.expectedStatus){(_=a.onError)==null||_.call(a,o.status);return}const g=network_getArrayBuffer(o);if(c===PARTIAL_CONTENT_RESPONSE){const $=o.getResponseHeader("Content-Range"),_e=/bytes (\d+)-(\d+)\/(\d+)/.exec($);a.onDone({begin:parseInt(_e[1],10),chunk:g})}else g?a.onDone({begin:0,chunk:g}):(j=a.onError)==null||j.call(a,o.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const i=this.pendingRequests[e].xhr;delete this.pendingRequests[e],i.abort()}}class PDFNetworkStream{constructor(e){this._source=e,this._manager=new NetworkManager(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const i=this._rangeRequestReaders.indexOf(e);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(e,i){const a=new PDFNetworkStreamRangeRequestReader(this._manager,e,i);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class PDFNetworkStreamFullRequestReader{constructor(e,i){this._manager=e;const a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=e.requestFull(a),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,i=this._manager.getRequestXhr(e),a=new Headers(i.getAllResponseHeaders().trim().split(/[\r\n]+/).map(d=>{const[g,...b]=d.split(": ");return[g,b.join(": ")]})),{allowRangeRequests:o,suggestedLength:c}=validateRangeRequestCapabilities({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=extractFilenameFromHeader(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=createResponseStatusError(e,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var i;(i=this.onProgress)==null||i.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(e,i,a){this._manager=e;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(i,a,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const i=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=createResponseStatusError(e,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(s){if(urlRegex.test(s))return new URL(s);const e=NodePackages.get("url");return new URL(e.pathToFileURL(s))}function createRequest(s,e,i){return s.protocol==="http:"?NodePackages.get("http").request(s,{headers:e},i):NodePackages.get("https").request(s,{headers:e},i)}class PDFNodeStream{constructor(e){this.source=e,this.url=parseUrlOrPath(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=createHeaders(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const a=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,e,i):new PDFNodeStreamRangeReader(this,e,i);return this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class BaseFullReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=e.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(e){super(e);const i=Object.fromEntries(e.headers),a=o=>{if(o.statusCode===404){const b=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=b,this._headersCapability.reject(b);return}this._headersCapability.resolve(),this._setReadableStream(o);const c=new Headers(this._readableStream.headers),{allowRangeRequests:d,suggestedLength:g}=validateRangeRequestCapabilities({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=g||this._contentLength,this._filename=extractFilenameFromHeader(c)};this._request=createRequest(this._url,i,a),this._request.on("error",o=>{this._storedError=o,this._headersCapability.reject(o)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(e,i,a){super(e);const o=Object.fromEntries(e.headers);o.Range=`bytes=${i}-${a-1}`;const c=d=>{if(d.statusCode===404){const g=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=g;return}this._setReadableStream(d)};this._request=createRequest(this._url,o,c),this._request.on("error",d=>{this._storedError=d}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(e){super(e);const i=NodePackages.get("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=new MissingPDFException(`Missing PDF "${this._url}".`)),this._storedError=a,this._headersCapability.reject(a)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(e,i,a){super(e);const o=NodePackages.get("fs");this._setReadableStream(o.createReadStream(this._url,{start:i,end:a-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var aE,mu,Kr,qv,Kv,rp,Rl,Yv,Qv,ap,mm,vm,vu,ym,Zv,bm,op,Jv,ey,lp,cp,ty,yu,xm,Yl,mA,vA,lw,io,d0,cw,yA,bA;const br=class br{constructor({textContentSource:e,container:i,viewport:a}){pt(this,Yl);pt(this,mu,Promise.withResolvers());pt(this,Kr,null);pt(this,qv,!1);pt(this,Kv,!!((aE=globalThis.FontInspector)!=null&&aE.enabled));pt(this,rp,null);pt(this,Rl,null);pt(this,Yv,0);pt(this,Qv,0);pt(this,ap,null);pt(this,mm,null);pt(this,vm,0);pt(this,vu,0);pt(this,ym,Object.create(null));pt(this,Zv,[]);pt(this,bm,null);pt(this,op,[]);pt(this,Jv,new WeakMap);pt(this,ey,null);var b;if(e instanceof ReadableStream)dt(this,bm,e);else if(typeof e=="object")dt(this,bm,new ReadableStream({start(_){_.enqueue(e),_.close()}}));else throw new Error('No "textContentSource" parameter specified.');dt(this,Kr,dt(this,mm,i)),dt(this,vu,a.scale*(globalThis.devicePixelRatio||1)),dt(this,vm,a.rotation),dt(this,Rl,{div:null,properties:null,ctx:null});const{pageWidth:o,pageHeight:c,pageX:d,pageY:g}=a.rawDims;dt(this,ey,[1,0,0,-1,-d,g+c]),dt(this,Qv,o),dt(this,Yv,c),ut(b=br,io,yA).call(b),setLayerDimensions(i,a),h(this,mu).promise.finally(()=>{h(br,xm).delete(this),dt(this,Rl,null),dt(this,ym,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:i}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${e&&i?"Calibri, ":""}sans-serif`],["monospace",`${e&&i?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{h(this,ap).read().then(({value:i,done:a})=>{if(a){h(this,mu).resolve();return}h(this,rp)??dt(this,rp,i.lang),Object.assign(h(this,ym),i.styles),ut(this,Yl,mA).call(this,i.items),e()},h(this,mu).reject)};return dt(this,ap,h(this,bm).getReader()),h(br,xm).add(this),e(),h(this,mu).promise}update({viewport:e,onBefore:i=null}){var c;const a=e.scale*(globalThis.devicePixelRatio||1),o=e.rotation;if(o!==h(this,vm)&&(i==null||i(),dt(this,vm,o),setLayerDimensions(h(this,mm),{rotation:o})),a!==h(this,vu)){i==null||i(),dt(this,vu,a);const d={div:null,properties:null,ctx:ut(c=br,io,d0).call(c,h(this,rp))};for(const g of h(this,op))d.properties=h(this,Jv).get(g),d.div=g,ut(this,Yl,lw).call(this,d)}}cancel(){var i;const e=new AbortException("TextLayer task cancelled.");(i=h(this,ap))==null||i.cancel(e).catch(()=>{}),dt(this,ap,null),h(this,mu).reject(e)}get textDivs(){return h(this,op)}get textContentItemsStr(){return h(this,Zv)}static cleanup(){if(!(h(this,xm).size>0)){h(this,lp).clear();for(const{canvas:e}of h(this,cp).values())e.remove();h(this,cp).clear()}}};mu=new WeakMap,Kr=new WeakMap,qv=new WeakMap,Kv=new WeakMap,rp=new WeakMap,Rl=new WeakMap,Yv=new WeakMap,Qv=new WeakMap,ap=new WeakMap,mm=new WeakMap,vm=new WeakMap,vu=new WeakMap,ym=new WeakMap,Zv=new WeakMap,bm=new WeakMap,op=new WeakMap,Jv=new WeakMap,ey=new WeakMap,lp=new WeakMap,cp=new WeakMap,ty=new WeakMap,yu=new WeakMap,xm=new WeakMap,Yl=new WeakSet,mA=function(e){var o,c;if(h(this,qv))return;(c=h(this,Rl)).ctx??(c.ctx=ut(o=br,io,d0).call(o,h(this,rp)));const i=h(this,op),a=h(this,Zv);for(const d of e){if(i.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),dt(this,qv,!0);return}if(d.str===void 0){if(d.type==="beginMarkedContentProps"||d.type==="beginMarkedContent"){const g=h(this,Kr);dt(this,Kr,document.createElement("span")),h(this,Kr).classList.add("markedContent"),d.id!==null&&h(this,Kr).setAttribute("id",`${d.id}`),g.append(h(this,Kr))}else d.type==="endMarkedContent"&&dt(this,Kr,h(this,Kr).parentNode);continue}a.push(d.str),ut(this,Yl,vA).call(this,d)}},vA=function(e){var it;const i=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};h(this,op).push(i);const o=Util.transform(h(this,ey),e.transform);let c=Math.atan2(o[1],o[0]);const d=h(this,ym)[e.fontName];d.vertical&&(c+=Math.PI/2);let g=h(this,Kv)&&d.fontSubstitution||d.fontFamily;g=br.fontFamilyMap.get(g)||g;const b=Math.hypot(o[2],o[3]),_=b*ut(it=br,io,bA).call(it,g,h(this,rp));let j,$;c===0?(j=o[4],$=o[5]-_):(j=o[4]+_*Math.sin(c),$=o[5]-_*Math.cos(c));const _e="calc(var(--scale-factor)*",et=i.style;h(this,Kr)===h(this,mm)?(et.left=`${(100*j/h(this,Qv)).toFixed(2)}%`,et.top=`${(100*$/h(this,Yv)).toFixed(2)}%`):(et.left=`${_e}${j.toFixed(2)}px)`,et.top=`${_e}${$.toFixed(2)}px)`),et.fontSize=`${_e}${(h(br,yu)*b).toFixed(2)}px)`,et.fontFamily=g,a.fontSize=b,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,h(this,Kv)&&(i.dataset.fontName=d.fontSubstitutionLoadedName||e.fontName),c!==0&&(a.angle=c*(180/Math.PI));let tt=!1;if(e.str.length>1)tt=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const rt=Math.abs(e.transform[0]),nt=Math.abs(e.transform[3]);rt!==nt&&Math.max(rt,nt)/Math.min(rt,nt)>1.5&&(tt=!0)}if(tt&&(a.canvasWidth=d.vertical?e.height:e.width),h(this,Jv).set(i,a),h(this,Rl).div=i,h(this,Rl).properties=a,ut(this,Yl,lw).call(this,h(this,Rl)),a.hasText&&h(this,Kr).append(i),a.hasEOL){const rt=document.createElement("br");rt.setAttribute("role","presentation"),h(this,Kr).append(rt)}},lw=function(e){var g;const{div:i,properties:a,ctx:o}=e,{style:c}=i;let d="";if(h(br,yu)>1&&(d=`scale(${1/h(br,yu)})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:b}=c,{canvasWidth:_,fontSize:j}=a;ut(g=br,io,cw).call(g,o,j*h(this,vu),b);const{width:$}=o.measureText(i.textContent);$>0&&(d=`scaleX(${_*h(this,vu)/$}) ${d}`)}a.angle!==0&&(d=`rotate(${a.angle}deg) ${d}`),d.length>0&&(c.transform=d)},io=new WeakSet,d0=function(e=null){let i=h(this,cp).get(e||(e=""));if(!i){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=e,document.body.append(a),i=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,cp).set(e,i),h(this,ty).set(i,{size:0,family:""})}return i},cw=function(e,i,a){const o=h(this,ty).get(e);i===o.size&&a===o.family||(e.font=`${i}px ${a}`,o.size=i,o.family=a)},yA=function(){if(h(this,yu)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),dt(this,yu,e.getBoundingClientRect().height),e.remove()},bA=function(e,i){const a=h(this,lp).get(e);if(a)return a;const o=ut(this,io,d0).call(this,i);o.canvas.width=o.canvas.height=DEFAULT_FONT_SIZE,ut(this,io,cw).call(this,o,DEFAULT_FONT_SIZE,e);const c=o.measureText("");let d=c.fontBoundingBoxAscent,g=Math.abs(c.fontBoundingBoxDescent);if(d){const j=d/(d+g);return h(this,lp).set(e,j),o.canvas.width=o.canvas.height=0,j}o.strokeStyle="red",o.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),o.strokeText("g",0,0);let b=o.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;g=0;for(let j=b.length-1-3;j>=0;j-=4)if(b[j]>0){g=Math.ceil(j/4/DEFAULT_FONT_SIZE);break}o.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),o.strokeText("A",0,DEFAULT_FONT_SIZE),b=o.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,d=0;for(let j=0,$=b.length;j<$;j+=4)if(b[j]>0){d=DEFAULT_FONT_SIZE-Math.floor(j/4/DEFAULT_FONT_SIZE);break}o.canvas.width=o.canvas.height=0;const _=d?d/(d+g):DEFAULT_FONT_ASCENT;return h(this,lp).set(e,_),_},pt(br,io),pt(br,lp,new Map),pt(br,cp,new Map),pt(br,ty,new WeakMap),pt(br,yu,null),pt(br,xm,new Set);let TextLayer=br;class XfaText{static textContent(e){const i=[],a={items:i,styles:Object.create(null)};function o(c){var b;if(!c)return;let d=null;const g=c.name;if(g==="#text")d=c.value;else if(XfaText.shouldBuildText(g))(b=c==null?void 0:c.attributes)!=null&&b.textContent?d=c.attributes.textContent:c.value&&(d=c.value);else return;if(d!==null&&i.push({str:d}),!!c.children)for(const _ of c.children)o(_)}return o(e),a}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const e=new PDFDocumentLoadingTask,{docId:i}=e,a=s.url?getUrlProp(s.url):null,o=s.data?getDataProp(s.data):null,c=s.httpHeaders||null,d=s.withCredentials===!0,g=s.password??null,b=s.range instanceof PDFDataRangeTransport?s.range:null,_=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let j=s.worker instanceof PDFWorker?s.worker:null;const $=s.verbosity,_e=typeof s.docBaseUrl=="string"&&!isDataScheme(s.docBaseUrl)?s.docBaseUrl:null,et=typeof s.cMapUrl=="string"?s.cMapUrl:null,tt=s.cMapPacked!==!1,it=s.CMapReaderFactory||DefaultCMapReaderFactory,rt=typeof s.standardFontDataUrl=="string"?s.standardFontDataUrl:null,nt=s.StandardFontDataFactory||DefaultStandardFontDataFactory,st=s.stopAtErrors!==!0,ot=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,ct=s.isEvalSupported!==!1,at=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!isNodeJS,ht=typeof s.isChrome=="boolean"?s.isChrome:!util_FeatureTest.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),lt=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,ft=typeof s.disableFontFace=="boolean"?s.disableFontFace:isNodeJS,yt=s.fontExtraProperties===!0,Et=s.enableXfa===!0,mt=s.ownerDocument||globalThis.document,At=s.disableRange===!0,Rt=s.disableStream===!0,qt=s.disableAutoFetch===!0,Bt=s.pdfBug===!0,$t=s.CanvasFactory||DefaultCanvasFactory,jt=s.FilterFactory||DefaultFilterFactory,Ft=s.enableHWA===!0,St=b?b.length:s.length??NaN,It=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!isNodeJS&&!ft,zt=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:it===DOMCMapReaderFactory&&nt===DOMStandardFontDataFactory&&et&&rt&&isValidFetchUrl(et,document.baseURI)&&isValidFetchUrl(rt,document.baseURI);s.canvasFactory&&deprecated("`canvasFactory`-instance option, please use `CanvasFactory` instead."),s.filterFactory&&deprecated("`filterFactory`-instance option, please use `FilterFactory` instead.");const _t=null;setVerbosityLevel($);const vt={canvasFactory:new $t({ownerDocument:mt,enableHWA:Ft}),filterFactory:new jt({docId:i,ownerDocument:mt}),cMapReaderFactory:zt?null:new it({baseUrl:et,isCompressed:tt}),standardFontDataFactory:zt?null:new nt({baseUrl:rt})};if(!j){const Pt={verbosity:$,port:GlobalWorkerOptions.workerPort};j=Pt.port?PDFWorker.fromPort(Pt):new PDFWorker(Pt),e._worker=j}const bt={docId:i,apiVersion:"4.8.69",data:o,password:g,disableAutoFetch:qt,rangeChunkSize:_,length:St,docBaseUrl:_e,enableXfa:Et,evaluatorOptions:{maxImageSize:ot,disableFontFace:ft,ignoreErrors:st,isEvalSupported:ct,isOffscreenCanvasSupported:at,isChrome:ht,canvasMaxAreaInBytes:lt,fontExtraProperties:yt,useSystemFonts:It,cMapUrl:zt?et:null,standardFontDataUrl:zt?rt:null}},wt={disableFontFace:ft,fontExtraProperties:yt,ownerDocument:mt,pdfBug:Bt,styleElement:_t,loadingParams:{disableAutoFetch:qt,enableXfa:Et}};return j.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(j.destroyed)throw new Error("Worker was destroyed");const Pt=j.messageHandler.sendWithPromise("GetDocRequest",bt,o?[o.buffer]:null);let kt;if(b)kt=new PDFDataTransportStream(b,{disableRange:At,disableStream:Rt});else if(!o){if(!a)throw new Error("getDocument - no `url` parameter provided.");let Mt;isNodeJS?Mt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&isValidFetchUrl(a)?PDFFetchStream:PDFNodeStream:Mt=isValidFetchUrl(a)?PDFFetchStream:PDFNetworkStream,kt=new Mt({url:a,length:St,httpHeaders:c,withCredentials:d,rangeChunkSize:_,disableRange:At,disableStream:Rt})}return Pt.then(Mt=>{if(e.destroyed)throw new Error("Loading aborted");if(j.destroyed)throw new Error("Worker was destroyed");const Gt=new MessageHandler(i,Mt,j.port),ln=new WorkerTransport(Gt,e,kt,wt,vt);e._transport=ln,Gt.send("Ready",null)})}).catch(e._capability.reject),e}function getUrlProp(s){if(s instanceof URL)return s.href;try{return new URL(s,window.location).href}catch{if(isNodeJS&&typeof s=="string")return s}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(s){if(isNodeJS&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return stringToBytes(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(s){return typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0}var U0;const $0=class $0{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${yr($0,U0)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,i,a;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(o){throw(a=this._worker)!=null&&a.port&&delete this._worker._pendingDestroy,o}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};U0=new WeakMap,pt($0,U0,0);let PDFDocumentLoadingTask=$0;class PDFDataRangeTransport{constructor(e,i,a=!1,o=null){this.length=e,this.initialData=i,this.progressiveDone=a,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(const a of this._rangeListeners)a(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor(e,i){this._pdfInfo=e,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var bu,Tl,uo,Kp,h0;class PDFPageProxy{constructor(e,i,a,o=!1){pt(this,uo);pt(this,bu,null);pt(this,Tl,!1);this._pageIndex=e,this._pageInfo=i,this._transport=a,this._stats=o?new StatTimer:null,this._pdfBug=o,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:a=0,offsetY:o=0,dontFlip:c=!1}={}){return new PageViewport({viewBox:this.view,scale:e,rotation:i,offsetX:a,offsetY:o,dontFlip:c})}getAnnotations({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:i,intent:a="display",annotationMode:o=AnnotationMode.ENABLE,transform:c=null,background:d=null,optionalContentConfigPromise:g=null,annotationCanvasMap:b=null,pageColors:_=null,printAnnotationStorage:j=null,isEditing:$=!1}){var ct,at;(ct=this._stats)==null||ct.time("Overall");const _e=this._transport.getRenderingIntent(a,o,j,$),{renderingIntent:et,cacheKey:tt}=_e;dt(this,Tl,!1),ut(this,uo,h0).call(this),g||(g=this._transport.getOptionalContentConfig(et));let it=this._intentStates.get(tt);it||(it=Object.create(null),this._intentStates.set(tt,it)),it.streamReaderCancelTimeout&&(clearTimeout(it.streamReaderCancelTimeout),it.streamReaderCancelTimeout=null);const rt=!!(et&RenderingIntentFlag.PRINT);it.displayReadyCapability||(it.displayReadyCapability=Promise.withResolvers(),it.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(at=this._stats)==null||at.time("Page Request"),this._pumpOperatorList(_e));const nt=ht=>{var lt;it.renderTasks.delete(st),(this._maybeCleanupAfterRender||rt)&&dt(this,Tl,!0),ut(this,uo,Kp).call(this,!rt),ht?(st.capability.reject(ht),this._abortOperatorList({intentState:it,reason:ht instanceof Error?ht:new Error(ht)})):st.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(lt=globalThis.Stats)!=null&&lt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},st=new InternalRenderTask({callback:nt,params:{canvasContext:e,viewport:i,transform:c,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:b,operatorList:it.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!rt,pdfBug:this._pdfBug,pageColors:_});(it.renderTasks||(it.renderTasks=new Set)).add(st);const ot=st.task;return Promise.all([it.displayReadyCapability.promise,g]).then(([ht,lt])=>{var ft;if(this.destroyed){nt();return}if((ft=this._stats)==null||ft.time("Rendering"),!(lt.renderingIntent&et))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");st.initializeGraphics({transparency:ht,optionalContentConfig:lt}),st.operatorListChanged()}).catch(nt),ot}getOperatorList({intent:e="display",annotationMode:i=AnnotationMode.ENABLE,printAnnotationStorage:a=null,isEditing:o=!1}={}){var _;function c(){g.operatorList.lastChunk&&(g.opListReadCapability.resolve(g.operatorList),g.renderTasks.delete(b))}const d=this._transport.getRenderingIntent(e,i,a,o,!0);let g=this._intentStates.get(d.cacheKey);g||(g=Object.create(null),this._intentStates.set(d.cacheKey,g));let b;return g.opListReadCapability||(b=Object.create(null),b.operatorListChanged=c,g.opListReadCapability=Promise.withResolvers(),(g.renderTasks||(g.renderTasks=new Set)).add(b),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(d)),g.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(o){return o.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>XfaText.textContent(a));const i=this.streamTextContent(e);return new Promise(function(a,o){function c(){d.read().then(function({value:b,done:_}){if(_){a(g);return}g.lang??(g.lang=b.lang),Object.assign(g.styles,b.styles),g.items.push(...b.items),c()},o)}const d=i.getReader(),g={items:[],styles:Object.create(null),lang:null};c()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const a of i.renderTasks)e.push(a.completed),a.cancel();return this.objs.clear(),dt(this,Tl,!1),ut(this,uo,h0).call(this),Promise.all(e)}cleanup(e=!1){dt(this,Tl,!0);const i=ut(this,uo,Kp).call(this,!1);return e&&i&&this._stats&&(this._stats=new StatTimer),i}_startRenderPage(e,i){var o,c;const a=this._intentStates.get(i);a&&((o=this._stats)==null||o.timeEnd("Page Request"),(c=a.displayReadyCapability)==null||c.resolve(e))}_renderPageChunk(e,i){for(let a=0,o=e.length;a<o;a++)i.operatorList.fnArray.push(e.fnArray[a]),i.operatorList.argsArray.push(e.argsArray[a]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(const a of i.renderTasks)a.operatorListChanged();e.lastChunk&&ut(this,uo,Kp).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:a,modifiedIds:o}){const{map:c,transfer:d}=a,b=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:c,modifiedIds:o},d).getReader(),_=this._intentStates.get(i);_.streamReader=b;const j=()=>{b.read().then(({value:$,done:_e})=>{if(_e){_.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk($,_),j())},$=>{if(_.streamReader=null,!this._transport.destroyed){if(_.operatorList){_.operatorList.lastChunk=!0;for(const _e of _.renderTasks)_e.operatorListChanged();ut(this,uo,Kp).call(this,!0)}if(_.displayReadyCapability)_.displayReadyCapability.reject($);else if(_.opListReadCapability)_.opListReadCapability.reject($);else throw $}})};j()}_abortOperatorList({intentState:e,reason:i,force:a=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!a){if(e.renderTasks.size>0)return;if(i instanceof RenderingCancelledException){let o=RENDERING_CANCELLED_TIMEOUT;i.extraDelay>0&&i.extraDelay<1e3&&(o+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},o);return}}if(e.streamReader.cancel(new AbortException(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[o,c]of this._intentStates)if(c===e){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}bu=new WeakMap,Tl=new WeakMap,uo=new WeakSet,Kp=function(e=!1){if(ut(this,uo,h0).call(this),!h(this,Tl)||this.destroyed)return!1;if(e)return dt(this,bu,setTimeout(()=>{dt(this,bu,null),ut(this,uo,Kp).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:i,operatorList:a}of this._intentStates.values())if(i.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),dt(this,Tl,!1),!0},h0=function(){h(this,bu)&&(clearTimeout(h(this,bu)),dt(this,bu,null))};var Pl,z0;class LoopbackPort{constructor(){pt(this,Pl,new Map);pt(this,z0,Promise.resolve())}postMessage(e,i){const a={data:structuredClone(e,i?{transfer:i}:null)};h(this,z0).then(()=>{for(const[o]of h(this,Pl))o.call(this,a)})}addEventListener(e,i,a=null){let o=null;if((a==null?void 0:a.signal)instanceof AbortSignal){const{signal:c}=a;if(c.aborted){warn("LoopbackPort - cannot use an `aborted` signal.");return}const d=()=>this.removeEventListener(e,i);o=()=>c.removeEventListener("abort",d),c.addEventListener("abort",d)}h(this,Pl).set(i,o)}removeEventListener(e,i){const a=h(this,Pl).get(i);a==null||a(),h(this,Pl).delete(i)}terminate(){for(const[,e]of h(this,Pl))e==null||e();h(this,Pl).clear()}}Pl=new WeakMap,z0=new WeakMap;var V0,up,dp,wm,f0,Em,p0;const nr=class nr{constructor({name:e=null,port:i=null,verbosity:a=getVerbosityLevel()}={}){pt(this,wm);var o;if(this.name=e,this.destroyed=!1,this.verbosity=a,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((o=h(nr,dp))!=null&&o.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(h(nr,dp)||dt(nr,dp,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),ut(this,wm,f0).call(this)}_initialize(){if(h(nr,up)||h(nr,Em,p0)){this._setupFakeWorker();return}let{workerSrc:e}=nr;try{nr._isSameOrigin(window.location.href,e)||(e=nr._createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e,{type:"module"}),a=new MessageHandler("main","worker",i),o=()=>{c.abort(),a.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=new AbortController;i.addEventListener("error",()=>{this._webWorker||o()},{signal:c.signal}),a.on("test",g=>{if(c.abort(),this.destroyed||!g){o();return}this._messageHandler=a,this._port=i,this._webWorker=i,ut(this,wm,f0).call(this)}),a.on("ready",g=>{if(c.abort(),this.destroyed){o();return}try{d()}catch{this._setupFakeWorker()}});const d=()=>{const g=new Uint8Array;a.send("test",g,[g.buffer])};d();return}catch{info("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(nr,up)||(warn("Setting up fake worker."),dt(nr,up,!0)),nr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new LoopbackPort;this._port=i;const a=`fake${yr(nr,V0)._++}`,o=new MessageHandler(a+"_worker",a,i);e.setup(o,i),this._messageHandler=new MessageHandler(a,a+"_worker",i),ut(this,wm,f0).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=h(nr,dp))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var a;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(a=h(this,dp))==null?void 0:a.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new nr(e)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>h(this,Em,p0)?h(this,Em,p0):(await import(this.workerSrc)).WorkerMessageHandler)())}};V0=new WeakMap,up=new WeakMap,dp=new WeakMap,wm=new WeakSet,f0=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Em=new WeakSet,p0=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},pt(nr,Em),pt(nr,V0,0),pt(nr,up,!1),pt(nr,dp),isNodeJS&&(dt(nr,up,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),nr._isSameOrigin=(e,i)=>{let a;try{if(a=new URL(e),!a.origin||a.origin==="null")return!1}catch{return!1}const o=new URL(i,a);return a.origin===o.origin},nr._createCDNWrapper=e=>{const i=`await import("${e}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let PDFWorker=nr;var Ml,Vo,Am,_m,Wo,hp,dv;class WorkerTransport{constructor(e,i,a,o,c){pt(this,hp);pt(this,Ml,new Map);pt(this,Vo,new Map);pt(this,Am,new Map);pt(this,_m,new Map);pt(this,Wo,null);this.messageHandler=e,this.loadingTask=i,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=c.canvasFactory,this.filterFactory=c.filterFactory,this.cMapReaderFactory=c.cMapReaderFactory,this.standardFontDataFactory=c.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(e,i=AnnotationMode.ENABLE,a=null,o=!1,c=!1){let d=RenderingIntentFlag.DISPLAY,g=SerializableEmpty;switch(e){case"any":d=RenderingIntentFlag.ANY;break;case"display":break;case"print":d=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${e}`)}const b=d&RenderingIntentFlag.PRINT&&a instanceof PrintAnnotationStorage?a:this.annotationStorage;switch(i){case AnnotationMode.DISABLE:d+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:d+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:d+=RenderingIntentFlag.ANNOTATIONS_STORAGE,g=b.serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${i}`)}o&&(d+=RenderingIntentFlag.IS_EDITING),c&&(d+=RenderingIntentFlag.OPLIST);const{ids:_,hash:j}=b.modifiedIds,$=[d,g.hash,j];return{renderingIntent:d,cacheKey:$.join("_"),annotationStorageSerializable:g,modifiedIds:_}}destroy(){var a;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(a=h(this,Wo))==null||a.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const o of h(this,Vo).values())e.push(o._destroy());h(this,Vo).clear(),h(this,Am).clear(),h(this,_m).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var o;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Ml).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(o=this._networkStream)==null||o.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(a,o)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=c=>{this._lastProgress={loaded:c.loaded,total:c.total}},o.onPull=()=>{this._fullReader.read().then(function({value:c,done:d}){if(d){o.close();return}assert(c instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{o.error(c)})},o.onCancel=c=>{this._fullReader.cancel(c),o.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("ReaderHeadersReady",async a=>{var g;await this._fullReader.headersReady;const{isStreamingSupported:o,isRangeSupported:c,contentLength:d}=this._fullReader;return(!o||!c)&&(this._lastProgress&&((g=i.onProgress)==null||g.call(i,this._lastProgress)),this._fullReader.onProgress=b=>{var _;(_=i.onProgress)==null||_.call(i,{loaded:b.loaded,total:b.total})}),{isStreamingSupported:o,isRangeSupported:c,contentLength:d}}),e.on("GetRangeReader",(a,o)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const c=this._networkStream.getRangeReader(a.begin,a.end);if(!c){o.close();return}o.onPull=()=>{c.read().then(function({value:d,done:g}){if(g){o.close();return}assert(d instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(d),1,[d])}).catch(d=>{o.error(d)})},o.onCancel=d=>{c.cancel(d),o.ready.catch(g=>{if(!this.destroyed)throw g})}}),e.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,i._capability.resolve(new PDFDocumentProxy(a,this))}),e.on("DocException",function(a){let o;switch(a.name){case"PasswordException":o=new PasswordException(a.message,a.code);break;case"InvalidPDFException":o=new InvalidPDFException(a.message);break;case"MissingPDFException":o=new MissingPDFException(a.message);break;case"UnexpectedResponseException":o=new UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":o=new UnknownErrorException(a.message,a.details);break;default:unreachable("DocException - expected a valid Error.")}i._capability.reject(o)}),e.on("PasswordRequest",a=>{if(dt(this,Wo,Promise.withResolvers()),i.onPassword){const o=c=>{c instanceof Error?h(this,Wo).reject(c):h(this,Wo).resolve({password:c})};try{i.onPassword(o,a.code)}catch(c){h(this,Wo).reject(c)}}else h(this,Wo).reject(new PasswordException(a.message,a.code));return h(this,Wo).promise}),e.on("DataLoaded",a=>{var o;(o=i.onProgress)==null||o.call(i,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),e.on("StartRenderPage",a=>{if(this.destroyed)return;h(this,Vo).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),e.on("commonobj",([a,o,c])=>{var d;if(this.destroyed||this.commonObjs.has(a))return null;switch(o){case"Font":const{disableFontFace:g,fontExtraProperties:b,pdfBug:_}=this._params;if("error"in c){const et=c.error;warn(`Error during font loading: ${et}`),this.commonObjs.resolve(a,et);break}const j=_&&((d=globalThis.FontInspector)!=null&&d.enabled)?(et,tt)=>globalThis.FontInspector.fontAdded(et,tt):null,$=new FontFaceObject(c,{disableFontFace:g,inspectFont:j});this.fontLoader.bind($).catch(()=>e.sendWithPromise("FontFallback",{id:a})).finally(()=>{!b&&$.data&&($.data=null),this.commonObjs.resolve(a,$)});break;case"CopyLocalImage":const{imageRef:_e}=c;assert(_e,"The imageRef must be defined.");for(const et of h(this,Vo).values())for(const[,tt]of et.objs)if((tt==null?void 0:tt.ref)===_e)return tt.dataLen?(this.commonObjs.resolve(a,structuredClone(tt)),tt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,c);break;default:throw new Error(`Got unknown common object type ${o}`)}return null}),e.on("obj",([a,o,c,d])=>{var b;if(this.destroyed)return;const g=h(this,Vo).get(o);if(!g.objs.has(a)){if(g._intentStates.size===0){(b=d==null?void 0:d.bitmap)==null||b.close();return}switch(c){case"Image":g.objs.resolve(a,d),(d==null?void 0:d.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(g._maybeCleanupAfterRender=!0);break;case"Pattern":g.objs.resolve(a,d);break;default:throw new Error(`Got unknown object type ${c}`)}}}),e.on("DocProgress",a=>{var o;this.destroyed||(o=i.onProgress)==null||o.call(i,{loaded:a.loaded,total:a.total})}),e.on("FetchBuiltInCMap",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(a)}),e.on("FetchStandardFontData",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var a;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((a=this._fullReader)==null?void 0:a.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=e-1,a=h(this,Am).get(i);if(a)return a;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(c=>{if(this.destroyed)throw new Error("Transport destroyed");c.refStr&&h(this,_m).set(c.refStr,e);const d=new PDFPageProxy(i,c,this,this._params.pdfBug);return h(this,Vo).set(i,d),d});return h(this,Am).set(i,o),o}getPageIndex(e){return isRefProxy(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return ut(this,hp,dv).call(this,"GetFieldObjects")}hasJSActions(){return ut(this,hp,dv).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ut(this,hp,dv).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ut(this,hp,dv).call(this,"GetOptionalContentConfig").then(i=>new OptionalContentConfig(i,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",i=h(this,Ml).get(e);if(i)return i;const a=this.messageHandler.sendWithPromise(e,null).then(o=>{var c,d;return{info:o[0],metadata:o[1]?new Metadata(o[1]):null,contentDispositionFilename:((c=this._fullReader)==null?void 0:c.filename)??null,contentLength:((d=this._fullReader)==null?void 0:d.contentLength)??null}});return h(this,Ml).set(e,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of h(this,Vo).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),h(this,Ml).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber(e){if(!isRefProxy(e))return null;const i=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return h(this,_m).get(i)??null}}Ml=new WeakMap,Vo=new WeakMap,Am=new WeakMap,_m=new WeakMap,Wo=new WeakMap,hp=new WeakSet,dv=function(e,i=null){const a=h(this,Ml).get(e);if(a)return a;const o=this.messageHandler.sendWithPromise(e,i);return h(this,Ml).set(e,o),o};const INITIAL_DATA=Symbol("INITIAL_DATA");var Eo,ny,uw;class PDFObjects{constructor(){pt(this,ny);pt(this,Eo,Object.create(null))}get(e,i=null){if(i){const o=ut(this,ny,uw).call(this,e);return o.promise.then(()=>i(o.data)),null}const a=h(this,Eo)[e];if(!a||a.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return a.data}has(e){const i=h(this,Eo)[e];return!!i&&i.data!==INITIAL_DATA}resolve(e,i=null){const a=ut(this,ny,uw).call(this,e);a.data=i,a.resolve()}clear(){var e;for(const i in h(this,Eo)){const{data:a}=h(this,Eo)[i];(e=a==null?void 0:a.bitmap)==null||e.close()}dt(this,Eo,Object.create(null))}*[Symbol.iterator](){for(const e in h(this,Eo)){const{data:i}=h(this,Eo)[e];i!==INITIAL_DATA&&(yield[e,i])}}}Eo=new WeakMap,ny=new WeakSet,uw=function(e){var i;return(i=h(this,Eo))[e]||(i[e]={...Promise.withResolvers(),data:INITIAL_DATA})};var xu;class RenderTask{constructor(e){pt(this,xu,null);dt(this,xu,e),this.onContinue=null}get promise(){return h(this,xu).capability.promise}cancel(e=0){h(this,xu).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=h(this,xu).operatorList;if(!e)return!1;const{annotationCanvasMap:i}=h(this,xu);return e.form||e.canvas&&(i==null?void 0:i.size)>0}}xu=new WeakMap;var wu,fp;const Uu=class Uu{constructor({callback:e,params:i,objs:a,commonObjs:o,annotationCanvasMap:c,operatorList:d,pageIndex:g,canvasFactory:b,filterFactory:_,useRequestAnimationFrame:j=!1,pdfBug:$=!1,pageColors:_e=null}){pt(this,wu,null);this.callback=e,this.params=i,this.objs=a,this.commonObjs=o,this.annotationCanvasMap=c,this.operatorListIdx=null,this.operatorList=d,this._pageIndex=g,this.canvasFactory=b,this.filterFactory=_,this._pdfBug=$,this.pageColors=_e,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=j===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){var g,b;if(this.cancelled)return;if(this._canvas){if(h(Uu,fp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Uu,fp).add(this._canvas)}this._pdfBug&&((g=globalThis.StepperManager)!=null&&g.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:o,transform:c,background:d}=this.params;this.gfx=new CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:c,viewport:o,transparency:e,background:d}),this.operatorListIdx=0,this.graphicsReady=!0,(b=this.graphicsReadyCallback)==null||b.call(this)}cancel(e=null,i=0){var a;this.running=!1,this.cancelled=!0,(a=this.gfx)==null||a.endDrawing(),h(this,wu)&&(window.cancelAnimationFrame(h(this,wu)),dt(this,wu,null)),h(Uu,fp).delete(this._canvas),this.callback(e||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?dt(this,wu,window.requestAnimationFrame(()=>{dt(this,wu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Uu,fp).delete(this._canvas),this.callback())))}};wu=new WeakMap,fp=new WeakMap,pt(Uu,fp,new WeakSet);let InternalRenderTask=Uu;const version="4.8.69",build="3634dab10";function makeColorComp(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function scaleAndClamp(s){return Math.max(0,Math.min(255,255*s))}class ColorConverters{static CMYK_G([e,i,a,o]){return["G",1-Math.min(1,.3*e+.59*a+.11*i+o)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=scaleAndClamp(e),[e,e,e]}static G_HTML([e]){const i=makeColorComp(e);return`#${i}${i}${i}`}static RGB_G([e,i,a]){return["G",.3*e+.59*i+.11*a]}static RGB_rgb(e){return e.map(scaleAndClamp)}static RGB_HTML(e){return`#${e.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,i,a,o]){return["RGB",1-Math.min(1,e+o),1-Math.min(1,a+o),1-Math.min(1,i+o)]}static CMYK_rgb([e,i,a,o]){return[scaleAndClamp(1-Math.min(1,e+o)),scaleAndClamp(1-Math.min(1,a+o)),scaleAndClamp(1-Math.min(1,i+o))]}static CMYK_HTML(e){const i=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([e,i,a]){const o=1-e,c=1-i,d=1-a,g=Math.min(o,c,d);return["CMYK",o,c,d,g]}}class BaseSVGFactory{create(e,i,a=!1){if(e<=0||i<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),a||(o.setAttribute("width",`${e}px`),o.setAttribute("height",`${i}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${e} ${i}`),o}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(e){return document.createElementNS(SVG_NS,e)}}class XfaLayer{static setupStorage(e,i,a,o,c){const d=o.getValue(i,{value:null});switch(a.name){case"textarea":if(d.value!==null&&(e.textContent=d.value),c==="print")break;e.addEventListener("input",g=>{o.setValue(i,{value:g.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(d.value===a.attributes.xfaOn?e.setAttribute("checked",!0):d.value===a.attributes.xfaOff&&e.removeAttribute("checked"),c==="print")break;e.addEventListener("change",g=>{o.setValue(i,{value:g.target.checked?g.target.getAttribute("xfaOn"):g.target.getAttribute("xfaOff")})})}else{if(d.value!==null&&e.setAttribute("value",d.value),c==="print")break;e.addEventListener("input",g=>{o.setValue(i,{value:g.target.value})})}break;case"select":if(d.value!==null){e.setAttribute("value",d.value);for(const g of a.children)g.attributes.value===d.value?g.attributes.selected=!0:g.attributes.hasOwnProperty("selected")&&delete g.attributes.selected}e.addEventListener("input",g=>{const b=g.target.options,_=b.selectedIndex===-1?"":b[b.selectedIndex].value;o.setValue(i,{value:_})});break}}static setAttributes({html:e,element:i,storage:a=null,intent:o,linkService:c}){const{attributes:d}=i,g=e instanceof HTMLAnchorElement;d.type==="radio"&&(d.name=`${d.name}-${o}`);for(const[b,_]of Object.entries(d))if(_!=null)switch(b){case"class":_.length&&e.setAttribute(b,_.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",_);break;case"style":Object.assign(e.style,_);break;case"textContent":e.textContent=_;break;default:(!g||b!=="href"&&b!=="newWindow")&&e.setAttribute(b,_)}g&&c.addLinkAttributes(e,d.href,d.newWindow),a&&d.dataId&&this.setupStorage(e,d.dataId,i,a)}static render(e){var $,_e;const i=e.annotationStorage,a=e.linkService,o=e.xfaHtml,c=e.intent||"display",d=document.createElement(o.name);o.attributes&&this.setAttributes({html:d,element:o,intent:c,linkService:a});const g=c!=="richText",b=e.div;if(b.append(d),e.viewport){const et=`matrix(${e.viewport.transform.join(",")})`;b.style.transform=et}g&&b.setAttribute("class","xfaLayer xfaFont");const _=[];if(o.children.length===0){if(o.value){const et=document.createTextNode(o.value);d.append(et),g&&XfaText.shouldBuildText(o.name)&&_.push(et)}return{textDivs:_}}const j=[[o,-1,d]];for(;j.length>0;){const[et,tt,it]=j.at(-1);if(tt+1===et.children.length){j.pop();continue}const rt=et.children[++j.at(-1)[1]];if(rt===null)continue;const{name:nt}=rt;if(nt==="#text"){const ot=document.createTextNode(rt.value);_.push(ot),it.append(ot);continue}const st=($=rt==null?void 0:rt.attributes)!=null&&$.xmlns?document.createElementNS(rt.attributes.xmlns,nt):document.createElement(nt);if(it.append(st),rt.attributes&&this.setAttributes({html:st,element:rt,storage:i,intent:c,linkService:a}),((_e=rt.children)==null?void 0:_e.length)>0)j.push([rt,-1,st]);else if(rt.value){const ot=document.createTextNode(rt.value);g&&XfaText.shouldBuildText(nt)&&_.push(ot),st.append(ot)}}for(const et of b.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))et.setAttribute("readOnly",!0);return{textDivs:_}}static update(e){const i=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=i,e.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class AnnotationElementFactory{static create(e){switch(e.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(e);case AnnotationType.TEXT:return new TextAnnotationElement(e);case AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(e);case"Btn":return e.data.radioButton?new RadioButtonWidgetAnnotationElement(e):e.data.checkBox?new CheckboxWidgetAnnotationElement(e):new PushButtonWidgetAnnotationElement(e);case"Ch":return new ChoiceWidgetAnnotationElement(e);case"Sig":return new SignatureWidgetAnnotationElement(e)}return new WidgetAnnotationElement(e);case AnnotationType.POPUP:return new PopupAnnotationElement(e);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(e);case AnnotationType.LINE:return new LineAnnotationElement(e);case AnnotationType.SQUARE:return new SquareAnnotationElement(e);case AnnotationType.CIRCLE:return new CircleAnnotationElement(e);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(e);case AnnotationType.CARET:return new CaretAnnotationElement(e);case AnnotationType.INK:return new InkAnnotationElement(e);case AnnotationType.POLYGON:return new PolygonAnnotationElement(e);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(e);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(e);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(e);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(e);case AnnotationType.STAMP:return new StampAnnotationElement(e);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(e);default:return new AnnotationElement(e)}}}var pp,Sm,Cm,iy,dw;const Hw=class Hw{constructor(e,{isRenderable:i=!1,ignoreBorder:a=!1,createQuadrilaterals:o=!1}={}){pt(this,iy);pt(this,pp,null);pt(this,Sm,!1);pt(this,Cm,null);this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(a)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:i,richText:a}){return!!(e!=null&&e.str||i!=null&&i.str||a!=null&&a.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Hw._hasPopupData(this.data)}updateEdited(e){var a;if(!this.container)return;h(this,pp)||dt(this,pp,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&ut(this,iy,dw).call(this,i),(a=h(this,Cm))==null||a.popup.updateEdited(e)}resetEdited(){var e;h(this,pp)&&(ut(this,iy,dw).call(this,h(this,pp).rect),(e=h(this,Cm))==null||e.popup.resetEdited(),dt(this,pp,null))}_createContainer(e){const{data:i,parent:{page:a,viewport:o}}=this,c=document.createElement("section");c.setAttribute("data-annotation-id",i.id),this instanceof WidgetAnnotationElement||(c.tabIndex=DEFAULT_TAB_INDEX);const{style:d}=c;if(d.zIndex=this.parent.zIndex++,i.alternativeText&&(c.title=i.alternativeText),i.noRotate&&c.classList.add("norotate"),!i.rect||this instanceof PopupAnnotationElement){const{rotation:it}=i;return!i.hasOwnCanvas&&it!==0&&this.setRotation(it,c),c}const{width:g,height:b}=getRectDims(i.rect);if(!e&&i.borderStyle.width>0){d.borderWidth=`${i.borderStyle.width}px`;const it=i.borderStyle.horizontalCornerRadius,rt=i.borderStyle.verticalCornerRadius;if(it>0||rt>0){const st=`calc(${it}px * var(--scale-factor)) / calc(${rt}px * var(--scale-factor))`;d.borderRadius=st}else if(this instanceof RadioButtonWidgetAnnotationElement){const st=`calc(${g}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;d.borderRadius=st}switch(i.borderStyle.style){case AnnotationBorderStyleType.SOLID:d.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:d.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:d.borderBottomStyle="solid";break}const nt=i.borderColor||null;nt?(dt(this,Sm,!0),d.borderColor=Util.makeHexColor(nt[0]|0,nt[1]|0,nt[2]|0)):d.borderWidth=0}const _=Util.normalizeRect([i.rect[0],a.view[3]-i.rect[1]+a.view[1],i.rect[2],a.view[3]-i.rect[3]+a.view[1]]),{pageWidth:j,pageHeight:$,pageX:_e,pageY:et}=o.rawDims;d.left=`${100*(_[0]-_e)/j}%`,d.top=`${100*(_[1]-et)/$}%`;const{rotation:tt}=i;return i.hasOwnCanvas||tt===0?(d.width=`${100*g/j}%`,d.height=`${100*b/$}%`):this.setRotation(tt,c),c}setRotation(e,i=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:o}=this.parent.viewport.rawDims,{width:c,height:d}=getRectDims(this.data.rect);let g,b;e%180===0?(g=100*c/a,b=100*d/o):(g=100*d/a,b=100*c/o),i.style.width=`${g}%`,i.style.height=`${b}%`,i.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(i,a,o)=>{const c=o.detail[i],d=c[0],g=c.slice(1);o.target.style[a]=ColorConverters[`${d}_HTML`](g),this.annotationStorage.setValue(this.data.id,{[a]:ColorConverters[`${d}_rgb`](g)})};return shadow(this,"_commonActions",{display:i=>{const{display:a}=i.detail,o=a%2===1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:a===1||a===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:a}=i.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)},rotation:i=>{const a=i.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(e,i){const a=this._commonActions;for(const o of Object.keys(i.detail)){const c=e[o]||a[o];c==null||c(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const a=this._commonActions;for(const[o,c]of Object.entries(i)){const d=a[o];if(d){const g={detail:{[o]:c},target:e};d(g),delete i[o]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[i,a,o,c]=this.data.rect.map(it=>Math.fround(it));if(e.length===8){const[it,rt,nt,st]=e.subarray(2,6);if(o===it&&c===rt&&i===nt&&a===st)return}const{style:d}=this.container;let g;if(h(this,Sm)){const{borderColor:it,borderWidth:rt}=d;d.borderWidth=0,g=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${it}" stroke-width="${rt}">`],this.container.classList.add("hasBorder")}const b=o-i,_=c-a,{svgFactory:j}=this,$=j.createElement("svg");$.classList.add("quadrilateralsContainer"),$.setAttribute("width",0),$.setAttribute("height",0);const _e=j.createElement("defs");$.append(_e);const et=j.createElement("clipPath"),tt=`clippath_${this.data.id}`;et.setAttribute("id",tt),et.setAttribute("clipPathUnits","objectBoundingBox"),_e.append(et);for(let it=2,rt=e.length;it<rt;it+=8){const nt=e[it],st=e[it+1],ot=e[it+2],ct=e[it+3],at=j.createElement("rect"),ht=(ot-i)/b,lt=(c-st)/_,ft=(nt-ot)/b,yt=(st-ct)/_;at.setAttribute("x",ht),at.setAttribute("y",lt),at.setAttribute("width",ft),at.setAttribute("height",yt),et.append(at),g==null||g.push(`<rect vector-effect="non-scaling-stroke" x="${ht}" y="${lt}" width="${ft}" height="${yt}"/>`)}h(this,Sm)&&(g.push("</g></svg>')"),d.backgroundImage=g.join("")),this.container.append($),this.container.style.clipPath=`url(#${tt})`}_createPopup(){const{data:e}=this,i=dt(this,Cm,new PopupAnnotationElement({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const a=[];if(this._fieldObjects){const o=this._fieldObjects[e];if(o)for(const{page:c,id:d,exportValues:g}of o){if(c===-1||d===i)continue;const b=typeof g=="string"?g:null,_=document.querySelector(`[data-element-id="${d}"]`);if(_&&!GetElementsByNameSet.has(_)){warn(`_getElementsByName - element not allowed: ${d}`);continue}a.push({id:d,exportValue:b,domElement:_})}return a}for(const o of document.getElementsByName(e)){const{exportValue:c}=o,d=o.getAttribute("data-element-id");d!==i&&GetElementsByNameSet.has(o)&&a.push({id:d,exportValue:c,domElement:o})}return a}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const i of e)i.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("switchannotationeditormode",{source:this,mode:e,editId:i})})}};pp=new WeakMap,Sm=new WeakMap,Cm=new WeakMap,iy=new WeakSet,dw=function(e){const{container:{style:i},data:{rect:a,rotation:o},parent:{viewport:{rawDims:{pageWidth:c,pageHeight:d,pageX:g,pageY:b}}}}=this;a==null||a.splice(0,4,...e);const{width:_,height:j}=getRectDims(e);i.left=`${100*(e[0]-g)/c}%`,i.top=`${100*(d-e[3]+b)/d}%`,o===0?(i.width=`${100*_/c}%`,i.height=`${100*j/d}%`):this.setRotation(o)};let AnnotationElement=Hw;var no,Du,xA,wA;class LinkAnnotationElement extends AnnotationElement{constructor(i,a=null){super(i,{isRenderable:!0,ignoreBorder:!!(a!=null&&a.ignoreBorder),createQuadrilaterals:!0});pt(this,no);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:a}=this,o=document.createElement("a");o.setAttribute("data-element-id",i.id);let c=!1;return i.url?(a.addLinkAttributes(o,i.url,i.newWindow),c=!0):i.action?(this._bindNamedAction(o,i.action),c=!0):i.attachment?(ut(this,no,xA).call(this,o,i.attachment,i.attachmentDest),c=!0):i.setOCGState?(ut(this,no,wA).call(this,o,i.setOCGState),c=!0):i.dest?(this._bindLink(o,i.dest),c=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(o,i),c=!0),i.resetForm?(this._bindResetFormAction(o,i.resetForm),c=!0):this.isTooltipOnly&&!c&&(this._bindLink(o,""),c=!0)),this.container.classList.add("linkAnnotation"),c&&this.container.append(o),this.container}_bindLink(i,a){i.href=this.linkService.getDestinationHash(a),i.onclick=()=>(a&&this.linkService.goToDestination(a),!1),(a||a==="")&&ut(this,no,Du).call(this)}_bindNamedAction(i,a){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(a),!1),ut(this,no,Du).call(this)}_bindJSAction(i,a){i.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const c of Object.keys(a.actions)){const d=o.get(c);d&&(i[d]=()=>{var g;return(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a.id,name:c}}),!1})}i.onclick||(i.onclick=()=>!1),ut(this,no,Du).call(this)}_bindResetFormAction(i,a){const o=i.onclick;if(o||(i.href=this.linkService.getAnchorUrl("")),ut(this,no,Du).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),o||(i.onclick=()=>!1);return}i.onclick=()=>{var $;o==null||o();const{fields:c,refs:d,include:g}=a,b=[];if(c.length!==0||d.length!==0){const _e=new Set(d);for(const et of c){const tt=this._fieldObjects[et]||[];for(const{id:it}of tt)_e.add(it)}for(const et of Object.values(this._fieldObjects))for(const tt of et)_e.has(tt.id)===g&&b.push(tt)}else for(const _e of Object.values(this._fieldObjects))b.push(..._e);const _=this.annotationStorage,j=[];for(const _e of b){const{id:et}=_e;switch(j.push(et),_e.type){case"text":{const it=_e.defaultValue||"";_.setValue(et,{value:it});break}case"checkbox":case"radiobutton":{const it=_e.defaultValue===_e.exportValues;_.setValue(et,{value:it});break}case"combobox":case"listbox":{const it=_e.defaultValue||"";_.setValue(et,{value:it});break}default:continue}const tt=document.querySelector(`[data-element-id="${et}"]`);if(tt){if(!GetElementsByNameSet.has(tt)){warn(`_bindResetFormAction - element not allowed: ${et}`);continue}}else continue;tt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:j,name:"ResetForm"}})),!1}}}no=new WeakSet,Du=function(){this.container.setAttribute("data-internal-link","")},xA=function(i,a,o=null){i.href=this.linkService.getAnchorUrl(""),a.description&&(i.title=a.description),i.onclick=()=>{var c;return(c=this.downloadManager)==null||c.openOrDownloadData(a.content,a.filename,o),!1},ut(this,no,Du).call(this)},wA=function(i,a){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(a),!1),ut(this,no,Du).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(e){var i;this.data.hasOwnCanvas&&(((i=e.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return util_FeatureTest.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,i,a,o,c){a.includes("mouse")?e.addEventListener(a,d=>{var g;(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:c(d),shift:d.shiftKey,modifier:this._getKeyModifier(d)}})}):e.addEventListener(a,d=>{var g;if(a==="blur"){if(!i.focused||!d.relatedTarget)return;i.focused=!1}else if(a==="focus"){if(i.focused)return;i.focused=!0}c&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:c(d)}}))})}_setEventListeners(e,i,a,o){var c,d,g;for(const[b,_]of a)(_==="Action"||(c=this.data.actions)!=null&&c[_])&&((_==="Focus"||_==="Blur")&&(i||(i={focused:!1})),this._setEventListener(e,i,b,_,o),_==="Focus"&&!((d=this.data.actions)!=null&&d.Blur)?this._setEventListener(e,i,"blur","Blur",null):_==="Blur"&&!((g=this.data.actions)!=null&&g.Focus)&&this._setEventListener(e,i,"focus","Focus",null))}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=i===null?"transparent":Util.makeHexColor(i[0],i[1],i[2])}_setTextStyle(e){const i=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,c=e.style;let d;const g=2,b=_=>Math.round(10*_)/10;if(this.data.multiLine){const _=Math.abs(this.data.rect[3]-this.data.rect[1]-g),j=Math.round(_/(LINE_FACTOR*o))||1,$=_/j;d=Math.min(o,b($/LINE_FACTOR))}else{const _=Math.abs(this.data.rect[3]-this.data.rect[1]-g);d=Math.min(o,b(_/LINE_FACTOR))}c.fontSize=`calc(${d}px * var(--scale-factor))`,c.color=Util.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(c.textAlign=i[this.data.textAlignment])}_setRequired(e,i){i?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",i)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){const i=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:i})}setPropertyOnSiblings(e,i,a,o){const c=this.annotationStorage;for(const d of this._getElementsByName(e.name,e.id))d.domElement&&(d.domElement[i]=a),c.setValue(d.id,{[o]:a})}render(){var o,c;const e=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const d=e.getValue(i,{value:this.data.fieldValue});let g=d.value||"";const b=e.getValue(i,{charLimit:this.data.maxLen}).charLimit;b&&g.length>b&&(g=g.slice(0,b));let _=d.formattedValue||((o=this.data.textContent)==null?void 0:o.join(`
`))||null;_&&this.data.comb&&(_=_.replaceAll(/\s+/g,""));const j={userValue:g,formattedValue:_,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=_??g,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type="text",a.setAttribute("value",_??g),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),GetElementsByNameSet.add(a),a.setAttribute("data-element-id",i),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(a,this.data.required),b&&(a.maxLength=b),a.addEventListener("input",_e=>{e.setValue(i,{value:_e.target.value}),this.setPropertyOnSiblings(a,"value",_e.target.value,"value"),j.formattedValue=null}),a.addEventListener("resetform",_e=>{const et=this.data.defaultFieldValue??"";a.value=j.userValue=et,j.formattedValue=null});let $=_e=>{const{formattedValue:et}=j;et!=null&&(_e.target.value=et),_e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",et=>{var it;if(j.focused)return;const{target:tt}=et;j.userValue&&(tt.value=j.userValue),j.lastCommittedValue=tt.value,j.commitKey=1,(it=this.data.actions)!=null&&it.Focus||(j.focused=!0)}),a.addEventListener("updatefromsandbox",et=>{this.showElementAndHideCanvas(et.target);const tt={value(it){j.userValue=it.detail.value??"",e.setValue(i,{value:j.userValue.toString()}),it.target.value=j.userValue},formattedValue(it){const{formattedValue:rt}=it.detail;j.formattedValue=rt,rt!=null&&it.target!==document.activeElement&&(it.target.value=rt),e.setValue(i,{formattedValue:rt})},selRange(it){it.target.setSelectionRange(...it.detail.selRange)},charLimit:it=>{var ot;const{charLimit:rt}=it.detail,{target:nt}=it;if(rt===0){nt.removeAttribute("maxLength");return}nt.setAttribute("maxLength",rt);let st=j.userValue;!st||st.length<=rt||(st=st.slice(0,rt),nt.value=j.userValue=st,e.setValue(i,{value:st}),(ot=this.linkService.eventBus)==null||ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:st,willCommit:!0,commitKey:1,selStart:nt.selectionStart,selEnd:nt.selectionEnd}}))}};this._dispatchEventFromSandbox(tt,et)}),a.addEventListener("keydown",et=>{var rt;j.commitKey=1;let tt=-1;if(et.key==="Escape"?tt=0:et.key==="Enter"&&!this.data.multiLine?tt=2:et.key==="Tab"&&(j.commitKey=3),tt===-1)return;const{value:it}=et.target;j.lastCommittedValue!==it&&(j.lastCommittedValue=it,j.userValue=it,(rt=this.linkService.eventBus)==null||rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:it,willCommit:!0,commitKey:tt,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}}))});const _e=$;$=null,a.addEventListener("blur",et=>{var it,rt;if(!j.focused||!et.relatedTarget)return;(it=this.data.actions)!=null&&it.Blur||(j.focused=!1);const{value:tt}=et.target;j.userValue=tt,j.lastCommittedValue!==tt&&((rt=this.linkService.eventBus)==null||rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:tt,willCommit:!0,commitKey:j.commitKey,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}})),_e(et)}),(c=this.data.actions)!=null&&c.Keystroke&&a.addEventListener("beforeinput",et=>{var at;j.lastCommittedValue=null;const{data:tt,target:it}=et,{value:rt,selectionStart:nt,selectionEnd:st}=it;let ot=nt,ct=st;switch(et.inputType){case"deleteWordBackward":{const ht=rt.substring(0,nt).match(/\w*[^\w]*$/);ht&&(ot-=ht[0].length);break}case"deleteWordForward":{const ht=rt.substring(nt).match(/^[^\w]*\w*/);ht&&(ct+=ht[0].length);break}case"deleteContentBackward":nt===st&&(ot-=1);break;case"deleteContentForward":nt===st&&(ct+=1);break}et.preventDefault(),(at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:rt,change:tt||"",willCommit:!1,selStart:ot,selEnd:ct}})}),this._setEventListeners(a,j,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],et=>et.target.value)}if($&&a.addEventListener("blur",$),this.data.comb){const et=(this.data.rect[2]-this.data.rect[0])/b;a.classList.add("comb"),a.style.letterSpacing=`calc(${et}px * var(--scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,a=i.id;let o=e.getValue(a,{value:i.exportValue===i.fieldValue}).value;typeof o=="string"&&(o=o!=="Off",e.setValue(a,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const c=document.createElement("input");return GetElementsByNameSet.add(c),c.setAttribute("data-element-id",a),c.disabled=i.readOnly,this._setRequired(c,this.data.required),c.type="checkbox",c.name=i.fieldName,o&&c.setAttribute("checked",!0),c.setAttribute("exportValue",i.exportValue),c.tabIndex=DEFAULT_TAB_INDEX,c.addEventListener("change",d=>{const{name:g,checked:b}=d.target;for(const _ of this._getElementsByName(g,a)){const j=b&&_.exportValue===i.exportValue;_.domElement&&(_.domElement.checked=j),e.setValue(_.id,{value:j})}e.setValue(a,{value:b})}),c.addEventListener("resetform",d=>{const g=i.defaultFieldValue||"Off";d.target.checked=g===i.exportValue}),this.enableScripting&&this.hasJSActions&&(c.addEventListener("updatefromsandbox",d=>{const g={value(b){b.target.checked=b.detail.value!=="Off",e.setValue(a,{value:b.target.checked})}};this._dispatchEventFromSandbox(g,d)}),this._setEventListeners(c,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)),this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.append(c),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,i=this.data,a=i.id;let o=e.getValue(a,{value:i.fieldValue===i.buttonValue}).value;if(typeof o=="string"&&(o=o!==i.buttonValue,e.setValue(a,{value:o})),o)for(const d of this._getElementsByName(i.fieldName,a))e.setValue(d.id,{value:!1});const c=document.createElement("input");if(GetElementsByNameSet.add(c),c.setAttribute("data-element-id",a),c.disabled=i.readOnly,this._setRequired(c,this.data.required),c.type="radio",c.name=i.fieldName,o&&c.setAttribute("checked",!0),c.tabIndex=DEFAULT_TAB_INDEX,c.addEventListener("change",d=>{const{name:g,checked:b}=d.target;for(const _ of this._getElementsByName(g,a))e.setValue(_.id,{value:!1});e.setValue(a,{value:b})}),c.addEventListener("resetform",d=>{const g=i.defaultFieldValue;d.target.checked=g!=null&&g===i.buttonValue}),this.enableScripting&&this.hasJSActions){const d=i.buttonValue;c.addEventListener("updatefromsandbox",g=>{const b={value:_=>{const j=d===_.detail.value;for(const $ of this._getElementsByName(_.target.name)){const _e=j&&$.id===a;$.domElement&&($.domElement.checked=_e),e.setValue($.id,{value:_e})}}};this._dispatchEventFromSandbox(b,g)}),this._setEventListeners(c,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.checked)}return this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.append(c),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const i=e.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),e}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,i=this.data.id,a=e.getValue(i,{value:this.data.fieldValue}),o=document.createElement("select");GetElementsByNameSet.add(o),o.setAttribute("data-element-id",i),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=DEFAULT_TAB_INDEX;let c=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",j=>{const $=this.data.defaultFieldValue;for(const _e of o.options)_e.selected=_e.value===$});for(const j of this.data.options){const $=document.createElement("option");$.textContent=j.displayValue,$.value=j.exportValue,a.value.includes(j.exportValue)&&($.setAttribute("selected",!0),c=!1),o.append($)}let d=null;if(c){const j=document.createElement("option");j.value=" ",j.setAttribute("hidden",!0),j.setAttribute("selected",!0),o.prepend(j),d=()=>{j.remove(),o.removeEventListener("input",d),d=null},o.addEventListener("input",d)}const g=j=>{const $=j?"value":"textContent",{options:_e,multiple:et}=o;return et?Array.prototype.filter.call(_e,tt=>tt.selected).map(tt=>tt[$]):_e.selectedIndex===-1?null:_e[_e.selectedIndex][$]};let b=g(!1);const _=j=>{const $=j.target.options;return Array.prototype.map.call($,_e=>({displayValue:_e.textContent,exportValue:_e.value}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",j=>{const $={value(_e){d==null||d();const et=_e.detail.value,tt=new Set(Array.isArray(et)?et:[et]);for(const it of o.options)it.selected=tt.has(it.value);e.setValue(i,{value:g(!0)}),b=g(!1)},multipleSelection(_e){o.multiple=!0},remove(_e){const et=o.options,tt=_e.detail.remove;et[tt].selected=!1,o.remove(tt),et.length>0&&Array.prototype.findIndex.call(et,rt=>rt.selected)===-1&&(et[0].selected=!0),e.setValue(i,{value:g(!0),items:_(_e)}),b=g(!1)},clear(_e){for(;o.length!==0;)o.remove(0);e.setValue(i,{value:null,items:[]}),b=g(!1)},insert(_e){const{index:et,displayValue:tt,exportValue:it}=_e.detail.insert,rt=o.children[et],nt=document.createElement("option");nt.textContent=tt,nt.value=it,rt?rt.before(nt):o.append(nt),e.setValue(i,{value:g(!0),items:_(_e)}),b=g(!1)},items(_e){const{items:et}=_e.detail;for(;o.length!==0;)o.remove(0);for(const tt of et){const{displayValue:it,exportValue:rt}=tt,nt=document.createElement("option");nt.textContent=it,nt.value=rt,o.append(nt)}o.options.length>0&&(o.options[0].selected=!0),e.setValue(i,{value:g(!0),items:_(_e)}),b=g(!1)},indices(_e){const et=new Set(_e.detail.indices);for(const tt of _e.target.options)tt.selected=et.has(tt.index);e.setValue(i,{value:g(!0)}),b=g(!1)},editable(_e){_e.target.disabled=!_e.detail.editable}};this._dispatchEventFromSandbox($,j)}),o.addEventListener("input",j=>{var et;const $=g(!0),_e=g(!1);e.setValue(i,{value:$}),j.preventDefault(),(et=this.linkService.eventBus)==null||et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:b,change:_e,changeEx:$,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],j=>j.target.value)):o.addEventListener("input",function(j){e.setValue(i,{value:g(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(e){const{data:i,elements:a}=e;super(e,{isRenderable:AnnotationElement._hasPopupData(i)}),this.elements=a,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${AnnotationPrefix}${a}`).join(",")),this.container}}var Rm,W0,G0,Tm,gp,cr,Ll,km,sy,ry,Pm,Fl,Ao,Il,ay,Dl,oy,mp,vp,Ks,g0,hw,EA,AA,_A,SA,m0,v0,fw;class PopupElement{constructor({container:e,color:i,elements:a,titleObj:o,modificationDate:c,contentsObj:d,richText:g,parent:b,rect:_,parentRect:j,open:$}){pt(this,Ks);pt(this,Rm,ut(this,Ks,_A).bind(this));pt(this,W0,ut(this,Ks,fw).bind(this));pt(this,G0,ut(this,Ks,v0).bind(this));pt(this,Tm,ut(this,Ks,m0).bind(this));pt(this,gp,null);pt(this,cr,null);pt(this,Ll,null);pt(this,km,null);pt(this,sy,null);pt(this,ry,null);pt(this,Pm,null);pt(this,Fl,!1);pt(this,Ao,null);pt(this,Il,null);pt(this,ay,null);pt(this,Dl,null);pt(this,oy,null);pt(this,mp,null);pt(this,vp,!1);var _e;dt(this,cr,e),dt(this,oy,o),dt(this,Ll,d),dt(this,Dl,g),dt(this,ry,b),dt(this,gp,i),dt(this,ay,_),dt(this,Pm,j),dt(this,sy,a),dt(this,km,PDFDateString.toDateObject(c)),this.trigger=a.flatMap(et=>et.getElementsToTriggerPopup());for(const et of this.trigger)et.addEventListener("click",h(this,Tm)),et.addEventListener("mouseenter",h(this,G0)),et.addEventListener("mouseleave",h(this,W0)),et.classList.add("popupTriggerArea");for(const et of a)(_e=et.container)==null||_e.addEventListener("keydown",h(this,Rm));h(this,cr).hidden=!0,$&&ut(this,Ks,m0).call(this)}render(){if(h(this,Ao))return;const e=dt(this,Ao,document.createElement("div"));if(e.className="popup",h(this,gp)){const c=e.style.outlineColor=Util.makeHexColor(...h(this,gp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${c} 30%, white)`:e.style.backgroundColor=Util.makeHexColor(...h(this,gp).map(g=>Math.floor(.7*(255-g)+g)))}const i=document.createElement("span");i.className="header";const a=document.createElement("h1");if(i.append(a),{dir:a.dir,str:a.textContent}=h(this,oy),e.append(i),h(this,km)){const c=document.createElement("span");c.classList.add("popupDate"),c.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),c.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,km).valueOf()})),i.append(c)}const o=h(this,Ks,g0);if(o)XfaLayer.render({xfaHtml:o,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const c=this._formatContents(h(this,Ll));e.append(c)}h(this,cr).append(e)}_formatContents({str:e,dir:i}){const a=document.createElement("p");a.classList.add("popupContent"),a.dir=i;const o=e.split(/(?:\r\n?|\n)/);for(let c=0,d=o.length;c<d;++c){const g=o[c];a.append(document.createTextNode(g)),c<d-1&&a.append(document.createElement("br"))}return a}updateEdited({rect:e,popupContent:i}){var a;h(this,mp)||dt(this,mp,{contentsObj:h(this,Ll),richText:h(this,Dl)}),e&&dt(this,Il,null),i&&(dt(this,Dl,ut(this,Ks,AA).call(this,i)),dt(this,Ll,null)),(a=h(this,Ao))==null||a.remove(),dt(this,Ao,null)}resetEdited(){var e;h(this,mp)&&({contentsObj:yr(this,Ll)._,richText:yr(this,Dl)._}=h(this,mp),dt(this,mp,null),(e=h(this,Ao))==null||e.remove(),dt(this,Ao,null),dt(this,Il,null))}forceHide(){dt(this,vp,this.isVisible),h(this,vp)&&(h(this,cr).hidden=!0)}maybeShow(){h(this,vp)&&(h(this,Ao)||ut(this,Ks,v0).call(this),dt(this,vp,!1),h(this,cr).hidden=!1)}get isVisible(){return h(this,cr).hidden===!1}}Rm=new WeakMap,W0=new WeakMap,G0=new WeakMap,Tm=new WeakMap,gp=new WeakMap,cr=new WeakMap,Ll=new WeakMap,km=new WeakMap,sy=new WeakMap,ry=new WeakMap,Pm=new WeakMap,Fl=new WeakMap,Ao=new WeakMap,Il=new WeakMap,ay=new WeakMap,Dl=new WeakMap,oy=new WeakMap,mp=new WeakMap,vp=new WeakMap,Ks=new WeakSet,g0=function(){const e=h(this,Dl),i=h(this,Ll);return e!=null&&e.str&&(!(i!=null&&i.str)||i.str===e.str)&&h(this,Dl).html||null},hw=function(){var e,i,a;return((a=(i=(e=h(this,Ks,g0))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:a.fontSize)||0},EA=function(){var e,i,a;return((a=(i=(e=h(this,Ks,g0))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:a.color)||null},AA=function(e){const i=[],a={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},o={style:{color:h(this,Ks,EA),fontSize:h(this,Ks,hw)?`calc(${h(this,Ks,hw)}px * var(--scale-factor))`:""}};for(const c of e.split(`
`))i.push({name:"span",value:c,attributes:o});return a},_A=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&h(this,Fl))&&ut(this,Ks,m0).call(this)},SA=function(){if(h(this,Il)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:c}}}=h(this,ry);let d=!!h(this,Pm),g=d?h(this,Pm):h(this,ay);for(const tt of h(this,sy))if(!g||Util.intersect(tt.data.rect,g)!==null){g=tt.data.rect,d=!0;break}const b=Util.normalizeRect([g[0],e[3]-g[1]+e[1],g[2],e[3]-g[3]+e[1]]),j=d?g[2]-g[0]+5:0,$=b[0]+j,_e=b[1];dt(this,Il,[100*($-o)/i,100*(_e-c)/a]);const{style:et}=h(this,cr);et.left=`${h(this,Il)[0]}%`,et.top=`${h(this,Il)[1]}%`},m0=function(){dt(this,Fl,!h(this,Fl)),h(this,Fl)?(ut(this,Ks,v0).call(this),h(this,cr).addEventListener("click",h(this,Tm)),h(this,cr).addEventListener("keydown",h(this,Rm))):(ut(this,Ks,fw).call(this),h(this,cr).removeEventListener("click",h(this,Tm)),h(this,cr).removeEventListener("keydown",h(this,Rm)))},v0=function(){h(this,Ao)||this.render(),this.isVisible?h(this,Fl)&&h(this,cr).classList.add("focused"):(ut(this,Ks,SA).call(this),h(this,cr).hidden=!1,h(this,cr).style.zIndex=parseInt(h(this,cr).style.zIndex)+1e3)},fw=function(){h(this,cr).classList.remove("focused"),!(h(this,Fl)||!this.isVisible)&&(h(this,cr).hidden=!0,h(this,cr).style.zIndex=parseInt(h(this,cr).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const i of this.textContent){const a=document.createElement("span");a.textContent=i,e.append(a)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ly;class LineAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pt(this,ly,null)}render(){this.container.classList.add("lineAnnotation");const i=this.data,{width:a,height:o}=getRectDims(i.rect),c=this.svgFactory.create(a,o,!0),d=dt(this,ly,this.svgFactory.createElement("svg:line"));return d.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),d.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),d.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),d.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),d.setAttribute("stroke-width",i.borderStyle.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,ly)}addHighlightArea(){this.container.classList.add("highlightArea")}}ly=new WeakMap;var cy;class SquareAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pt(this,cy,null)}render(){this.container.classList.add("squareAnnotation");const i=this.data,{width:a,height:o}=getRectDims(i.rect),c=this.svgFactory.create(a,o,!0),d=i.borderStyle.width,g=dt(this,cy,this.svgFactory.createElement("svg:rect"));return g.setAttribute("x",d/2),g.setAttribute("y",d/2),g.setAttribute("width",a-d),g.setAttribute("height",o-d),g.setAttribute("stroke-width",d||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),c.append(g),this.container.append(c),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,cy)}addHighlightArea(){this.container.classList.add("highlightArea")}}cy=new WeakMap;var uy;class CircleAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pt(this,uy,null)}render(){this.container.classList.add("circleAnnotation");const i=this.data,{width:a,height:o}=getRectDims(i.rect),c=this.svgFactory.create(a,o,!0),d=i.borderStyle.width,g=dt(this,uy,this.svgFactory.createElement("svg:ellipse"));return g.setAttribute("cx",a/2),g.setAttribute("cy",o/2),g.setAttribute("rx",a/2-d/2),g.setAttribute("ry",o/2-d/2),g.setAttribute("stroke-width",d||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),c.append(g),this.container.append(c),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,uy)}addHighlightArea(){this.container.classList.add("highlightArea")}}uy=new WeakMap;var dy;class PolylineAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pt(this,dy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:a,borderStyle:o,popupRef:c}}=this;if(!a)return this.container;const{width:d,height:g}=getRectDims(i),b=this.svgFactory.create(d,g,!0);let _=[];for(let $=0,_e=a.length;$<_e;$+=2){const et=a[$]-i[0],tt=i[3]-a[$+1];_.push(`${et},${tt}`)}_=_.join(" ");const j=dt(this,dy,this.svgFactory.createElement(this.svgElementName));return j.setAttribute("points",_),j.setAttribute("stroke-width",o.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),b.append(j),this.container.append(b),!c&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,dy)}addHighlightArea(){this.container.classList.add("highlightArea")}}dy=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hy;class InkAnnotationElement extends AnnotationElement{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});pt(this,hy,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,inkLists:a,borderStyle:o,popupRef:c}}=this,{width:d,height:g}=getRectDims(i),b=this.svgFactory.create(d,g,!0);for(const _ of a){let j=[];for(let _e=0,et=_.length;_e<et;_e+=2){const tt=_[_e]-i[0],it=i[3]-_[_e+1];j.push(`${tt},${it}`)}j=j.join(" ");const $=this.svgFactory.createElement(this.svgElementName);h(this,hy).push($),$.setAttribute("points",j),$.setAttribute("stroke-width",o.width||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),b.append($)}return!c&&this.hasPopupData&&this._createPopup(),this.container.append(b),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,hy)}addHighlightArea(){this.container.classList.add("highlightArea")}}hy=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var fy,py,pw;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(i){var o;super(i,{isRenderable:!0});pt(this,py);pt(this,fy,null);const{file:a}=this.data;this.filename=a.filename,this.content=a.content,(o=this.linkService.eventBus)==null||o.dispatch("fileattachmentannotation",{source:this,...a})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:a}=this;let o;a.hasAppearance||a.fillAlpha===0?o=document.createElement("div"):(o=document.createElement("img"),o.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(a.name)?"paperclip":"pushpin"}.svg`,a.fillAlpha&&a.fillAlpha<1&&(o.style=`filter: opacity(${Math.round(a.fillAlpha*100)}%);`)),o.addEventListener("dblclick",ut(this,py,pw).bind(this)),dt(this,fy,o);const{isMac:c}=util_FeatureTest.platform;return i.addEventListener("keydown",d=>{d.key==="Enter"&&(c?d.metaKey:d.ctrlKey)&&ut(this,py,pw).call(this)}),!a.popupRef&&this.hasPopupData?this._createPopup():o.classList.add("popupTriggerArea"),i.append(o),i}getElementsToTriggerPopup(){return h(this,fy)}addHighlightArea(){this.container.classList.add("highlightArea")}}fy=new WeakMap,py=new WeakSet,pw=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var gy,yp,bp,my,jp,CA,gw;class AnnotationLayer{constructor({div:e,accessibilityManager:i,annotationCanvasMap:a,annotationEditorUIManager:o,page:c,viewport:d,structTreeLayer:g}){pt(this,jp);pt(this,gy,null);pt(this,yp,null);pt(this,bp,new Map);pt(this,my,null);this.div=e,dt(this,gy,i),dt(this,yp,a),dt(this,my,g||null),this.page=c,this.viewport=d,this.zIndex=0,this._annotationEditorUIManager=o}hasEditableAnnotations(){return h(this,bp).size>0}async render(e){var d;const{annotations:i}=e,a=this.div;setLayerDimensions(a,this.viewport);const o=new Map,c={data:null,layer:a,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:e.annotationStorage||new AnnotationStorage,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const g of i){if(g.noHTML)continue;const b=g.annotationType===AnnotationType.POPUP;if(b){const $=o.get(g.id);if(!$)continue;c.elements=$}else{const{width:$,height:_e}=getRectDims(g.rect);if($<=0||_e<=0)continue}c.data=g;const _=AnnotationElementFactory.create(c);if(!_.isRenderable)continue;if(!b&&g.popupRef){const $=o.get(g.popupRef);$?$.push(_):o.set(g.popupRef,[_])}const j=_.render();g.hidden&&(j.style.visibility="hidden"),await ut(this,jp,CA).call(this,j,g.id),_._isEditable&&(h(this,bp).set(_.data.id,_),(d=this._annotationEditorUIManager)==null||d.renderAnnotationElement(_))}ut(this,jp,gw).call(this)}update({viewport:e}){const i=this.div;this.viewport=e,setLayerDimensions(i,{rotation:e.rotation}),ut(this,jp,gw).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(h(this,bp).values())}getEditableAnnotation(e){return h(this,bp).get(e)}}gy=new WeakMap,yp=new WeakMap,bp=new WeakMap,my=new WeakMap,jp=new WeakSet,CA=async function(e,i){var d,g;const a=e.firstChild||e,o=a.id=`${AnnotationPrefix}${i}`,c=await((d=h(this,my))==null?void 0:d.getAriaAttributes(o));if(c)for(const[b,_]of c)a.setAttribute(b,_);this.div.append(e),(g=h(this,gy))==null||g.moveElementInDOM(this.div,e,a,!1)},gw=function(){if(!h(this,yp))return;const e=this.div;for(const[i,a]of h(this,yp)){const o=e.querySelector(`[data-annotation-id="${i}"]`);if(!o)continue;a.className="annotationContent";const{firstChild:c}=o;c?c.nodeName==="CANVAS"?c.replaceWith(a):c.classList.contains("annotationContent")?c.after(a):c.before(a):o.append(a)}h(this,yp).clear()};const EOL_PATTERN=/\r\n?|\n/g;var _o,ba,vy,xp,xa,mr,RA,TA,kA,y0,Kl,b0,x0,PA,mw,MA;const Zs=class Zs extends AnnotationEditor{constructor(i){super({...i,name:"freeTextEditor"});pt(this,mr);pt(this,_o);pt(this,ba,"");pt(this,vy,`${this.id}-editor`);pt(this,xp,null);pt(this,xa);dt(this,_o,i.color||Zs._defaultColor||AnnotationEditor._defaultLineColor),dt(this,xa,i.fontSize||Zs._defaultFontSize)}static get _keyboardManager(){const i=Zs.prototype,a=d=>d.isEmpty(),o=AnnotationEditorUIManager.TRANSLATE_SMALL,c=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-o,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-c,0],checker:a}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[o,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[c,0],checker:a}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-o],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-c],checker:a}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,o],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,c],checker:a}]]))}static initialize(i,a){AnnotationEditor.initialize(i,a);const o=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(o.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,a){switch(i){case AnnotationEditorParamsType.FREETEXT_SIZE:Zs._defaultFontSize=a;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Zs._defaultColor=a;break}}updateParams(i,a){switch(i){case AnnotationEditorParamsType.FREETEXT_SIZE:ut(this,mr,RA).call(this,a);break;case AnnotationEditorParamsType.FREETEXT_COLOR:ut(this,mr,TA).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Zs._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Zs._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,h(this,xa)],[AnnotationEditorParamsType.FREETEXT_COLOR,h(this,_o)]]}_translateEmpty(i,a){this._uiManager.translateSelectedEditors(i,a,!0)}getInitialTranslation(){const i=this.parentScale;return[-Zs._internalPadding*i,-(Zs._internalPadding+h(this,xa))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),dt(this,xp,new AbortController);const i=this._uiManager.combinedSignal(h(this,xp));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,vy)),this._isDraggable=!0,(i=h(this,xp))==null||i.abort(),dt(this,xp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var i;this.width||(this.enableEditMode(),this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=h(this,ba),a=dt(this,ba,ut(this,mr,kA).call(this).trimEnd());if(i===a)return;const o=c=>{if(dt(this,ba,c),!c){this.remove();return}ut(this,mr,x0).call(this),this._uiManager.rebuild(this),ut(this,mr,y0).call(this)};this.addCommands({cmd:()=>{o(a)},undo:()=>{o(i)},mustExec:!1}),ut(this,mr,y0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){Zs._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,a;this.width&&(i=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,vy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:o}=this.editorDiv;if(o.fontSize=`calc(${h(this,xa)}px * var(--scale-factor))`,o.color=h(this,_o),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[c,d]=this.parentDimensions;if(this.annotationElementId){const{position:g}=this._initialData;let[b,_]=this.getInitialTranslation();[b,_]=this.pageTranslationToScreen(b,_);const[j,$]=this.pageDimensions,[_e,et]=this.pageTranslation;let tt,it;switch(this.rotation){case 0:tt=i+(g[0]-_e)/j,it=a+this.height-(g[1]-et)/$;break;case 90:tt=i+(g[0]-_e)/j,it=a-(g[1]-et)/$,[b,_]=[_,-b];break;case 180:tt=i-this.width+(g[0]-_e)/j,it=a-(g[1]-et)/$,[b,_]=[-b,-_];break;case 270:tt=i+(g[0]-_e-this.height*$)/j,it=a+(g[1]-et-this.width*j)/$,[b,_]=[-_,b];break}this.setAt(tt*c,it*d,b,_)}else this.setAt(i*c,a*d,this.width*c,this.height*d);ut(this,mr,x0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var tt,it,rt;const a=i.clipboardData||window.clipboardData,{types:o}=a;if(o.length===1&&o[0]==="text/plain")return;i.preventDefault();const c=ut(tt=Zs,Kl,mw).call(tt,a.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!c)return;const d=window.getSelection();if(!d.rangeCount)return;this.editorDiv.normalize(),d.deleteFromDocument();const g=d.getRangeAt(0);if(!c.includes(`
`)){g.insertNode(document.createTextNode(c)),this.editorDiv.normalize(),d.collapseToStart();return}const{startContainer:b,startOffset:_}=g,j=[],$=[];if(b.nodeType===Node.TEXT_NODE){const nt=b.parentElement;if($.push(b.nodeValue.slice(_).replaceAll(EOL_PATTERN,"")),nt!==this.editorDiv){let st=j;for(const ot of this.editorDiv.childNodes){if(ot===nt){st=$;continue}st.push(ut(it=Zs,Kl,b0).call(it,ot))}}j.push(b.nodeValue.slice(0,_).replaceAll(EOL_PATTERN,""))}else if(b===this.editorDiv){let nt=j,st=0;for(const ot of this.editorDiv.childNodes)st++===_&&(nt=$),nt.push(ut(rt=Zs,Kl,b0).call(rt,ot))}dt(this,ba,`${j.join(`
`)}${c}${$.join(`
`)}`),ut(this,mr,x0).call(this);const _e=new Range;let et=j.reduce((nt,st)=>nt+st.length,0);for(const{firstChild:nt}of this.editorDiv.childNodes)if(nt.nodeType===Node.TEXT_NODE){const st=nt.nodeValue.length;if(et<=st){_e.setStart(nt,et),_e.setEnd(nt,et);break}et-=st}d.removeAllRanges(),d.addRange(_e)}get contentDiv(){return this.editorDiv}static async deserialize(i,a,o){var g;let c=null;if(i instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:b,fontColor:_},rect:j,rotation:$,id:_e,popupRef:et},textContent:tt,textPosition:it,parent:{page:{pageNumber:rt}}}=i;if(!tt||tt.length===0)return null;c=i={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(_),fontSize:b,value:tt.join(`
`),position:it,pageIndex:rt-1,rect:j.slice(0),rotation:$,id:_e,deleted:!1,popupRef:et}}const d=await super.deserialize(i,a,o);return dt(d,xa,i.fontSize),dt(d,_o,Util.makeHexColor(...i.color)),dt(d,ba,ut(g=Zs,Kl,mw).call(g,i.value)),d.annotationElementId=i.id||null,d._initialData=c,d}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=Zs._internalPadding*this.parentScale,o=this.getRect(a,a),c=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,_o)),d={annotationType:AnnotationEditorType.FREETEXT,color:c,fontSize:h(this,xa),value:ut(this,mr,PA).call(this),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?d:this.annotationElementId&&!ut(this,mr,MA).call(this,d)?null:(d.id=this.annotationElementId,d)}renderAnnotationElement(i){const a=super.renderAnnotationElement(i);if(this.deleted)return a;const{style:o}=a;o.fontSize=`calc(${h(this,xa)}px * var(--scale-factor))`,o.color=h(this,_o),a.replaceChildren();for(const d of h(this,ba).split(`
`)){const g=document.createElement("div");g.append(d?document.createTextNode(d):document.createElement("br")),a.append(g)}const c=Zs._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(c,c),popupContent:h(this,ba)}),a}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};_o=new WeakMap,ba=new WeakMap,vy=new WeakMap,xp=new WeakMap,xa=new WeakMap,mr=new WeakSet,RA=function(i){const a=c=>{this.editorDiv.style.fontSize=`calc(${c}px * var(--scale-factor))`,this.translate(0,-(c-h(this,xa))*this.parentScale),dt(this,xa,c),ut(this,mr,y0).call(this)},o=h(this,xa);this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},TA=function(i){const a=c=>{dt(this,_o,this.editorDiv.style.color=c)},o=h(this,_o);this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},kA=function(){var o;const i=[];this.editorDiv.normalize();let a=null;for(const c of this.editorDiv.childNodes)(a==null?void 0:a.nodeType)===Node.TEXT_NODE&&c.nodeName==="BR"||(i.push(ut(o=Zs,Kl,b0).call(o,c)),a=c);return i.join(`
`)},y0=function(){const[i,a]=this.parentDimensions;let o;if(this.isAttachedToDOM)o=this.div.getBoundingClientRect();else{const{currentLayer:c,div:d}=this,g=d.style.display,b=d.classList.contains("hidden");d.classList.remove("hidden"),d.style.display="hidden",c.div.append(this.div),o=d.getBoundingClientRect(),d.remove(),d.style.display=g,d.classList.toggle("hidden",b)}this.rotation%180===this.parentRotation%180?(this.width=o.width/i,this.height=o.height/a):(this.width=o.height/i,this.height=o.width/a),this.fixAndSetPosition()},Kl=new WeakSet,b0=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(EOL_PATTERN,"")},x0=function(){if(this.editorDiv.replaceChildren(),!!h(this,ba))for(const i of h(this,ba).split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(a)}},PA=function(){return h(this,ba).replaceAll(""," ")},mw=function(i){return i.replaceAll(" ","")},MA=function(i){const{value:a,fontSize:o,color:c,pageIndex:d}=this._initialData;return this._hasBeenMoved||i.value!==a||i.fontSize!==o||i.color.some((g,b)=>g!==c[b])||i.pageIndex!==d},pt(Zs,Kl),Xn(Zs,"_freeTextDefaultContent",""),Xn(Zs,"_internalPadding",0),Xn(Zs,"_defaultColor",null),Xn(Zs,"_defaultFontSize",10),Xn(Zs,"_type","freetext"),Xn(Zs,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Zs;class Outline{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(e,i){unreachable("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){unreachable("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){unreachable("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var _a,So,Mm,Lm,Go,ks,wp,Ep,yy,by,Fm,Im,Eu,xy,X0,q0,Ar,hv,LA,FA,IA,jA,DA,OA;const xl=class xl{constructor({x:e,y:i},a,o,c,d,g=0){pt(this,Ar);pt(this,_a);pt(this,So,[]);pt(this,Mm);pt(this,Lm);pt(this,Go,[]);pt(this,ks,new Float64Array(18));pt(this,wp);pt(this,Ep);pt(this,yy);pt(this,by);pt(this,Fm);pt(this,Im);pt(this,Eu,[]);dt(this,_a,a),dt(this,Im,c*o),dt(this,Lm,d),h(this,ks).set([NaN,NaN,NaN,NaN,e,i],6),dt(this,Mm,g),dt(this,by,h(xl,xy)*o),dt(this,yy,h(xl,q0)*o),dt(this,Fm,o),h(this,Eu).push(e,i)}isEmpty(){return isNaN(h(this,ks)[8])}add({x:e,y:i}){var yt;dt(this,wp,e),dt(this,Ep,i);const[a,o,c,d]=h(this,_a);let[g,b,_,j]=h(this,ks).subarray(8,12);const $=e-_,_e=i-j,et=Math.hypot($,_e);if(et<h(this,yy))return!1;const tt=et-h(this,by),it=tt/et,rt=it*$,nt=it*_e;let st=g,ot=b;g=_,b=j,_+=rt,j+=nt,(yt=h(this,Eu))==null||yt.push(e,i);const ct=-nt/tt,at=rt/tt,ht=ct*h(this,Im),lt=at*h(this,Im);return h(this,ks).set(h(this,ks).subarray(2,8),0),h(this,ks).set([_+ht,j+lt],4),h(this,ks).set(h(this,ks).subarray(14,18),12),h(this,ks).set([_-ht,j-lt],16),isNaN(h(this,ks)[6])?(h(this,Go).length===0&&(h(this,ks).set([g+ht,b+lt],2),h(this,Go).push(NaN,NaN,NaN,NaN,(g+ht-a)/c,(b+lt-o)/d),h(this,ks).set([g-ht,b-lt],14),h(this,So).push(NaN,NaN,NaN,NaN,(g-ht-a)/c,(b-lt-o)/d)),h(this,ks).set([st,ot,g,b,_,j],6),!this.isEmpty()):(h(this,ks).set([st,ot,g,b,_,j],6),Math.abs(Math.atan2(ot-b,st-g)-Math.atan2(nt,rt))<Math.PI/2?([g,b,_,j]=h(this,ks).subarray(2,6),h(this,Go).push(NaN,NaN,NaN,NaN,((g+_)/2-a)/c,((b+j)/2-o)/d),[g,b,st,ot]=h(this,ks).subarray(14,18),h(this,So).push(NaN,NaN,NaN,NaN,((st+g)/2-a)/c,((ot+b)/2-o)/d),!0):([st,ot,g,b,_,j]=h(this,ks).subarray(0,6),h(this,Go).push(((st+5*g)/6-a)/c,((ot+5*b)/6-o)/d,((5*g+_)/6-a)/c,((5*b+j)/6-o)/d,((g+_)/2-a)/c,((b+j)/2-o)/d),[_,j,g,b,st,ot]=h(this,ks).subarray(12,18),h(this,So).push(((st+5*g)/6-a)/c,((ot+5*b)/6-o)/d,((5*g+_)/6-a)/c,((5*b+j)/6-o)/d,((g+_)/2-a)/c,((b+j)/2-o)/d),!0))}toSVGPath(){if(this.isEmpty())return"";const e=h(this,Go),i=h(this,So);if(isNaN(h(this,ks)[6])&&!this.isEmpty())return ut(this,Ar,LA).call(this);const a=[];a.push(`M${e[4]} ${e[5]}`);for(let o=6;o<e.length;o+=6)isNaN(e[o])?a.push(`L${e[o+4]} ${e[o+5]}`):a.push(`C${e[o]} ${e[o+1]} ${e[o+2]} ${e[o+3]} ${e[o+4]} ${e[o+5]}`);ut(this,Ar,IA).call(this,a);for(let o=i.length-6;o>=6;o-=6)isNaN(i[o])?a.push(`L${i[o+4]} ${i[o+5]}`):a.push(`C${i[o]} ${i[o+1]} ${i[o+2]} ${i[o+3]} ${i[o+4]} ${i[o+5]}`);return ut(this,Ar,FA).call(this,a),a.join(" ")}newFreeDrawOutline(e,i,a,o,c,d){return new FreeDrawOutline(e,i,a,o,c,d)}getOutlines(){var $;const e=h(this,Go),i=h(this,So),a=h(this,ks),[o,c,d,g]=h(this,_a),b=new Float64Array(((($=h(this,Eu))==null?void 0:$.length)??0)+2);for(let _e=0,et=b.length-2;_e<et;_e+=2)b[_e]=(h(this,Eu)[_e]-o)/d,b[_e+1]=(h(this,Eu)[_e+1]-c)/g;if(b[b.length-2]=(h(this,wp)-o)/d,b[b.length-1]=(h(this,Ep)-c)/g,isNaN(a[6])&&!this.isEmpty())return ut(this,Ar,jA).call(this,b);const _=new Float64Array(h(this,Go).length+24+h(this,So).length);let j=e.length;for(let _e=0;_e<j;_e+=2){if(isNaN(e[_e])){_[_e]=_[_e+1]=NaN;continue}_[_e]=e[_e],_[_e+1]=e[_e+1]}j=ut(this,Ar,OA).call(this,_,j);for(let _e=i.length-6;_e>=6;_e-=6)for(let et=0;et<6;et+=2){if(isNaN(i[_e+et])){_[j]=_[j+1]=NaN,j+=2;continue}_[j]=i[_e+et],_[j+1]=i[_e+et+1],j+=2}return ut(this,Ar,DA).call(this,_,j),this.newFreeDrawOutline(_,b,h(this,_a),h(this,Fm),h(this,Mm),h(this,Lm))}};_a=new WeakMap,So=new WeakMap,Mm=new WeakMap,Lm=new WeakMap,Go=new WeakMap,ks=new WeakMap,wp=new WeakMap,Ep=new WeakMap,yy=new WeakMap,by=new WeakMap,Fm=new WeakMap,Im=new WeakMap,Eu=new WeakMap,xy=new WeakMap,X0=new WeakMap,q0=new WeakMap,Ar=new WeakSet,hv=function(){const e=h(this,ks).subarray(4,6),i=h(this,ks).subarray(16,18),[a,o,c,d]=h(this,_a);return[(h(this,wp)+(e[0]-i[0])/2-a)/c,(h(this,Ep)+(e[1]-i[1])/2-o)/d,(h(this,wp)+(i[0]-e[0])/2-a)/c,(h(this,Ep)+(i[1]-e[1])/2-o)/d]},LA=function(){const[e,i,a,o]=h(this,_a),[c,d,g,b]=ut(this,Ar,hv).call(this);return`M${(h(this,ks)[2]-e)/a} ${(h(this,ks)[3]-i)/o} L${(h(this,ks)[4]-e)/a} ${(h(this,ks)[5]-i)/o} L${c} ${d} L${g} ${b} L${(h(this,ks)[16]-e)/a} ${(h(this,ks)[17]-i)/o} L${(h(this,ks)[14]-e)/a} ${(h(this,ks)[15]-i)/o} Z`},FA=function(e){const i=h(this,So);e.push(`L${i[4]} ${i[5]} Z`)},IA=function(e){const[i,a,o,c]=h(this,_a),d=h(this,ks).subarray(4,6),g=h(this,ks).subarray(16,18),[b,_,j,$]=ut(this,Ar,hv).call(this);e.push(`L${(d[0]-i)/o} ${(d[1]-a)/c} L${b} ${_} L${j} ${$} L${(g[0]-i)/o} ${(g[1]-a)/c}`)},jA=function(e){const i=h(this,ks),[a,o,c,d]=h(this,_a),[g,b,_,j]=ut(this,Ar,hv).call(this),$=new Float64Array(36);return $.set([NaN,NaN,NaN,NaN,(i[2]-a)/c,(i[3]-o)/d,NaN,NaN,NaN,NaN,(i[4]-a)/c,(i[5]-o)/d,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,_,j,NaN,NaN,NaN,NaN,(i[16]-a)/c,(i[17]-o)/d,NaN,NaN,NaN,NaN,(i[14]-a)/c,(i[15]-o)/d],0),this.newFreeDrawOutline($,e,h(this,_a),h(this,Fm),h(this,Mm),h(this,Lm))},DA=function(e,i){const a=h(this,So);return e.set([NaN,NaN,NaN,NaN,a[4],a[5]],i),i+=6},OA=function(e,i){const a=h(this,ks).subarray(4,6),o=h(this,ks).subarray(16,18),[c,d,g,b]=h(this,_a),[_,j,$,_e]=ut(this,Ar,hv).call(this);return e.set([NaN,NaN,NaN,NaN,(a[0]-c)/g,(a[1]-d)/b,NaN,NaN,NaN,NaN,_,j,NaN,NaN,NaN,NaN,$,_e,NaN,NaN,NaN,NaN,(o[0]-c)/g,(o[1]-d)/b],i),i+=24},pt(xl,xy,8),pt(xl,X0,2),pt(xl,q0,h(xl,xy)+h(xl,X0));let FreeDrawOutliner=xl;var jm,Ap,Ol,wy,$a,Ey,dr,Qr,fv,pv,NA;class FreeDrawOutline extends Outline{constructor(i,a,o,c,d,g){super();pt(this,Qr);pt(this,jm);pt(this,Ap,null);pt(this,Ol);pt(this,wy);pt(this,$a);pt(this,Ey);pt(this,dr);dt(this,dr,i),dt(this,$a,a),dt(this,jm,o),dt(this,Ey,c),dt(this,Ol,d),dt(this,wy,g),ut(this,Qr,NA).call(this,g);const{x:b,y:_,width:j,height:$}=h(this,Ap);for(let _e=0,et=i.length;_e<et;_e+=2)i[_e]=(i[_e]-b)/j,i[_e+1]=(i[_e+1]-_)/$;for(let _e=0,et=a.length;_e<et;_e+=2)a[_e]=(a[_e]-b)/j,a[_e+1]=(a[_e+1]-_)/$}toSVGPath(){const i=[`M${h(this,dr)[4]} ${h(this,dr)[5]}`];for(let a=6,o=h(this,dr).length;a<o;a+=6){if(isNaN(h(this,dr)[a])){i.push(`L${h(this,dr)[a+4]} ${h(this,dr)[a+5]}`);continue}i.push(`C${h(this,dr)[a]} ${h(this,dr)[a+1]} ${h(this,dr)[a+2]} ${h(this,dr)[a+3]} ${h(this,dr)[a+4]} ${h(this,dr)[a+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,a,o,c],d){const g=o-i,b=c-a;let _,j;switch(d){case 0:_=ut(this,Qr,fv).call(this,h(this,dr),i,c,g,-b),j=ut(this,Qr,fv).call(this,h(this,$a),i,c,g,-b);break;case 90:_=ut(this,Qr,pv).call(this,h(this,dr),i,a,g,b),j=ut(this,Qr,pv).call(this,h(this,$a),i,a,g,b);break;case 180:_=ut(this,Qr,fv).call(this,h(this,dr),o,a,-g,b),j=ut(this,Qr,fv).call(this,h(this,$a),o,a,-g,b);break;case 270:_=ut(this,Qr,pv).call(this,h(this,dr),o,c,-g,-b),j=ut(this,Qr,pv).call(this,h(this,$a),o,c,-g,-b);break}return{outline:Array.from(_),points:[Array.from(j)]}}get box(){return h(this,Ap)}newOutliner(i,a,o,c,d,g=0){return new FreeDrawOutliner(i,a,o,c,d,g)}getNewOutline(i,a){const{x:o,y:c,width:d,height:g}=h(this,Ap),[b,_,j,$]=h(this,jm),_e=d*j,et=g*$,tt=o*j+b,it=c*$+_,rt=this.newOutliner({x:h(this,$a)[0]*_e+tt,y:h(this,$a)[1]*et+it},h(this,jm),h(this,Ey),i,h(this,wy),a??h(this,Ol));for(let nt=2;nt<h(this,$a).length;nt+=2)rt.add({x:h(this,$a)[nt]*_e+tt,y:h(this,$a)[nt+1]*et+it});return rt.getOutlines()}get mustRemoveSelfIntersections(){return!0}}jm=new WeakMap,Ap=new WeakMap,Ol=new WeakMap,wy=new WeakMap,$a=new WeakMap,Ey=new WeakMap,dr=new WeakMap,Qr=new WeakSet,fv=function(i,a,o,c,d){const g=new Float64Array(i.length);for(let b=0,_=i.length;b<_;b+=2)g[b]=a+i[b]*c,g[b+1]=o+i[b+1]*d;return g},pv=function(i,a,o,c,d){const g=new Float64Array(i.length);for(let b=0,_=i.length;b<_;b+=2)g[b]=a+i[b+1]*c,g[b+1]=o+i[b]*d;return g},NA=function(i){const a=h(this,dr);let o=a[4],c=a[5],d=o,g=c,b=o,_=c,j=o,$=c;const _e=i?Math.max:Math.min;for(let nt=6,st=a.length;nt<st;nt+=6){if(isNaN(a[nt]))d=Math.min(d,a[nt+4]),g=Math.min(g,a[nt+5]),b=Math.max(b,a[nt+4]),_=Math.max(_,a[nt+5]),$<a[nt+5]?(j=a[nt+4],$=a[nt+5]):$===a[nt+5]&&(j=_e(j,a[nt+4]));else{const ot=Util.bezierBoundingBox(o,c,...a.slice(nt,nt+6));d=Math.min(d,ot[0]),g=Math.min(g,ot[1]),b=Math.max(b,ot[2]),_=Math.max(_,ot[3]),$<ot[3]?(j=ot[2],$=ot[3]):$===ot[3]&&(j=_e(j,ot[2]))}o=a[nt+4],c=a[nt+5]}const et=d-h(this,Ol),tt=g-h(this,Ol),it=b-d+2*h(this,Ol),rt=_-g+2*h(this,Ol);dt(this,Ap,{x:et,y:tt,width:it,height:rt,lastPoint:[j,$]})};var Ay,Au,Co,Wr,BA,w0,HA,UA,vw;class HighlightOutliner{constructor(e,i=0,a=0,o=!0){pt(this,Wr);pt(this,Ay);pt(this,Au,[]);pt(this,Co,[]);let c=1/0,d=-1/0,g=1/0,b=-1/0;const j=10**-4;for(const{x:nt,y:st,width:ot,height:ct}of e){const at=Math.floor((nt-i)/j)*j,ht=Math.ceil((nt+ot+i)/j)*j,lt=Math.floor((st-i)/j)*j,ft=Math.ceil((st+ct+i)/j)*j,yt=[at,lt,ft,!0],Et=[ht,lt,ft,!1];h(this,Au).push(yt,Et),c=Math.min(c,at),d=Math.max(d,ht),g=Math.min(g,lt),b=Math.max(b,ft)}const $=d-c+2*a,_e=b-g+2*a,et=c-a,tt=g-a,it=h(this,Au).at(o?-1:-2),rt=[it[0],it[2]];for(const nt of h(this,Au)){const[st,ot,ct]=nt;nt[0]=(st-et)/$,nt[1]=(ot-tt)/_e,nt[2]=(ct-tt)/_e}dt(this,Ay,{x:et,y:tt,width:$,height:_e,lastPoint:rt})}getOutlines(){h(this,Au).sort((i,a)=>i[0]-a[0]||i[1]-a[1]||i[2]-a[2]);const e=[];for(const i of h(this,Au))i[3]?(e.push(...ut(this,Wr,vw).call(this,i)),ut(this,Wr,HA).call(this,i)):(ut(this,Wr,UA).call(this,i),e.push(...ut(this,Wr,vw).call(this,i)));return ut(this,Wr,BA).call(this,e)}}Ay=new WeakMap,Au=new WeakMap,Co=new WeakMap,Wr=new WeakSet,BA=function(e){const i=[],a=new Set;for(const d of e){const[g,b,_]=d;i.push([g,b,d],[g,_,d])}i.sort((d,g)=>d[1]-g[1]||d[0]-g[0]);for(let d=0,g=i.length;d<g;d+=2){const b=i[d][2],_=i[d+1][2];b.push(_),_.push(b),a.add(b),a.add(_)}const o=[];let c;for(;a.size>0;){const d=a.values().next().value;let[g,b,_,j,$]=d;a.delete(d);let _e=g,et=b;for(c=[g,_],o.push(c);;){let tt;if(a.has(j))tt=j;else if(a.has($))tt=$;else break;a.delete(tt),[g,b,_,j,$]=tt,_e!==g&&(c.push(_e,et,g,et===b?b:_),_e=g),et=et===b?_:b}c.push(_e,et)}return new HighlightOutline(o,h(this,Ay))},w0=function(e){const i=h(this,Co);let a=0,o=i.length-1;for(;a<=o;){const c=a+o>>1,d=i[c][0];if(d===e)return c;d<e?a=c+1:o=c-1}return o+1},HA=function([,e,i]){const a=ut(this,Wr,w0).call(this,e);h(this,Co).splice(a,0,[e,i])},UA=function([,e,i]){const a=ut(this,Wr,w0).call(this,e);for(let o=a;o<h(this,Co).length;o++){const[c,d]=h(this,Co)[o];if(c!==e)break;if(c===e&&d===i){h(this,Co).splice(o,1);return}}for(let o=a-1;o>=0;o--){const[c,d]=h(this,Co)[o];if(c!==e)break;if(c===e&&d===i){h(this,Co).splice(o,1);return}}},vw=function(e){const[i,a,o]=e,c=[[i,a,o]],d=ut(this,Wr,w0).call(this,o);for(let g=0;g<d;g++){const[b,_]=h(this,Co)[g];for(let j=0,$=c.length;j<$;j++){const[,_e,et]=c[j];if(!(_<=_e||et<=b)){if(_e>=b){if(et>_)c[j][1]=_;else{if($===1)return[];c.splice(j,1),j--,$--}continue}c[j][2]=b,et>_&&c.push([i,_,et])}}}return c};var _y,Dm;class HighlightOutline extends Outline{constructor(i,a){super();pt(this,_y);pt(this,Dm);dt(this,Dm,i),dt(this,_y,a)}toSVGPath(){const i=[];for(const a of h(this,Dm)){let[o,c]=a;i.push(`M${o} ${c}`);for(let d=2;d<a.length;d+=2){const g=a[d],b=a[d+1];g===o?(i.push(`V${b}`),c=b):b===c&&(i.push(`H${g}`),o=g)}i.push("Z")}return i.join(" ")}serialize([i,a,o,c],d){const g=[],b=o-i,_=c-a;for(const j of h(this,Dm)){const $=new Array(j.length);for(let _e=0;_e<j.length;_e+=2)$[_e]=i+j[_e]*b,$[_e+1]=c-j[_e+1]*_;g.push($)}return g}get box(){return h(this,_y)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}_y=new WeakMap,Dm=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(e,i,a,o,c,d){return new FreeHighlightOutline(e,i,a,o,c,d)}get classNamesForDrawing(){return["highlight","free"]}}class FreeHighlightOutline extends FreeDrawOutline{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,i,a,o,c,d=0){return new FreeHighlightOutliner(e,i,a,o,c,d)}}var Ro,_p,Om,wr,Sy,Nm,Cy,Ry,_u,To,Bm,Ty,qs,yw,bw,xw,Ou,$A,iu;const Xr=class Xr{constructor({editor:e=null,uiManager:i=null}){pt(this,qs);pt(this,Ro,null);pt(this,_p,null);pt(this,Om);pt(this,wr,null);pt(this,Sy,!1);pt(this,Nm,!1);pt(this,Cy,null);pt(this,Ry);pt(this,_u,null);pt(this,To,null);pt(this,Bm);var a;e?(dt(this,Nm,!1),dt(this,Bm,AnnotationEditorParamsType.HIGHLIGHT_COLOR),dt(this,Cy,e)):(dt(this,Nm,!0),dt(this,Bm,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),dt(this,To,(e==null?void 0:e._uiManager)||i),dt(this,Ry,h(this,To)._eventBus),dt(this,Om,(e==null?void 0:e.color)||((a=h(this,To))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),h(Xr,Ty)||dt(Xr,Ty,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Xr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Xr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Xr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Xr.prototype._moveToPrevious],[["Home","mac+Home"],Xr.prototype._moveToBeginning],[["End","mac+End"],Xr.prototype._moveToEnd]]))}renderButton(){const e=dt(this,Ro,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const i=h(this,To)._signal;e.addEventListener("click",ut(this,qs,Ou).bind(this),{signal:i}),e.addEventListener("keydown",ut(this,qs,xw).bind(this),{signal:i});const a=dt(this,_p,document.createElement("span"));return a.className="swatch",a.setAttribute("aria-hidden",!0),a.style.backgroundColor=h(this,Om),e.append(a),e}renderMainDropdown(){const e=dt(this,wr,ut(this,qs,yw).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===h(this,Ro)){ut(this,qs,Ou).call(this,e);return}const i=e.target.getAttribute("data-color");i&&ut(this,qs,bw).call(this,i,e)}_moveToNext(e){var i,a;if(!h(this,qs,iu)){ut(this,qs,Ou).call(this,e);return}if(e.target===h(this,Ro)){(i=h(this,wr).firstChild)==null||i.focus();return}(a=e.target.nextSibling)==null||a.focus()}_moveToPrevious(e){var i,a;if(e.target===((i=h(this,wr))==null?void 0:i.firstChild)||e.target===h(this,Ro)){h(this,qs,iu)&&this._hideDropdownFromKeyboard();return}h(this,qs,iu)||ut(this,qs,Ou).call(this,e),(a=e.target.previousSibling)==null||a.focus()}_moveToBeginning(e){var i;if(!h(this,qs,iu)){ut(this,qs,Ou).call(this,e);return}(i=h(this,wr).firstChild)==null||i.focus()}_moveToEnd(e){var i;if(!h(this,qs,iu)){ut(this,qs,Ou).call(this,e);return}(i=h(this,wr).lastChild)==null||i.focus()}hideDropdown(){var e,i;(e=h(this,wr))==null||e.classList.add("hidden"),(i=h(this,_u))==null||i.abort(),dt(this,_u,null)}_hideDropdownFromKeyboard(){var e;if(!h(this,Nm)){if(!h(this,qs,iu)){(e=h(this,Cy))==null||e.unselect();return}this.hideDropdown(),h(this,Ro).focus({preventScroll:!0,focusVisible:h(this,Sy)})}}updateColor(e){if(h(this,_p)&&(h(this,_p).style.backgroundColor=e),!h(this,wr))return;const i=h(this,To).highlightColors.values();for(const a of h(this,wr).children)a.setAttribute("aria-selected",i.next().value===e)}destroy(){var e,i;(e=h(this,Ro))==null||e.remove(),dt(this,Ro,null),dt(this,_p,null),(i=h(this,wr))==null||i.remove(),dt(this,wr,null)}};Ro=new WeakMap,_p=new WeakMap,Om=new WeakMap,wr=new WeakMap,Sy=new WeakMap,Nm=new WeakMap,Cy=new WeakMap,Ry=new WeakMap,_u=new WeakMap,To=new WeakMap,Bm=new WeakMap,Ty=new WeakMap,qs=new WeakSet,yw=function(){const e=document.createElement("div"),i=h(this,To)._signal;e.addEventListener("contextmenu",noContextMenu,{signal:i}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[a,o]of h(this,To).highlightColors){const c=document.createElement("button");c.tabIndex="0",c.role="option",c.setAttribute("data-color",o),c.title=a,c.setAttribute("data-l10n-id",h(Xr,Ty)[a]);const d=document.createElement("span");c.append(d),d.className="swatch",d.style.backgroundColor=o,c.setAttribute("aria-selected",o===h(this,Om)),c.addEventListener("click",ut(this,qs,bw).bind(this,o),{signal:i}),e.append(c)}return e.addEventListener("keydown",ut(this,qs,xw).bind(this),{signal:i}),e},bw=function(e,i){i.stopPropagation(),h(this,Ry).dispatch("switchannotationeditorparams",{source:this,type:h(this,Bm),value:e})},xw=function(e){Xr._keyboardManager.exec(this,e)},Ou=function(e){if(h(this,qs,iu)){this.hideDropdown();return}if(dt(this,Sy,e.detail===0),h(this,_u)||(dt(this,_u,new AbortController),window.addEventListener("pointerdown",ut(this,qs,$A).bind(this),{signal:h(this,To).combinedSignal(h(this,_u))})),h(this,wr)){h(this,wr).classList.remove("hidden");return}const i=dt(this,wr,ut(this,qs,yw).call(this));h(this,Ro).append(i)},$A=function(e){var i;(i=h(this,wr))!=null&&i.contains(e.target)||this.hideDropdown()},iu=function(){return h(this,wr)&&!h(this,wr).classList.contains("hidden")},pt(Xr,Ty,null);let ColorPicker=Xr;var Hm,ky,Nl,Sp,Um,oo,Py,My,Cp,ko,Hr,Yr,$m,Bl,Er,zm,lo,Ly,As,ww,E0,zA,VA,WA,Ew,Nu,ho,Yp,GA,A0,gv,XA,qA,KA,YA,QA;const Hs=class Hs extends AnnotationEditor{constructor(i){super({...i,name:"highlightEditor"});pt(this,As);pt(this,Hm,null);pt(this,ky,0);pt(this,Nl);pt(this,Sp,null);pt(this,Um,null);pt(this,oo,null);pt(this,Py,null);pt(this,My,0);pt(this,Cp,null);pt(this,ko,null);pt(this,Hr,null);pt(this,Yr,!1);pt(this,$m,null);pt(this,Bl);pt(this,Er,null);pt(this,zm,"");pt(this,lo);pt(this,Ly,"");this.color=i.color||Hs._defaultColor,dt(this,lo,i.thickness||Hs._defaultThickness),dt(this,Bl,i.opacity||Hs._defaultOpacity),dt(this,Nl,i.boxes||null),dt(this,Ly,i.methodOfCreation||""),dt(this,zm,i.text||""),this._isDraggable=!1,i.highlightId>-1?(dt(this,Yr,!0),ut(this,As,E0).call(this,i),ut(this,As,Nu).call(this)):h(this,Nl)&&(dt(this,Hm,i.anchorNode),dt(this,ky,i.anchorOffset),dt(this,Py,i.focusNode),dt(this,My,i.focusOffset),ut(this,As,ww).call(this),ut(this,As,Nu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=Hs.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Yr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,lo),methodOfCreation:h(this,Ly)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,a){var o;AnnotationEditor.initialize(i,a),Hs._defaultColor||(Hs._defaultColor=((o=a.highlightColors)==null?void 0:o.values().next().value)||"#fff066")}static updateDefaultParams(i,a){switch(i){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Hs._defaultColor=a;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Hs._defaultThickness=a;break}}translateInPage(i,a){}get toolbarPosition(){return h(this,$m)}updateParams(i,a){switch(i){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:ut(this,As,zA).call(this,a);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:ut(this,As,VA).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Hs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Hs._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Hs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,h(this,lo)||Hs._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,h(this,Yr)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(dt(this,Um,new ColorPicker({editor:this})),i.addColorPicker(h(this,Um))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ut(this,As,gv).call(this))}getBaseTranslation(){return[0,0]}getRect(i,a){return super.getRect(i,a,ut(this,As,gv).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){ut(this,As,Ew).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ut(this,As,Nu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var o;let a=!1;this.parent&&!i?ut(this,As,Ew).call(this):i&&(ut(this,As,Nu).call(this,i),a=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),a&&this.select()}rotate(i){var c,d,g;const{drawLayer:a}=this.parent;let o;h(this,Yr)?(i=(i-this.rotation+360)%360,o=ut(c=Hs,ho,Yp).call(c,h(this,ko).box,i)):o=ut(d=Hs,ho,Yp).call(d,this,i),a.rotate(h(this,Hr),i),a.rotate(h(this,Er),i),a.updateBox(h(this,Hr),o),a.updateBox(h(this,Er),ut(g=Hs,ho,Yp).call(g,h(this,oo).box,i))}render(){if(this.div)return this.div;const i=super.render();h(this,zm)&&(i.setAttribute("aria-label",h(this,zm)),i.setAttribute("role","mark")),h(this,Yr)?i.classList.add("free"):this.div.addEventListener("keydown",ut(this,As,GA).bind(this),{signal:this._uiManager._signal});const a=dt(this,Cp,document.createElement("div"));i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",a.style.clipPath=h(this,Sp);const[o,c]=this.parentDimensions;return this.setDims(this.width*o,this.height*c),bindEvents(this,h(this,Cp),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,Er),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,Er),"hovered")}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:ut(this,As,A0).call(this,!0);break;case 1:case 3:ut(this,As,A0).call(this,!1);break}}select(){var i,a;super.select(),h(this,Er)&&((i=this.parent)==null||i.drawLayer.removeClass(h(this,Er),"hovered"),(a=this.parent)==null||a.drawLayer.addClass(h(this,Er),"selected"))}unselect(){var i;super.unselect(),h(this,Er)&&((i=this.parent)==null||i.drawLayer.removeClass(h(this,Er),"selected"),h(this,Yr)||ut(this,As,A0).call(this,!1))}get _mustFixPosition(){return!h(this,Yr)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.show(h(this,Hr),i),this.parent.drawLayer.show(h(this,Er),i))}static startHighlighting(i,a,{target:o,x:c,y:d}){const{x:g,y:b,width:_,height:j}=o.getBoundingClientRect(),$=new AbortController,_e=i.combinedSignal($),et=it=>{it.preventDefault(),it.stopPropagation()},tt=it=>{$.abort(),ut(this,ho,YA).call(this,i,it)};window.addEventListener("blur",tt,{signal:_e}),window.addEventListener("pointerup",tt,{signal:_e}),window.addEventListener("pointerdown",et,{capture:!0,passive:!1,signal:_e}),window.addEventListener("contextmenu",noContextMenu,{signal:_e}),o.addEventListener("pointermove",ut(this,ho,KA).bind(this,i),{signal:_e}),this._freeHighlight=new FreeHighlightOutliner({x:c,y:d},[g,b,_,j],i.scale,this._defaultThickness/2,a,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(i,a,o){var it,rt,nt,st;let c=null;if(i instanceof HighlightAnnotationElement){const{data:{quadPoints:ot,rect:ct,rotation:at,id:ht,color:lt,opacity:ft,popupRef:yt},parent:{page:{pageNumber:Et}}}=i;c=i={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(lt),opacity:ft,quadPoints:ot,boxes:null,pageIndex:Et-1,rect:ct.slice(0),rotation:at,id:ht,deleted:!1,popupRef:yt}}else if(i instanceof InkAnnotationElement){const{data:{inkLists:ot,rect:ct,rotation:at,id:ht,color:lt,borderStyle:{rawWidth:ft},popupRef:yt},parent:{page:{pageNumber:Et}}}=i;c=i={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(lt),thickness:ft,inkLists:ot,boxes:null,pageIndex:Et-1,rect:ct.slice(0),rotation:at,id:ht,deleted:!1,popupRef:yt}}const{color:d,quadPoints:g,inkLists:b,opacity:_}=i,j=await super.deserialize(i,a,o);j.color=Util.makeHexColor(...d),dt(j,Bl,_||1),b&&dt(j,lo,i.thickness),j.annotationElementId=i.id||null,j._initialData=c;const[$,_e]=j.pageDimensions,[et,tt]=j.pageTranslation;if(g){const ot=dt(j,Nl,[]);for(let ct=0;ct<g.length;ct+=8)ot.push({x:(g[ct]-et)/$,y:1-(g[ct+1]-tt)/_e,width:(g[ct+2]-g[ct])/$,height:(g[ct+1]-g[ct+5])/_e});ut(it=j,As,ww).call(it),ut(rt=j,As,Nu).call(rt),j.rotate(j.rotation)}else if(b){dt(j,Yr,!0);const ot=b[0],ct={x:ot[0]-et,y:_e-(ot[1]-tt)},at=new FreeHighlightOutliner(ct,[0,0,$,_e],1,h(j,lo)/2,!0,.001);for(let ft=0,yt=ot.length;ft<yt;ft+=2)ct.x=ot[ft]-et,ct.y=_e-(ot[ft+1]-tt),at.add(ct);const{id:ht,clipPathId:lt}=a.drawLayer.draw(at,j.color,j._defaultOpacity,!0);ut(nt=j,As,E0).call(nt,{highlightOutlines:at.getOutlines(),highlightId:ht,clipPathId:lt}),ut(st=j,As,Nu).call(st)}return j}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const a=this.getRect(0,0),o=AnnotationEditor._colorManager.convert(this.color),c={annotationType:AnnotationEditorType.HIGHLIGHT,color:o,opacity:h(this,Bl),thickness:h(this,lo),quadPoints:ut(this,As,XA).call(this),outlines:ut(this,As,qA).call(this,a),pageIndex:this.pageIndex,rect:a,rotation:ut(this,As,gv).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!ut(this,As,QA).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Hm=new WeakMap,ky=new WeakMap,Nl=new WeakMap,Sp=new WeakMap,Um=new WeakMap,oo=new WeakMap,Py=new WeakMap,My=new WeakMap,Cp=new WeakMap,ko=new WeakMap,Hr=new WeakMap,Yr=new WeakMap,$m=new WeakMap,Bl=new WeakMap,Er=new WeakMap,zm=new WeakMap,lo=new WeakMap,Ly=new WeakMap,As=new WeakSet,ww=function(){const i=new HighlightOutliner(h(this,Nl),.001);dt(this,ko,i.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,ko).box;const a=new HighlightOutliner(h(this,Nl),.0025,.001,this._uiManager.direction==="ltr");dt(this,oo,a.getOutlines());const{lastPoint:o}=h(this,oo).box;dt(this,$m,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},E0=function({highlightOutlines:i,highlightId:a,clipPathId:o}){var $,_e;if(dt(this,ko,i),dt(this,oo,i.getNewOutline(h(this,lo)/2+1.5,.0025)),a>=0)dt(this,Hr,a),dt(this,Sp,o),this.parent.drawLayer.finalizeLine(a,i),dt(this,Er,this.parent.drawLayer.drawOutline(h(this,oo)));else if(this.parent){const et=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,Hr),i),this.parent.drawLayer.updateBox(h(this,Hr),ut($=Hs,ho,Yp).call($,h(this,ko).box,(et-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,Er),h(this,oo)),this.parent.drawLayer.updateBox(h(this,Er),ut(_e=Hs,ho,Yp).call(_e,h(this,oo).box,et))}const{x:d,y:g,width:b,height:_}=i.box;switch(this.rotation){case 0:this.x=d,this.y=g,this.width=b,this.height=_;break;case 90:{const[et,tt]=this.parentDimensions;this.x=g,this.y=1-d,this.width=b*tt/et,this.height=_*et/tt;break}case 180:this.x=1-d,this.y=1-g,this.width=b,this.height=_;break;case 270:{const[et,tt]=this.parentDimensions;this.x=1-g,this.y=d,this.width=b*tt/et,this.height=_*et/tt;break}}const{lastPoint:j}=h(this,oo).box;dt(this,$m,[(j[0]-d)/b,(j[1]-g)/_])},zA=function(i){const a=(d,g)=>{var b,_,j;this.color=d,(b=this.parent)==null||b.drawLayer.changeColor(h(this,Hr),d),(_=h(this,Um))==null||_.updateColor(d),dt(this,Bl,g),(j=this.parent)==null||j.drawLayer.changeOpacity(h(this,Hr),g)},o=this.color,c=h(this,Bl);this.addCommands({cmd:a.bind(this,i,Hs._defaultOpacity),undo:a.bind(this,o,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},VA=function(i){const a=h(this,lo),o=c=>{dt(this,lo,c),ut(this,As,WA).call(this,c)};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},WA=function(i){if(!h(this,Yr))return;ut(this,As,E0).call(this,{highlightOutlines:h(this,ko).getNewOutline(i/2)}),this.fixAndSetPosition();const[a,o]=this.parentDimensions;this.setDims(this.width*a,this.height*o)},Ew=function(){h(this,Hr)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Hr)),dt(this,Hr,null),this.parent.drawLayer.remove(h(this,Er)),dt(this,Er,null))},Nu=function(i=this.parent){h(this,Hr)===null&&({id:yr(this,Hr)._,clipPathId:yr(this,Sp)._}=i.drawLayer.draw(h(this,ko),this.color,h(this,Bl)),dt(this,Er,i.drawLayer.drawOutline(h(this,oo))),h(this,Cp)&&(h(this,Cp).style.clipPath=h(this,Sp)))},ho=new WeakSet,Yp=function({x:i,y:a,width:o,height:c},d){switch(d){case 90:return{x:1-a-c,y:i,width:c,height:o};case 180:return{x:1-i-o,y:1-a-c,width:o,height:c};case 270:return{x:a,y:1-i-o,width:c,height:o}}return{x:i,y:a,width:o,height:c}},GA=function(i){Hs._keyboardManager.exec(this,i)},A0=function(i){if(!h(this,Hm))return;const a=window.getSelection();i?a.setPosition(h(this,Hm),h(this,ky)):a.setPosition(h(this,Py),h(this,My))},gv=function(){return h(this,Yr)?this.rotation:0},XA=function(){if(h(this,Yr))return null;const[i,a]=this.pageDimensions,[o,c]=this.pageTranslation,d=h(this,Nl),g=new Float32Array(d.length*8);let b=0;for(const{x:_,y:j,width:$,height:_e}of d){const et=_*i+o,tt=(1-j-_e)*a+c;g[b]=g[b+4]=et,g[b+1]=g[b+3]=tt,g[b+2]=g[b+6]=et+$*i,g[b+5]=g[b+7]=tt+_e*a,b+=8}return g},qA=function(i){return h(this,ko).serialize(i,ut(this,As,gv).call(this))},KA=function(i,a){this._freeHighlight.add(a)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},YA=function(i,a){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(a,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},QA=function(i){const{color:a}=this._initialData;return i.color.some((o,c)=>o!==a[c])},pt(Hs,ho),Xn(Hs,"_defaultColor",null),Xn(Hs,"_defaultOpacity",1),Xn(Hs,"_defaultThickness",12),Xn(Hs,"_type","highlight"),Xn(Hs,"_editorType",AnnotationEditorType.HIGHLIGHT),Xn(Hs,"_freeHighlightId",-1),Xn(Hs,"_freeHighlight",null),Xn(Hs,"_freeHighlightClipId","");let HighlightEditor=Hs;var Rp,Tp,Xo,Hl,co,kp,Pp,Mp,Ul,Vm,Lp,Fp,Su,Bn,ZA,JA,e_,t_,Aw,n_,_w,i_,s_,r_,a_,o_,Bu,Sw,Cw,Rw,_0,S0,Qp,Tw,C0,Ql,l_,kw,c_,u_,Pw,R0,mv;const rr=class rr extends AnnotationEditor{constructor(i){super({...i,name:"inkEditor"});pt(this,Bn);pt(this,Rp,0);pt(this,Tp,0);pt(this,Xo,null);pt(this,Hl,new Path2D);pt(this,co,!1);pt(this,kp,null);pt(this,Pp,!1);pt(this,Mp,!1);pt(this,Ul,null);pt(this,Vm,null);pt(this,Lp,0);pt(this,Fp,0);pt(this,Su,null);this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i,a){AnnotationEditor.initialize(i,a)}static updateDefaultParams(i,a){switch(i){case AnnotationEditorParamsType.INK_THICKNESS:rr._defaultThickness=a;break;case AnnotationEditorParamsType.INK_COLOR:rr._defaultColor=a;break;case AnnotationEditorParamsType.INK_OPACITY:rr._defaultOpacity=a/100;break}}updateParams(i,a){switch(i){case AnnotationEditorParamsType.INK_THICKNESS:ut(this,Bn,ZA).call(this,a);break;case AnnotationEditorParamsType.INK_COLOR:ut(this,Bn,JA).call(this,a);break;case AnnotationEditorParamsType.INK_OPACITY:ut(this,Bn,e_).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,rr._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,rr._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(rr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||rr._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||rr._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??rr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ut(this,Bn,_0).call(this),ut(this,Bn,S0).call(this)),this.isAttachedToDOM||(this.parent.add(this),ut(this,Bn,Qp).call(this)),ut(this,Bn,mv).call(this)))}remove(){var i;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,Xo)&&(clearTimeout(h(this,Xo)),dt(this,Xo,null)),(i=h(this,Ul))==null||i.disconnect(),dt(this,Ul,null),super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&i===null&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,a]=this.parentDimensions,o=this.width*i,c=this.height*a;this.setDimensions(o,c)}enableEditMode(){h(this,co)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,ut(this,Bn,Sw).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),ut(this,Bn,Cw).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,co)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),dt(this,co,!0),this.div.classList.add("disabled"),ut(this,Bn,mv).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}canvasPointerdown(i){i.button!==0||!this.isInEditMode()||h(this,co)||(this.setInForeground(),i.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),ut(this,Bn,n_).call(this,i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),ut(this,Bn,_w).call(this,i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),ut(this,Bn,Rw).call(this,i)}canvasPointerleave(i){ut(this,Bn,Rw).call(this,i)}get isResizable(){return!this.isEmpty()&&h(this,co)}render(){if(this.div)return this.div;let i,a;this.width&&(i=this.x,a=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[o,c,d,g]=ut(this,Bn,t_).call(this);if(this.setAt(o,c,0,0),this.setDims(d,g),ut(this,Bn,_0).call(this),this.width){const[b,_]=this.parentDimensions;this.setAspectRatio(this.width*b,this.height*_),this.setAt(i*b,a*_,this.width*b,this.height*_),dt(this,Mp,!0),ut(this,Bn,Qp).call(this),this.setDims(this.width*b,this.height*_),ut(this,Bn,Bu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ut(this,Bn,S0).call(this),this.div}setDimensions(i,a){const o=Math.round(i),c=Math.round(a);if(h(this,Lp)===o&&h(this,Fp)===c)return;dt(this,Lp,o),dt(this,Fp,c),this.canvas.style.visibility="hidden";const[d,g]=this.parentDimensions;this.width=i/d,this.height=a/g,this.fixAndSetPosition(),h(this,co)&&ut(this,Bn,Tw).call(this,i,a),ut(this,Bn,Qp).call(this),ut(this,Bn,Bu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(i,a,o){var rt,nt,st;if(i instanceof InkAnnotationElement)return null;const c=await super.deserialize(i,a,o);c.thickness=i.thickness,c.color=Util.makeHexColor(...i.color),c.opacity=i.opacity;const[d,g]=c.pageDimensions,b=c.width*d,_=c.height*g,j=c.parentScale,$=i.thickness/2;dt(c,co,!0),dt(c,Lp,Math.round(b)),dt(c,Fp,Math.round(_));const{paths:_e,rect:et,rotation:tt}=i;for(let{bezier:ot}of _e){ot=ut(rt=rr,Ql,c_).call(rt,ot,et,tt);const ct=[];c.paths.push(ct);let at=j*(ot[0]-$),ht=j*(ot[1]-$);for(let ft=2,yt=ot.length;ft<yt;ft+=6){const Et=j*(ot[ft]-$),mt=j*(ot[ft+1]-$),At=j*(ot[ft+2]-$),Rt=j*(ot[ft+3]-$),qt=j*(ot[ft+4]-$),Bt=j*(ot[ft+5]-$);ct.push([[at,ht],[Et,mt],[At,Rt],[qt,Bt]]),at=qt,ht=Bt}const lt=ut(this,Ql,l_).call(this,ct);c.bezierPath2D.push(lt)}const it=ut(nt=c,Bn,Pw).call(nt);return dt(c,Tp,Math.max(AnnotationEditor.MIN_SIZE,it[2]-it[0])),dt(c,Rp,Math.max(AnnotationEditor.MIN_SIZE,it[3]-it[1])),ut(st=c,Bn,Tw).call(st,b,_),c}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),a=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:a,thickness:this.thickness,opacity:this.opacity,paths:ut(this,Bn,u_).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Rp=new WeakMap,Tp=new WeakMap,Xo=new WeakMap,Hl=new WeakMap,co=new WeakMap,kp=new WeakMap,Pp=new WeakMap,Mp=new WeakMap,Ul=new WeakMap,Vm=new WeakMap,Lp=new WeakMap,Fp=new WeakMap,Su=new WeakMap,Bn=new WeakSet,ZA=function(i){const a=c=>{this.thickness=c,ut(this,Bn,mv).call(this)},o=this.thickness;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},JA=function(i){const a=c=>{this.color=c,ut(this,Bn,Bu).call(this)},o=this.color;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},e_=function(i){const a=c=>{this.opacity=c,ut(this,Bn,Bu).call(this)};i/=100;const o=this.opacity;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},t_=function(){const{parentRotation:i,parentDimensions:[a,o]}=this;switch(i){case 90:return[0,o,o,a];case 180:return[a,o,a,o];case 270:return[a,0,o,a];default:return[0,0,a,o]}},Aw=function(){const{ctx:i,color:a,opacity:o,thickness:c,parentScale:d,scaleFactor:g}=this;i.lineWidth=c*d/g,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${a}${opacityToHex(o)}`},n_=function(i,a){this.canvas.addEventListener("contextmenu",noContextMenu,{signal:this._uiManager._signal}),ut(this,Bn,Cw).call(this),dt(this,kp,new AbortController);const o=this._uiManager.combinedSignal(h(this,kp));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:o}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:o}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:o}),this.isEditing=!0,h(this,Mp)||(dt(this,Mp,!0),ut(this,Bn,Qp).call(this),this.thickness||(this.thickness=rr._defaultThickness),this.color||(this.color=rr._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=rr._defaultOpacity)),this.currentPath.push([i,a]),dt(this,Pp,!1),ut(this,Bn,Aw).call(this),dt(this,Su,()=>{ut(this,Bn,r_).call(this),h(this,Su)&&window.requestAnimationFrame(h(this,Su))}),window.requestAnimationFrame(h(this,Su))},_w=function(i,a){const[o,c]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===o&&a===c)return;const d=this.currentPath;let g=h(this,Hl);if(d.push([i,a]),dt(this,Pp,!0),d.length<=2){g.moveTo(...d[0]),g.lineTo(i,a);return}d.length===3&&(dt(this,Hl,g=new Path2D),g.moveTo(...d[0])),ut(this,Bn,a_).call(this,g,...d.at(-3),...d.at(-2),i,a)},i_=function(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);h(this,Hl).lineTo(...i)},s_=function(i,a){dt(this,Su,null),i=Math.min(Math.max(i,0),this.canvas.width),a=Math.min(Math.max(a,0),this.canvas.height),ut(this,Bn,_w).call(this,i,a),ut(this,Bn,i_).call(this);let o;if(this.currentPath.length!==1)o=ut(this,Bn,o_).call(this);else{const _=[i,a];o=[[_,_.slice(),_.slice(),_]]}const c=h(this,Hl),d=this.currentPath;this.currentPath=[],dt(this,Hl,new Path2D);const g=()=>{this.allRawPaths.push(d),this.paths.push(o),this.bezierPath2D.push(c),this._uiManager.rebuild(this)},b=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ut(this,Bn,_0).call(this),ut(this,Bn,S0).call(this)),ut(this,Bn,mv).call(this))};this.addCommands({cmd:g,undo:b,mustExec:!0})},r_=function(){if(!h(this,Pp))return;dt(this,Pp,!1);const i=Math.ceil(this.thickness*this.parentScale),a=this.currentPath.slice(-3),o=a.map(g=>g[0]),c=a.map(g=>g[1]);Math.min(...o)-i,Math.max(...o)+i,Math.min(...c)-i,Math.max(...c)+i;const{ctx:d}=this;d.save(),d.clearRect(0,0,this.canvas.width,this.canvas.height);for(const g of this.bezierPath2D)d.stroke(g);d.stroke(h(this,Hl)),d.restore()},a_=function(i,a,o,c,d,g,b){const _=(a+c)/2,j=(o+d)/2,$=(c+g)/2,_e=(d+b)/2;i.bezierCurveTo(_+2*(c-_)/3,j+2*(d-j)/3,$+2*(c-$)/3,_e+2*(d-_e)/3,$,_e)},o_=function(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const a=[];let o,[c,d]=i[0];for(o=1;o<i.length-2;o++){const[et,tt]=i[o],[it,rt]=i[o+1],nt=(et+it)/2,st=(tt+rt)/2,ot=[c+2*(et-c)/3,d+2*(tt-d)/3],ct=[nt+2*(et-nt)/3,st+2*(tt-st)/3];a.push([[c,d],ot,ct,[nt,st]]),[c,d]=[nt,st]}const[g,b]=i[o],[_,j]=i[o+1],$=[c+2*(g-c)/3,d+2*(b-d)/3],_e=[_+2*(g-_)/3,j+2*(b-j)/3];return a.push([[c,d],$,_e,[_,j]]),a},Bu=function(){if(this.isEmpty()){ut(this,Bn,C0).call(this);return}ut(this,Bn,Aw).call(this);const{canvas:i,ctx:a}=this;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,i.width,i.height),ut(this,Bn,C0).call(this);for(const o of this.bezierPath2D)a.stroke(o)},Sw=function(){if(h(this,Vm))return;dt(this,Vm,new AbortController);const i=this._uiManager.combinedSignal(h(this,Vm));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:i})},Cw=function(){var i;(i=this.pointerdownAC)==null||i.abort(),this.pointerdownAC=null},Rw=function(i){var a;(a=h(this,kp))==null||a.abort(),dt(this,kp,null),ut(this,Bn,Sw).call(this),h(this,Xo)&&clearTimeout(h(this,Xo)),dt(this,Xo,setTimeout(()=>{dt(this,Xo,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),ut(this,Bn,s_).call(this,i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()},_0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},S0=function(){dt(this,Ul,new ResizeObserver(i=>{const a=i[0].contentRect;a.width&&a.height&&this.setDimensions(a.width,a.height)})),h(this,Ul).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=h(this,Ul))==null||i.disconnect(),dt(this,Ul,null)},{once:!0})},Qp=function(){if(!h(this,Mp))return;const[i,a]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*a),ut(this,Bn,C0).call(this)},Tw=function(i,a){const o=ut(this,Bn,R0).call(this),c=(i-o)/h(this,Tp),d=(a-o)/h(this,Rp);this.scaleFactor=Math.min(c,d)},C0=function(){const i=ut(this,Bn,R0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)},Ql=new WeakSet,l_=function(i){const a=new Path2D;for(let o=0,c=i.length;o<c;o++){const[d,g,b,_]=i[o];o===0&&a.moveTo(...d),a.bezierCurveTo(g[0],g[1],b[0],b[1],_[0],_[1])}return a},kw=function(i,a,o){const[c,d,g,b]=a;switch(o){case 0:for(let _=0,j=i.length;_<j;_+=2)i[_]+=c,i[_+1]=b-i[_+1];break;case 90:for(let _=0,j=i.length;_<j;_+=2){const $=i[_];i[_]=i[_+1]+c,i[_+1]=$+d}break;case 180:for(let _=0,j=i.length;_<j;_+=2)i[_]=g-i[_],i[_+1]+=d;break;case 270:for(let _=0,j=i.length;_<j;_+=2){const $=i[_];i[_]=g-i[_+1],i[_+1]=b-$}break;default:throw new Error("Invalid rotation")}return i},c_=function(i,a,o){const[c,d,g,b]=a;switch(o){case 0:for(let _=0,j=i.length;_<j;_+=2)i[_]-=c,i[_+1]=b-i[_+1];break;case 90:for(let _=0,j=i.length;_<j;_+=2){const $=i[_];i[_]=i[_+1]-d,i[_+1]=$-c}break;case 180:for(let _=0,j=i.length;_<j;_+=2)i[_]=g-i[_],i[_+1]-=d;break;case 270:for(let _=0,j=i.length;_<j;_+=2){const $=i[_];i[_]=b-i[_+1],i[_+1]=g-$}break;default:throw new Error("Invalid rotation")}return i},u_=function(i,a,o,c){var j,$;const d=[],g=this.thickness/2,b=i*a+g,_=i*o+g;for(const _e of this.paths){const et=[],tt=[];for(let it=0,rt=_e.length;it<rt;it++){const[nt,st,ot,ct]=_e[it];if(nt[0]===ct[0]&&nt[1]===ct[1]&&rt===1){const Rt=i*nt[0]+b,qt=i*nt[1]+_;et.push(Rt,qt),tt.push(Rt,qt);break}const at=i*nt[0]+b,ht=i*nt[1]+_,lt=i*st[0]+b,ft=i*st[1]+_,yt=i*ot[0]+b,Et=i*ot[1]+_,mt=i*ct[0]+b,At=i*ct[1]+_;it===0&&(et.push(at,ht),tt.push(at,ht)),et.push(lt,ft,yt,Et,mt,At),tt.push(lt,ft),it===rt-1&&tt.push(mt,At)}d.push({bezier:ut(j=rr,Ql,kw).call(j,et,c,this.rotation),points:ut($=rr,Ql,kw).call($,tt,c,this.rotation)})}return d},Pw=function(){let i=1/0,a=-1/0,o=1/0,c=-1/0;for(const d of this.paths)for(const[g,b,_,j]of d){const $=Util.bezierBoundingBox(...g,...b,..._,...j);i=Math.min(i,$[0]),o=Math.min(o,$[1]),a=Math.max(a,$[2]),c=Math.max(c,$[3])}return[i,o,a,c]},R0=function(){return h(this,co)?Math.ceil(this.thickness*this.parentScale):0},mv=function(i=!1){if(this.isEmpty())return;if(!h(this,co)){ut(this,Bn,Bu).call(this);return}const a=ut(this,Bn,Pw).call(this),o=ut(this,Bn,R0).call(this);dt(this,Tp,Math.max(AnnotationEditor.MIN_SIZE,a[2]-a[0])),dt(this,Rp,Math.max(AnnotationEditor.MIN_SIZE,a[3]-a[1]));const c=Math.ceil(o+h(this,Tp)*this.scaleFactor),d=Math.ceil(o+h(this,Rp)*this.scaleFactor),[g,b]=this.parentDimensions;this.width=c/g,this.height=d/b,this.setAspectRatio(c,d);const _=this.translationX,j=this.translationY;this.translationX=-a[0],this.translationY=-a[1],ut(this,Bn,Qp).call(this),ut(this,Bn,Bu).call(this),dt(this,Lp,c),dt(this,Fp,d),this.setDims(c,d);const $=i?o/this.scaleFactor/2:0;this.translate(_-this.translationX-$,j-this.translationY-$)},pt(rr,Ql),Xn(rr,"_defaultColor",null),Xn(rr,"_defaultOpacity",1),Xn(rr,"_defaultThickness",1),Xn(rr,"_type","ink"),Xn(rr,"_editorType",AnnotationEditorType.INK);let InkEditor=rr;var or,jr,Cu,$l,Ru,Wm,qo,zl,Ko,eo,Gm,Ms,vv,yv,T0,Mw,d_,k0,Lw,P0,h_,f_;const bv=class bv extends AnnotationEditor{constructor(i){super({...i,name:"stampEditor"});pt(this,Ms);pt(this,or,null);pt(this,jr,null);pt(this,Cu,null);pt(this,$l,null);pt(this,Ru,null);pt(this,Wm,"");pt(this,qo,null);pt(this,zl,null);pt(this,Ko,null);pt(this,eo,!1);pt(this,Gm,!1);dt(this,$l,i.bitmapUrl),dt(this,Ru,i.bitmapFile)}static initialize(i,a){AnnotationEditor.initialize(i,a)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(a=>`image/${a}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(i){return this.supportedTypes.includes(i)}static paste(i,a){a.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const a=i.get("hasAltText");return{hasAltText:a.get(!0)??0,hasNoAltText:a.get(!1)??0}}async mlGuessAltText(i=null,a=!0){if(this.hasAltTextData())return null;const{mlManager:o}=this._uiManager;if(!o)throw new Error("No ML.");if(!await o.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:c,width:d,height:g}=i||this.copyCanvas(null,null,!0).imageData,b=await o.guess({name:"altText",request:{data:c,width:d,height:g,channels:c.length/(d*g)}});if(!b)throw new Error("No response from the AI service.");if(b.error)throw new Error("Error from the AI service.");if(b.cancel)return null;if(!b.output)throw new Error("No valid response from the AI service.");const _=b.output;return await this.setGuessedAltText(_),a&&!this.hasAltTextData()&&(this.altTextData={alt:_,decorative:!1}),_}remove(){var i,a;h(this,jr)&&(dt(this,or,null),this._uiManager.imageManager.deleteId(h(this,jr)),(i=h(this,qo))==null||i.remove(),dt(this,qo,null),(a=h(this,zl))==null||a.disconnect(),dt(this,zl,null),h(this,Ko)&&(clearTimeout(h(this,Ko)),dt(this,Ko,null))),super.remove()}rebuild(){if(!this.parent){h(this,jr)&&ut(this,Ms,T0).call(this);return}super.rebuild(),this.div!==null&&(h(this,jr)&&h(this,qo)===null&&ut(this,Ms,T0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,Cu)||h(this,or)||h(this,$l)||h(this,Ru)||h(this,jr))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,a;if(this.width&&(i=this.x,a=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,or)?ut(this,Ms,Mw).call(this):ut(this,Ms,T0).call(this),this.width&&!this.annotationElementId){const[o,c]=this.parentDimensions;this.setAt(i*o,a*c,this.width*o,this.height*c)}return this.div}copyCanvas(i,a,o=!1){var et;i||(i=224);const{width:c,height:d}=h(this,or),g=new OutputScale;let b=h(this,or),_=c,j=d,$=null;if(a){if(c>a||d>a){const ft=Math.min(a/c,a/d);_=Math.floor(c*ft),j=Math.floor(d*ft)}$=document.createElement("canvas");const tt=$.width=Math.ceil(_*g.sx),it=$.height=Math.ceil(j*g.sy);h(this,eo)||(b=ut(this,Ms,k0).call(this,tt,it));const rt=$.getContext("2d");rt.filter=this._uiManager.hcmFilter;let nt="white",st="#cfcfd8";this._uiManager.hcmFilter!=="none"?st="black":(et=window.matchMedia)!=null&&et.call(window,"(prefers-color-scheme: dark)").matches&&(nt="#8f8f9d",st="#42414d");const ot=15,ct=ot*g.sx,at=ot*g.sy,ht=new OffscreenCanvas(ct*2,at*2),lt=ht.getContext("2d");lt.fillStyle=nt,lt.fillRect(0,0,ct*2,at*2),lt.fillStyle=st,lt.fillRect(0,0,ct,at),lt.fillRect(ct,at,ct,at),rt.fillStyle=rt.createPattern(ht,"repeat"),rt.fillRect(0,0,tt,it),rt.drawImage(b,0,0,b.width,b.height,0,0,tt,it)}let _e=null;if(o){let tt,it;if(g.symmetric&&b.width<i&&b.height<i)tt=b.width,it=b.height;else if(b=h(this,or),c>i||d>i){const st=Math.min(i/c,i/d);tt=Math.floor(c*st),it=Math.floor(d*st),h(this,eo)||(b=ut(this,Ms,k0).call(this,tt,it))}const nt=new OffscreenCanvas(tt,it).getContext("2d",{willReadFrequently:!0});nt.drawImage(b,0,0,b.width,b.height,0,0,tt,it),_e={width:tt,height:it,data:nt.getImageData(0,0,tt,it).data}}return{canvas:$,width:_,height:j,imageData:_e}}getImageForAltText(){return h(this,qo)}static async deserialize(i,a,o){var it;let c=null;if(i instanceof StampAnnotationElement){const{data:{rect:rt,rotation:nt,id:st,structParent:ot,popupRef:ct},container:at,parent:{page:{pageNumber:ht}}}=i,lt=at.querySelector("canvas"),ft=o.imageManager.getFromCanvas(at.id,lt);lt.remove();const yt=((it=await a._structTree.getAriaAttributes(`${AnnotationPrefix}${st}`))==null?void 0:it.get("aria-label"))||"";c=i={annotationType:AnnotationEditorType.STAMP,bitmapId:ft.id,bitmap:ft.bitmap,pageIndex:ht-1,rect:rt.slice(0),rotation:nt,id:st,deleted:!1,accessibilityData:{decorative:!1,altText:yt},isSvg:!1,structParent:ot,popupRef:ct}}const d=await super.deserialize(i,a,o),{rect:g,bitmap:b,bitmapUrl:_,bitmapId:j,isSvg:$,accessibilityData:_e}=i;j&&o.imageManager.isValidId(j)?(dt(d,jr,j),b&&dt(d,or,b)):dt(d,$l,_),dt(d,eo,$);const[et,tt]=d.pageDimensions;return d.width=(g[2]-g[0])/et,d.height=(g[3]-g[1])/tt,d.annotationElementId=i.id||null,_e&&(d.altTextData=_e),d._initialData=c,dt(d,Gm,!!c),d}serialize(i=!1,a=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const o={annotationType:AnnotationEditorType.STAMP,bitmapId:h(this,jr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,eo),structTreeParentId:this._structTreeParentId};if(i)return o.bitmapUrl=ut(this,Ms,P0).call(this,!0),o.accessibilityData=this.serializeAltText(!0),o;const{decorative:c,altText:d}=this.serializeAltText(!1);if(!c&&d&&(o.accessibilityData={type:"Figure",alt:d}),this.annotationElementId){const b=ut(this,Ms,f_).call(this,o);if(b.isSame)return null;b.isSameAltText?delete o.accessibilityData:o.accessibilityData.structParent=this._initialData.structParent??-1}if(o.id=this.annotationElementId,a===null)return o;a.stamps||(a.stamps=new Map);const g=h(this,eo)?(o.rect[2]-o.rect[0])*(o.rect[3]-o.rect[1]):null;if(!a.stamps.has(h(this,jr)))a.stamps.set(h(this,jr),{area:g,serialized:o}),o.bitmap=ut(this,Ms,P0).call(this,!1);else if(h(this,eo)){const b=a.stamps.get(h(this,jr));g>b.area&&(b.area=g,b.serialized.bitmap.close(),b.serialized.bitmap=ut(this,Ms,P0).call(this,!1))}return o}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}};or=new WeakMap,jr=new WeakMap,Cu=new WeakMap,$l=new WeakMap,Ru=new WeakMap,Wm=new WeakMap,qo=new WeakMap,zl=new WeakMap,Ko=new WeakMap,eo=new WeakMap,Gm=new WeakMap,Ms=new WeakSet,vv=function(i,a=!1){if(!i){this.remove();return}dt(this,or,i.bitmap),a||(dt(this,jr,i.id),dt(this,eo,i.isSvg)),i.file&&dt(this,Wm,i.file.name),ut(this,Ms,Mw).call(this)},yv=function(){if(dt(this,Cu,null),this._uiManager.enableWaiting(!1),!!h(this,qo)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,or)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,or)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},T0=function(){if(h(this,jr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,jr)).then(o=>ut(this,Ms,vv).call(this,o,!0)).finally(()=>ut(this,Ms,yv).call(this));return}if(h(this,$l)){const o=h(this,$l);dt(this,$l,null),this._uiManager.enableWaiting(!0),dt(this,Cu,this._uiManager.imageManager.getFromUrl(o).then(c=>ut(this,Ms,vv).call(this,c)).finally(()=>ut(this,Ms,yv).call(this)));return}if(h(this,Ru)){const o=h(this,Ru);dt(this,Ru,null),this._uiManager.enableWaiting(!0),dt(this,Cu,this._uiManager.imageManager.getFromFile(o).then(c=>ut(this,Ms,vv).call(this,c)).finally(()=>ut(this,Ms,yv).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=bv.supportedTypesStr;const a=this._uiManager._signal;dt(this,Cu,new Promise(o=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const c=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ut(this,Ms,vv).call(this,c)}o()},{signal:a}),i.addEventListener("cancel",()=>{this.remove(),o()},{signal:a})}).finally(()=>ut(this,Ms,yv).call(this))),i.click()},Mw=function(){const{div:i}=this;let{width:a,height:o}=h(this,or);const[c,d]=this.pageDimensions,g=.75;if(this.width)a=this.width*c,o=this.height*d;else if(a>g*c||o>g*d){const $=Math.min(g*c/a,g*d/o);a*=$,o*=$}const[b,_]=this.parentDimensions;this.setDims(a*b/c,o*_/d),this._uiManager.enableWaiting(!1);const j=dt(this,qo,document.createElement("canvas"));j.setAttribute("role","img"),this.addContainer(j),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),ut(this,Ms,Lw).call(this,a,o),ut(this,Ms,h_).call(this),h(this,Gm)||(this.parent.addUndoableEditor(this),dt(this,Gm,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Wm)&&j.setAttribute("aria-label",h(this,Wm))},d_=function(i,a){var g;const[o,c]=this.parentDimensions;this.width=i/o,this.height=a/c,(g=this._initialOptions)!=null&&g.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,Ko)!==null&&clearTimeout(h(this,Ko)),dt(this,Ko,setTimeout(()=>{dt(this,Ko,null),ut(this,Ms,Lw).call(this,i,a)},200))},k0=function(i,a){const{width:o,height:c}=h(this,or);let d=o,g=c,b=h(this,or);for(;d>2*i||g>2*a;){const _=d,j=g;d>2*i&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2)),g>2*a&&(g=g>=16384?Math.floor(g/2)-1:Math.ceil(g/2));const $=new OffscreenCanvas(d,g);$.getContext("2d").drawImage(b,0,0,_,j,0,0,d,g),b=$.transferToImageBitmap()}return b},Lw=function(i,a){const o=new OutputScale,c=Math.ceil(i*o.sx),d=Math.ceil(a*o.sy),g=h(this,qo);if(!g||g.width===c&&g.height===d)return;g.width=c,g.height=d;const b=h(this,eo)?h(this,or):ut(this,Ms,k0).call(this,c,d),_=g.getContext("2d");_.filter=this._uiManager.hcmFilter,_.drawImage(b,0,0,b.width,b.height,0,0,c,d)},P0=function(i){if(i){if(h(this,eo)){const c=this._uiManager.imageManager.getSvgUrl(h(this,jr));if(c)return c}const a=document.createElement("canvas");return{width:a.width,height:a.height}=h(this,or),a.getContext("2d").drawImage(h(this,or),0,0),a.toDataURL()}if(h(this,eo)){const[a,o]=this.pageDimensions,c=Math.round(this.width*a*PixelsPerInch.PDF_TO_CSS_UNITS),d=Math.round(this.height*o*PixelsPerInch.PDF_TO_CSS_UNITS),g=new OffscreenCanvas(c,d);return g.getContext("2d").drawImage(h(this,or),0,0,h(this,or).width,h(this,or).height,0,0,c,d),g.transferToImageBitmap()}return structuredClone(h(this,or))},h_=function(){this._uiManager._signal&&(dt(this,zl,new ResizeObserver(i=>{const a=i[0].contentRect;a.width&&a.height&&ut(this,Ms,d_).call(this,a.width,a.height)})),h(this,zl).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=h(this,zl))==null||i.disconnect(),dt(this,zl,null)},{once:!0}))},f_=function(i){var _;const{rect:a,pageIndex:o,accessibilityData:{altText:c}}=this._initialData,d=i.rect.every((j,$)=>Math.abs(j-a[$])<1),g=i.pageIndex===o,b=(((_=i.accessibilityData)==null?void 0:_.alt)||"")===c;return{isSame:d&&g&&b,isSameAltText:b}},Xn(bv,"_type","stamp"),Xn(bv,"_editorType",AnnotationEditorType.STAMP);let StampEditor=bv;var Ip,Xm,Yo,Tu,Vl,to,ku,qm,Km,Ur,Wl,hs,Pu,Dr,p_,Fw,Iw,jw,M0;const mo=class mo{constructor({uiManager:e,pageIndex:i,div:a,structTreeLayer:o,accessibilityManager:c,annotationLayer:d,drawLayer:g,textLayer:b,viewport:_,l10n:j}){pt(this,Dr);pt(this,Ip);pt(this,Xm,!1);pt(this,Yo,null);pt(this,Tu,null);pt(this,Vl,null);pt(this,to,new Map);pt(this,ku,!1);pt(this,qm,!1);pt(this,Km,!1);pt(this,Ur,null);pt(this,Wl,null);pt(this,hs);const $=[...h(mo,Pu).values()];if(!mo._initialized){mo._initialized=!0;for(const _e of $)_e.initialize(j,e)}e.registerEditorTypes($),dt(this,hs,e),this.pageIndex=i,this.div=a,dt(this,Ip,c),dt(this,Yo,d),this.viewport=_,dt(this,Ur,b),this.drawLayer=g,this._structTree=o,h(this,hs).addLayer(this)}get isEmpty(){return h(this,to).size===0}get isInvisible(){return this.isEmpty&&h(this,hs).getMode()===AnnotationEditorType.NONE}updateToolbar(e){h(this,hs).updateToolbar(e)}updateMode(e=h(this,hs).getMode()){switch(ut(this,Dr,M0).call(this),e){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const a of h(mo,Pu).values())i.toggle(`${a._type}Editing`,e===a._editorType);this.div.hidden=!1}hasTextLayer(e){var i;return e===((i=h(this,Ur))==null?void 0:i.div)}addInkEditorIfNeeded(e){if(h(this,hs).getMode()!==AnnotationEditorType.INK)return;if(!e){for(const a of h(this,to).values())if(a.isEmpty()){a.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){h(this,hs).setEditingState(e)}addCommands(e){h(this,hs).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var i;(i=h(this,Yo))==null||i.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const a of h(this,to).values())a.enableEditing(),a.show(!0),a.annotationElementId&&(h(this,hs).removeChangedExistingAnnotation(a),e.add(a.annotationElementId));if(!h(this,Yo))return;const i=h(this,Yo).getEditableAnnotations();for(const a of i){if(a.hide(),h(this,hs).isDeletedAnnotationElement(a.data.id)||e.has(a.data.id))continue;const o=await this.deserialize(a);o&&(this.addOrRebuild(o),o.enableEditing())}}disable(){var o;dt(this,Km,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const c of h(this,to).values())if(c.disableEditing(),!!c.annotationElementId){if(c.serialize()!==null){e.set(c.annotationElementId,c);continue}else i.set(c.annotationElementId,c);(o=this.getEditableAnnotation(c.annotationElementId))==null||o.show(),c.remove()}if(h(this,Yo)){const c=h(this,Yo).getEditableAnnotations();for(const d of c){const{id:g}=d.data;if(h(this,hs).isDeletedAnnotationElement(g))continue;let b=i.get(g);if(b){b.resetAnnotationElement(d),b.show(!1),d.show();continue}b=e.get(g),b&&(h(this,hs).addChangedExistingAnnotation(b),b.renderAnnotationElement(d)&&b.show(!1)),d.show()}}ut(this,Dr,M0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:a}=this.div;for(const c of h(mo,Pu).values())a.remove(`${c._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),dt(this,Km,!1)}getEditableAnnotation(e){var i;return((i=h(this,Yo))==null?void 0:i.getEditableAnnotation(e))||null}setActiveEditor(e){h(this,hs).getActive()!==e&&h(this,hs).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=h(this,Ur))!=null&&e.div&&!h(this,Wl)){dt(this,Wl,new AbortController);const i=h(this,hs).combinedSignal(h(this,Wl));h(this,Ur).div.addEventListener("pointerdown",ut(this,Dr,p_).bind(this),{signal:i}),h(this,Ur).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=h(this,Ur))!=null&&e.div&&h(this,Wl)&&(h(this,Wl).abort(),dt(this,Wl,null),h(this,Ur).div.classList.remove("highlighting"))}enableClick(){if(h(this,Tu))return;dt(this,Tu,new AbortController);const e=h(this,hs).combinedSignal(h(this,Tu));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=h(this,Tu))==null||e.abort(),dt(this,Tu,null)}attach(e){h(this,to).set(e.id,e);const{annotationElementId:i}=e;i&&h(this,hs).isDeletedAnnotationElement(i)&&h(this,hs).removeDeletedAnnotationElement(e)}detach(e){var i;h(this,to).delete(e.id),(i=h(this,Ip))==null||i.removePointerInTextLayer(e.contentDiv),!h(this,Km)&&e.annotationElementId&&h(this,hs).addDeletedAnnotationElement(e)}remove(e){this.detach(e),h(this,hs).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,h(this,qm)||this.addInkEditorIfNeeded(!1)}changeParent(e){var i;e.parent!==this&&(e.parent&&e.annotationElementId&&(h(this,hs).addDeletedAnnotationElement(e.annotationElementId),AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(i=e.parent)==null||i.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),h(this,hs).addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),h(this,hs).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var a;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!h(this,Vl)&&(e._focusEventsAllowed=!1,dt(this,Vl,setTimeout(()=>{dt(this,Vl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:h(this,hs)._signal}),i.focus())},0))),e._structTreeParentId=(a=h(this,Ip))==null?void 0:a.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const i=()=>e._uiManager.rebuild(e),a=()=>{e.remove()};this.addCommands({cmd:i,undo:a,mustExec:!1})}getNextId(){return h(this,hs).getId()}combinedSignal(e){return h(this,hs).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=h(this,Dr,Fw))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,i){h(this,hs).updateToolbar(e),h(this,hs).updateMode(e);const{offsetX:a,offsetY:o}=ut(this,Dr,jw).call(this),c=this.getNextId(),d=ut(this,Dr,Iw).call(this,{parent:this,id:c,x:a,y:o,uiManager:h(this,hs),isCentered:!0,...i});d&&this.add(d)}async deserialize(e){var i;return await((i=h(mo,Pu).get(e.annotationType??e.annotationEditorType))==null?void 0:i.deserialize(e,this,h(this,hs)))||null}createAndAddNewEditor(e,i,a={}){const o=this.getNextId(),c=ut(this,Dr,Iw).call(this,{parent:this,id:o,x:e.offsetX,y:e.offsetY,uiManager:h(this,hs),isCentered:i,...a});return c&&this.add(c),c}addNewEditor(){this.createAndAddNewEditor(ut(this,Dr,jw).call(this),!0)}setSelected(e){h(this,hs).setSelected(e)}toggleSelected(e){h(this,hs).toggleSelected(e)}unselect(e){h(this,hs).unselect(e)}pointerup(e){const{isMac:i}=util_FeatureTest.platform;if(!(e.button!==0||e.ctrlKey&&i)&&e.target===this.div&&h(this,ku)){if(dt(this,ku,!1),!h(this,Xm)){dt(this,Xm,!0);return}if(h(this,hs).getMode()===AnnotationEditorType.STAMP){h(this,hs).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(h(this,hs).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),h(this,ku)){dt(this,ku,!1);return}const{isMac:i}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;dt(this,ku,!0);const a=h(this,hs).getActive();dt(this,Xm,!a||a.isEmpty())}findNewParent(e,i,a){const o=h(this,hs).findParent(i,a);return o===null||o===this?!1:(o.changeParent(e),!0)}destroy(){var e,i;((e=h(this,hs).getActive())==null?void 0:e.parent)===this&&(h(this,hs).commitOrRemove(),h(this,hs).setActiveEditor(null)),h(this,Vl)&&(clearTimeout(h(this,Vl)),dt(this,Vl,null));for(const a of h(this,to).values())(i=h(this,Ip))==null||i.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,h(this,to).clear(),h(this,hs).removeLayer(this)}render({viewport:e}){this.viewport=e,setLayerDimensions(this.div,e);for(const i of h(this,hs).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){h(this,hs).commitOrRemove(),ut(this,Dr,M0).call(this);const i=this.viewport.rotation,a=e.rotation;if(this.viewport=e,setLayerDimensions(this.div,{rotation:a}),i!==a)for(const o of h(this,to).values())o.rotate(a);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return h(this,hs).viewParameters.realScale}};Ip=new WeakMap,Xm=new WeakMap,Yo=new WeakMap,Tu=new WeakMap,Vl=new WeakMap,to=new WeakMap,ku=new WeakMap,qm=new WeakMap,Km=new WeakMap,Ur=new WeakMap,Wl=new WeakMap,hs=new WeakMap,Pu=new WeakMap,Dr=new WeakSet,p_=function(e){h(this,hs).unselectAll();const{target:i}=e;if(i===h(this,Ur).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&h(this,Ur).div.contains(i)){const{isMac:a}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&a)return;h(this,hs).showAllEditors("highlight",!0,!0),h(this,Ur).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,h(this,hs).direction==="ltr",{target:h(this,Ur).div,x:e.x,y:e.y}),h(this,Ur).div.addEventListener("pointerup",()=>{h(this,Ur).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,hs)._signal}),e.preventDefault()}},Fw=function(){return h(mo,Pu).get(h(this,hs).getMode())},Iw=function(e){const i=h(this,Dr,Fw);return i?new i.prototype.constructor(e):null},jw=function(){const{x:e,y:i,width:a,height:o}=this.div.getBoundingClientRect(),c=Math.max(0,e),d=Math.max(0,i),g=Math.min(window.innerWidth,e+a),b=Math.min(window.innerHeight,i+o),_=(c+g)/2-e,j=(d+b)/2-i,[$,_e]=this.viewport.rotation%180===0?[_,j]:[j,_];return{offsetX:$,offsetY:_e}},M0=function(){dt(this,qm,!0);for(const e of h(this,to).values())e.isEmpty()&&e.remove();dt(this,qm,!1)},Xn(mo,"_initialized",!1),pt(mo,Pu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map(e=>[e._editorType,e])));let AnnotationEditorLayer=mo;var Qo,Fy,gr,Gl,Iy,Dw,Dp,Ow,g_;const Lr=class Lr{constructor({pageIndex:e}){pt(this,Dp);pt(this,Qo,null);pt(this,Fy,0);pt(this,gr,new Map);pt(this,Gl,new Map);this.pageIndex=e}setParent(e){if(!h(this,Qo)){dt(this,Qo,e);return}if(h(this,Qo)!==e){if(h(this,gr).size>0)for(const i of h(this,gr).values())i.remove(),e.append(i);dt(this,Qo,e)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(e,i,a,o=!1){const c=yr(this,Fy)._++,d=ut(this,Dp,Ow).call(this,e.box);d.classList.add(...e.classNamesForDrawing);const g=Lr._svgFactory.createElement("defs");d.append(g);const b=Lr._svgFactory.createElement("path");g.append(b);const _=`path_p${this.pageIndex}_${c}`;b.setAttribute("id",_),b.setAttribute("d",e.toSVGPath()),o&&h(this,Gl).set(c,b);const j=ut(this,Dp,g_).call(this,g,_),$=Lr._svgFactory.createElement("use");return d.append($),d.setAttribute("fill",i),d.setAttribute("fill-opacity",a),$.setAttribute("href",`#${_}`),h(this,gr).set(c,d),{id:c,clipPathId:`url(#${j})`}}drawOutline(e){const i=yr(this,Fy)._++,a=ut(this,Dp,Ow).call(this,e.box);a.classList.add(...e.classNamesForOutlining);const o=Lr._svgFactory.createElement("defs");a.append(o);const c=Lr._svgFactory.createElement("path");o.append(c);const d=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",d),c.setAttribute("d",e.toSVGPath()),c.setAttribute("vector-effect","non-scaling-stroke");let g;if(e.mustRemoveSelfIntersections){const j=Lr._svgFactory.createElement("mask");o.append(j),g=`mask_p${this.pageIndex}_${i}`,j.setAttribute("id",g),j.setAttribute("maskUnits","objectBoundingBox");const $=Lr._svgFactory.createElement("rect");j.append($),$.setAttribute("width","1"),$.setAttribute("height","1"),$.setAttribute("fill","white");const _e=Lr._svgFactory.createElement("use");j.append(_e),_e.setAttribute("href",`#${d}`),_e.setAttribute("stroke","none"),_e.setAttribute("fill","black"),_e.setAttribute("fill-rule","nonzero"),_e.classList.add("mask")}const b=Lr._svgFactory.createElement("use");a.append(b),b.setAttribute("href",`#${d}`),g&&b.setAttribute("mask",`url(#${g})`);const _=b.cloneNode();return a.append(_),b.classList.add("mainOutline"),_.classList.add("secondaryOutline"),h(this,gr).set(i,a),i}finalizeLine(e,i){const a=h(this,Gl).get(e);h(this,Gl).delete(e),this.updateBox(e,i.box),a.setAttribute("d",i.toSVGPath())}updateLine(e,i){h(this,gr).get(e).firstChild.firstChild.setAttribute("d",i.toSVGPath())}updatePath(e,i){h(this,Gl).get(e).setAttribute("d",i.toSVGPath())}updateBox(e,i){var a;ut(a=Lr,Iy,Dw).call(a,h(this,gr).get(e),i)}show(e,i){h(this,gr).get(e).classList.toggle("hidden",!i)}rotate(e,i){h(this,gr).get(e).setAttribute("data-main-rotation",i)}changeColor(e,i){h(this,gr).get(e).setAttribute("fill",i)}changeOpacity(e,i){h(this,gr).get(e).setAttribute("fill-opacity",i)}addClass(e,i){h(this,gr).get(e).classList.add(i)}removeClass(e,i){h(this,gr).get(e).classList.remove(i)}getSVGRoot(e){return h(this,gr).get(e)}remove(e){h(this,Gl).delete(e),h(this,Qo)!==null&&(h(this,gr).get(e).remove(),h(this,gr).delete(e))}destroy(){dt(this,Qo,null);for(const e of h(this,gr).values())e.remove();h(this,gr).clear(),h(this,Gl).clear()}};Qo=new WeakMap,Fy=new WeakMap,gr=new WeakMap,Gl=new WeakMap,Iy=new WeakSet,Dw=function(e,{x:i=0,y:a=0,width:o=1,height:c=1}={}){const{style:d}=e;d.top=`${100*a}%`,d.left=`${100*i}%`,d.width=`${100*o}%`,d.height=`${100*c}%`},Dp=new WeakSet,Ow=function(e){var a;const i=Lr._svgFactory.create(1,1,!0);return h(this,Qo).append(i),i.setAttribute("aria-hidden",!0),ut(a=Lr,Iy,Dw).call(a,i,e),i},g_=function(e,i){const a=Lr._svgFactory.createElement("clipPath");e.append(a);const o=`clip_${i}`;a.setAttribute("id",o),a.setAttribute("clipPathUnits","objectBoundingBox");const c=Lr._svgFactory.createElement("use");return a.append(c),c.setAttribute("href",`#${i}`),c.classList.add("clip"),o},pt(Lr,Iy);let DrawLayer=Lr;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.OutputScale;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.version;__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.mjs",import.meta.url).toString();const App=()=>{const[s,e]=reactExports.useState(localStorage.getItem("token"));return reactExports.useEffect(()=>{s?localStorage.setItem("token",s):localStorage.removeItem("token")},[s]),jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"spacer"}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/home",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/home/beginning",element:jsxRuntimeExports.jsx(Beginning,{})}),jsxRuntimeExports.jsx(Route,{path:"/home/urban-living",element:jsxRuntimeExports.jsx(UrbanLiving,{})}),jsxRuntimeExports.jsx(Route,{path:"/home/podcast",element:jsxRuntimeExports.jsx(Podcast,{})}),jsxRuntimeExports.jsx(Route,{path:"/home/berlin",element:jsxRuntimeExports.jsx(Berlin,{})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(About,{})}),jsxRuntimeExports.jsx(Route,{path:"/coaching",element:jsxRuntimeExports.jsx(Coaching,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:s?jsxRuntimeExports.jsx(Dashboard,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{setToken:e})})]}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/imprint",element:jsxRuntimeExports.jsx(Imprint,{})}),jsxRuntimeExports.jsx(Route,{path:"/data_protection",element:jsxRuntimeExports.jsx(DataProtection,{})})]}),jsxRuntimeExports.jsx(Footer,{}),jsxRuntimeExports.jsx(Footer2,{})]})},isString=s=>typeof s=="string",defer=()=>{let s,e;const i=new Promise((a,o)=>{s=a,e=o});return i.resolve=s,i.reject=e,i},makeString=s=>s==null?"":""+s,copy=(s,e,i)=>{s.forEach(a=>{e[a]&&(i[a]=e[a])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=s=>s&&s.indexOf("###")>-1?s.replace(lastOfPathSeparatorRegExp,"."):s,canNotTraverseDeeper=s=>!s||isString(s),getLastOfPath=(s,e,i)=>{const a=isString(e)?e.split("."):e;let o=0;for(;o<a.length-1;){if(canNotTraverseDeeper(s))return{};const c=cleanKey(a[o]);!s[c]&&i&&(s[c]=new i),Object.prototype.hasOwnProperty.call(s,c)?s=s[c]:s={},++o}return canNotTraverseDeeper(s)?{}:{obj:s,k:cleanKey(a[o])}},setPath=(s,e,i)=>{const{obj:a,k:o}=getLastOfPath(s,e,Object);if(a!==void 0||e.length===1){a[o]=i;return}let c=e[e.length-1],d=e.slice(0,e.length-1),g=getLastOfPath(s,d,Object);for(;g.obj===void 0&&d.length;)c=`${d[d.length-1]}.${c}`,d=d.slice(0,d.length-1),g=getLastOfPath(s,d,Object),g!=null&&g.obj&&typeof g.obj[`${g.k}.${c}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${c}`]=i},pushPath=(s,e,i,a)=>{const{obj:o,k:c}=getLastOfPath(s,e,Object);o[c]=o[c]||[],o[c].push(i)},getPath=(s,e)=>{const{obj:i,k:a}=getLastOfPath(s,e);if(i)return i[a]},getPathWithDefaults=(s,e,i)=>{const a=getPath(s,i);return a!==void 0?a:getPath(e,i)},deepExtend=(s,e,i)=>{for(const a in e)a!=="__proto__"&&a!=="constructor"&&(a in s?isString(s[a])||s[a]instanceof String||isString(e[a])||e[a]instanceof String?i&&(s[a]=e[a]):deepExtend(s[a],e[a],i):s[a]=e[a]);return s},regexEscape=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape$1=s=>isString(s)?s.replace(/[&<>"'\/]/g,e=>_entityMap[e]):s;class RegExpCache{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const i=this.regExpMap.get(e);if(i!==void 0)return i;const a=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,a),this.regExpQueue.push(e),a}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(s,e,i)=>{e=e||"",i=i||"";const a=chars.filter(d=>e.indexOf(d)<0&&i.indexOf(d)<0);if(a.length===0)return!0;const o=looksLikeObjectPathRegExpCache.getRegExp(`(${a.map(d=>d==="?"?"\\?":d).join("|")})`);let c=!o.test(s);if(!c){const d=s.indexOf(i);d>0&&!o.test(s.substring(0,d))&&(c=!0)}return c},deepFind=function(s,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!s)return;if(s[e])return s[e];const a=e.split(i);let o=s;for(let c=0;c<a.length;){if(!o||typeof o!="object")return;let d,g="";for(let b=c;b<a.length;++b)if(b!==c&&(g+=i),g+=a[b],d=o[g],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&b<a.length-1)continue;c+=b-c+1;break}o=d}return o},getCleanedCode=s=>s==null?void 0:s.replace("_","-"),consoleLogger={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){var i,a;(a=(i=console==null?void 0:console[s])==null?void 0:i.apply)==null||a.call(i,console,e)}};class Logger{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,i)}init(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=e||consoleLogger,this.options=i,this.debug=i.debug}log(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return this.forward(i,"log","",!0)}warn(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return this.forward(i,"warn","",!0)}error(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return this.forward(i,"error","")}deprecate(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(e,i,a,o){return o&&!this.debug?null:(isString(e[0])&&(e[0]=`${a}${this.prefix} ${e[0]}`),this.logger[i](e))}create(e){return new Logger(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Logger(this.logger,e)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(e,i){return e.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const o=this.observers[a].get(i)||0;this.observers[a].set(i,o+1)}),this}off(e,i){if(this.observers[e]){if(!i){delete this.observers[e];return}this.observers[e].delete(i)}}emit(e){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(d=>{let[g,b]=d;for(let _=0;_<b;_++)g(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(d=>{let[g,b]=d;for(let _=0;_<b;_++)g.apply(g,[e,...a])})}}class ResourceStore extends EventEmitter{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const i=this.options.ns.indexOf(e);i>-1&&this.options.ns.splice(i,1)}getResource(e,i,a){var _,j;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,d=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;e.indexOf(".")>-1?g=e.split("."):(g=[e,i],a&&(Array.isArray(a)?g.push(...a):isString(a)&&c?g.push(...a.split(c)):g.push(a)));const b=getPath(this.data,g);return!b&&!i&&!a&&e.indexOf(".")>-1&&(e=g[0],i=g[1],a=g.slice(2).join(".")),b||!d||!isString(a)?b:deepFind((j=(_=this.data)==null?void 0:_[e])==null?void 0:j[i],a,c)}addResource(e,i,a,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let g=[e,i];a&&(g=g.concat(d?a.split(d):a)),e.indexOf(".")>-1&&(g=e.split("."),o=i,i=g[1]),this.addNamespaces(i),setPath(this.data,g,o),c.silent||this.emit("added",e,i,a,o)}addResources(e,i,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const c in a)(isString(a[c])||Array.isArray(a[c]))&&this.addResource(e,i,c,a[c],{silent:!0});o.silent||this.emit("added",e,i,a)}addResourceBundle(e,i,a,o,c){let d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},g=[e,i];e.indexOf(".")>-1&&(g=e.split("."),o=a,a=i,i=g[1]),this.addNamespaces(i);let b=getPath(this.data,g)||{};d.skipCopy||(a=JSON.parse(JSON.stringify(a))),o?deepExtend(b,a,c):b={...b,...a},setPath(this.data,g,b),d.silent||this.emit("added",e,i,a)}removeResourceBundle(e,i){this.hasResourceBundle(e,i)&&delete this.data[e][i],this.removeNamespaces(i),this.emit("removed",e,i)}hasResourceBundle(e,i){return this.getResource(e,i)!==void 0}getResourceBundle(e,i){return i||(i=this.options.defaultNS),this.getResource(e,i)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const i=this.getDataByLanguage(e);return!!(i&&Object.keys(i)||[]).find(o=>i[o]&&Object.keys(i[o]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,i,a,o){return s.forEach(c=>{var d;e=((d=this.processors[c])==null?void 0:d.process(e,i,a,o))??e}),e}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const a=this.resolve(e,i);return(a==null?void 0:a.res)!==void 0}extractFromKey(e,i){let a=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=i.ns||this.options.defaultNS||[];const d=a&&e.indexOf(a)>-1,g=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!looksLikeObjectPath(e,a,o);if(d&&!g){const b=e.match(this.interpolator.nestingRegexp);if(b&&b.length>0)return{key:e,namespaces:isString(c)?[c]:c};const _=e.split(a);(a!==o||a===o&&this.options.ns.indexOf(_[0])>-1)&&(c=_.shift()),e=_.join(o)}return{key:e,namespaces:isString(c)?[c]:c}}translate(e,i,a){if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:d,namespaces:g}=this.extractFromKey(e[e.length-1],i),b=g[g.length-1],_=i.lng||this.language,j=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((_==null?void 0:_.toLowerCase())==="cimode"){if(j){const ct=i.nsSeparator||this.options.nsSeparator;return o?{res:`${b}${ct}${d}`,usedKey:d,exactUsedKey:d,usedLng:_,usedNS:b,usedParams:this.getUsedParamsDetails(i)}:`${b}${ct}${d}`}return o?{res:d,usedKey:d,exactUsedKey:d,usedLng:_,usedNS:b,usedParams:this.getUsedParamsDetails(i)}:d}const $=this.resolve(e,i);let _e=$==null?void 0:$.res;const et=($==null?void 0:$.usedKey)||d,tt=($==null?void 0:$.exactUsedKey)||d,it=Object.prototype.toString.apply(_e),rt=["[object Number]","[object Function]","[object RegExp]"],nt=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,st=!this.i18nFormat||this.i18nFormat.handleAsObject,ot=!isString(_e)&&typeof _e!="boolean"&&typeof _e!="number";if(st&&_e&&ot&&rt.indexOf(it)<0&&!(isString(nt)&&Array.isArray(_e))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ct=this.options.returnedObjectHandler?this.options.returnedObjectHandler(et,_e,{...i,ns:g}):`key '${d} (${this.language})' returned an object instead of string.`;return o?($.res=ct,$.usedParams=this.getUsedParamsDetails(i),$):ct}if(c){const ct=Array.isArray(_e),at=ct?[]:{},ht=ct?tt:et;for(const lt in _e)if(Object.prototype.hasOwnProperty.call(_e,lt)){const ft=`${ht}${c}${lt}`;at[lt]=this.translate(ft,{...i,joinArrays:!1,ns:g}),at[lt]===ft&&(at[lt]=_e[lt])}_e=at}}else if(st&&isString(nt)&&Array.isArray(_e))_e=_e.join(nt),_e&&(_e=this.extendTranslation(_e,e,i,a));else{let ct=!1,at=!1;const ht=i.count!==void 0&&!isString(i.count),lt=Translator.hasDefaultValue(i),ft=ht?this.pluralResolver.getSuffix(_,i.count,i):"",yt=i.ordinal&&ht?this.pluralResolver.getSuffix(_,i.count,{ordinal:!1}):"",Et=ht&&!i.ordinal&&i.count===0,mt=Et&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${ft}`]||i[`defaultValue${yt}`]||i.defaultValue;!this.isValidLookup(_e)&&lt&&(ct=!0,_e=mt),this.isValidLookup(_e)||(at=!0,_e=d);const Rt=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&at?void 0:_e,qt=lt&&mt!==_e&&this.options.updateMissing;if(at||ct||qt){if(this.logger.log(qt?"updateKey":"missingKey",_,b,d,qt?mt:_e),c){const Ft=this.resolve(d,{...i,keySeparator:!1});Ft&&Ft.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Bt=[];const $t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$t&&$t[0])for(let Ft=0;Ft<$t.length;Ft++)Bt.push($t[Ft]);else this.options.saveMissingTo==="all"?Bt=this.languageUtils.toResolveHierarchy(i.lng||this.language):Bt.push(i.lng||this.language);const jt=(Ft,St,It)=>{var _t;const zt=lt&&It!==_e?It:Rt;this.options.missingKeyHandler?this.options.missingKeyHandler(Ft,b,St,zt,qt,i):(_t=this.backendConnector)!=null&&_t.saveMissing&&this.backendConnector.saveMissing(Ft,b,St,zt,qt,i),this.emit("missingKey",Ft,b,St,_e)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ht?Bt.forEach(Ft=>{const St=this.pluralResolver.getSuffixes(Ft,i);Et&&i[`defaultValue${this.options.pluralSeparator}zero`]&&St.indexOf(`${this.options.pluralSeparator}zero`)<0&&St.push(`${this.options.pluralSeparator}zero`),St.forEach(It=>{jt([Ft],d+It,i[`defaultValue${It}`]||mt)})}):jt(Bt,d,mt))}_e=this.extendTranslation(_e,e,i,$,a),at&&_e===d&&this.options.appendNamespaceToMissingKey&&(_e=`${b}:${d}`),(at||ct)&&this.options.parseMissingKeyHandler&&(_e=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${b}:${d}`:d,ct?_e:void 0))}return o?($.res=_e,$.usedParams=this.getUsedParamsDetails(i),$):_e}extendTranslation(e,i,a,o,c){var _,j;var d=this;if((_=this.i18nFormat)!=null&&_.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const $=isString(e)&&(((j=a==null?void 0:a.interpolation)==null?void 0:j.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _e;if($){const tt=e.match(this.interpolator.nestingRegexp);_e=tt&&tt.length}let et=a.replace&&!isString(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(et={...this.options.interpolation.defaultVariables,...et}),e=this.interpolator.interpolate(e,et,a.lng||this.language||o.usedLng,a),$){const tt=e.match(this.interpolator.nestingRegexp),it=tt&&tt.length;_e<it&&(a.nest=!1)}!a.lng&&o&&o.res&&(a.lng=this.language||o.usedLng),a.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var tt=arguments.length,it=new Array(tt),rt=0;rt<tt;rt++)it[rt]=arguments[rt];return(c==null?void 0:c[0])===it[0]&&!a.context?(d.logger.warn(`It seems you are nesting recursively key: ${it[0]} in key: ${i[0]}`),null):d.translate(...it,i)},a)),a.interpolation&&this.interpolator.reset()}const g=a.postProcess||this.options.postProcess,b=isString(g)?[g]:g;return e!=null&&(b!=null&&b.length)&&a.applyPostProcessor!==!1&&(e=postProcessor.handle(b,e,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),e}resolve(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,o,c,d,g;return isString(e)&&(e=[e]),e.forEach(b=>{if(this.isValidLookup(a))return;const _=this.extractFromKey(b,i),j=_.key;o=j;let $=_.namespaces;this.options.fallbackNS&&($=$.concat(this.options.fallbackNS));const _e=i.count!==void 0&&!isString(i.count),et=_e&&!i.ordinal&&i.count===0,tt=i.context!==void 0&&(isString(i.context)||typeof i.context=="number")&&i.context!=="",it=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);$.forEach(rt=>{var nt,st;this.isValidLookup(a)||(g=rt,!checkedLoadedFor[`${it[0]}-${rt}`]&&((nt=this.utils)!=null&&nt.hasLoadedNamespace)&&!((st=this.utils)!=null&&st.hasLoadedNamespace(g))&&(checkedLoadedFor[`${it[0]}-${rt}`]=!0,this.logger.warn(`key "${o}" for languages "${it.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),it.forEach(ot=>{var ht;if(this.isValidLookup(a))return;d=ot;const ct=[j];if((ht=this.i18nFormat)!=null&&ht.addLookupKeys)this.i18nFormat.addLookupKeys(ct,j,ot,rt,i);else{let lt;_e&&(lt=this.pluralResolver.getSuffix(ot,i.count,i));const ft=`${this.options.pluralSeparator}zero`,yt=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_e&&(ct.push(j+lt),i.ordinal&&lt.indexOf(yt)===0&&ct.push(j+lt.replace(yt,this.options.pluralSeparator)),et&&ct.push(j+ft)),tt){const Et=`${j}${this.options.contextSeparator}${i.context}`;ct.push(Et),_e&&(ct.push(Et+lt),i.ordinal&&lt.indexOf(yt)===0&&ct.push(Et+lt.replace(yt,this.options.pluralSeparator)),et&&ct.push(Et+ft))}}let at;for(;at=ct.pop();)this.isValidLookup(a)||(c=at,a=this.getResource(ot,rt,at,i))}))})}),{res:a,usedKey:o,exactUsedKey:c,usedLng:d,usedNS:g}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,i,a){var c;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(c=this.i18nFormat)!=null&&c.getResource?this.i18nFormat.getResource(e,i,a,o):this.resourceStore.getResource(e,i,a,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=e.replace&&!isString(e.replace);let o=a?e.replace:e;if(a&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!a){o={...o};for(const c of i)delete o[c]}return o}static hasDefaultValue(e){const i="defaultValue";for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&i===a.substring(0,i.length)&&e[a]!==void 0)return!0;return!1}}class LanguageUtil{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(e){if(e=getCleanedCode(e),!e||e.indexOf("-")<0)return null;const i=e.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(e){if(e=getCleanedCode(e),!e||e.indexOf("-")<0)return e;const i=e.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(e){if(isString(e)&&e.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(e)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let i;return e.forEach(a=>{if(i)return;const o=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(o))&&(i=o)}),!i&&this.options.supportedLngs&&e.forEach(a=>{if(i)return;const o=this.getLanguagePartFromCode(a);if(this.isSupportedCode(o))return i=o;i=this.options.supportedLngs.find(c=>{if(c===o)return c;if(!(c.indexOf("-")<0&&o.indexOf("-")<0)&&(c.indexOf("-")>0&&o.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===o||c.indexOf(o)===0&&o.length>1))return c})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(e,i){if(!e)return[];if(typeof e=="function"&&(e=e(i)),isString(e)&&(e=[e]),Array.isArray(e))return e;if(!i)return e.default||[];let a=e[i];return a||(a=e[this.getScriptPartFromCode(i)]),a||(a=e[this.formatLanguageCode(i)]),a||(a=e[this.getLanguagePartFromCode(i)]),a||(a=e.default),a||[]}toResolveHierarchy(e,i){const a=this.getFallbackCodes(i||this.options.fallbackLng||[],e),o=[],c=d=>{d&&(this.isSupportedCode(d)?o.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return isString(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(e))):isString(e)&&c(this.formatLanguageCode(e)),a.forEach(d=>{o.indexOf(d)<0&&c(this.formatLanguageCode(d))}),o}}const suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},dummyRule={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PluralResolver{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=i,this.logger=baseLogger.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,i){this.rules[e]=i}clearCache(){this.pluralRulesCache={}}getRule(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=getCleanedCode(e==="dev"?"en":e),o=i.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:a,type:o});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let d;try{d=new Intl.PluralRules(a,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dummyRule;if(!e.match(/-|_/))return dummyRule;const b=this.languageUtils.getLanguagePartFromCode(e);d=this.getRule(b,i)}return this.pluralRulesCache[c]=d,d}needsPlural(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(e,i);return a||(a=this.getRule("dev",i)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,a).map(o=>`${i}${o}`)}getSuffixes(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(e,i);return a||(a=this.getRule("dev",i)),a?a.resolvedOptions().pluralCategories.sort((o,c)=>suffixesOrder[o]-suffixesOrder[c]).map(o=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,a);return o?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${o.select(i)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",i,a))}}const deepFindWithDefaults=function(s,e,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,c=getPathWithDefaults(s,e,i);return!c&&o&&isString(i)&&(c=deepFind(s,i,a),c===void 0&&(c=deepFind(e,i,a))),c},regexSafe=s=>s.replace(/\$/g,"$$$$");class Interpolator{constructor(){var i;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=e,this.format=((i=e==null?void 0:e.interpolation)==null?void 0:i.format)||(a=>a),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:i,escapeValue:a,useRawValueToEscape:o,prefix:c,prefixEscaped:d,suffix:g,suffixEscaped:b,formatSeparator:_,unescapeSuffix:j,unescapePrefix:$,nestingPrefix:_e,nestingPrefixEscaped:et,nestingSuffix:tt,nestingSuffixEscaped:it,nestingOptionsSeparator:rt,maxReplaces:nt,alwaysFormat:st}=e.interpolation;this.escape=i!==void 0?i:escape$1,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=c?regexEscape(c):d||"{{",this.suffix=g?regexEscape(g):b||"}}",this.formatSeparator=_||",",this.unescapePrefix=j?"":$||"-",this.unescapeSuffix=this.unescapePrefix?"":j||"",this.nestingPrefix=_e?regexEscape(_e):et||regexEscape("$t("),this.nestingSuffix=tt?regexEscape(tt):it||regexEscape(")"),this.nestingOptionsSeparator=rt||",",this.maxReplaces=nt||1e3,this.alwaysFormat=st!==void 0?st:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(i,a)=>(i==null?void 0:i.source)===a?(i.lastIndex=0,i):new RegExp(a,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,i,a,o){var et;let c,d,g;const b=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},_=tt=>{if(tt.indexOf(this.formatSeparator)<0){const st=deepFindWithDefaults(i,b,tt,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(st,void 0,a,{...o,...i,interpolationkey:tt}):st}const it=tt.split(this.formatSeparator),rt=it.shift().trim(),nt=it.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(i,b,rt,this.options.keySeparator,this.options.ignoreJSONStructure),nt,a,{...o,...i,interpolationkey:rt})};this.resetRegExp();const j=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,$=((et=o==null?void 0:o.interpolation)==null?void 0:et.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:tt=>regexSafe(tt)},{regex:this.regexp,safeValue:tt=>this.escapeValue?regexSafe(this.escape(tt)):regexSafe(tt)}].forEach(tt=>{for(g=0;c=tt.regex.exec(e);){const it=c[1].trim();if(d=_(it),d===void 0)if(typeof j=="function"){const nt=j(e,c,o);d=isString(nt)?nt:""}else if(o&&Object.prototype.hasOwnProperty.call(o,it))d="";else if($){d=c[0];continue}else this.logger.warn(`missed to pass in variable ${it} for interpolating ${e}`),d="";else!isString(d)&&!this.useRawValueToEscape&&(d=makeString(d));const rt=tt.safeValue(d);if(e=e.replace(c[0],rt),$?(tt.regex.lastIndex+=d.length,tt.regex.lastIndex-=c[0].length):tt.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),e}nest(e,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,c,d;const g=(b,_)=>{const j=this.nestingOptionsSeparator;if(b.indexOf(j)<0)return b;const $=b.split(new RegExp(`${j}[ ]*{`));let _e=`{${$[1]}`;b=$[0],_e=this.interpolate(_e,d);const et=_e.match(/'/g),tt=_e.match(/"/g);(((et==null?void 0:et.length)??0)%2===0&&!tt||tt.length%2!==0)&&(_e=_e.replace(/'/g,'"'));try{d=JSON.parse(_e),_&&(d={..._,...d})}catch(it){return this.logger.warn(`failed parsing options string in nesting for key ${b}`,it),`${b}${j}${_e}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,b};for(;o=this.nestingRegexp.exec(e);){let b=[];d={...a},d=d.replace&&!isString(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;let _=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const j=o[1].split(this.formatSeparator).map($=>$.trim());o[1]=j.shift(),b=j,_=!0}if(c=i(g.call(this,o[1].trim(),d),d),c&&o[0]===e&&!isString(c))return c;isString(c)||(c=makeString(c)),c||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),c=""),_&&(c=b.reduce((j,$)=>this.format(j,$,a.lng,{...a,interpolationkey:o[1].trim()}),c.trim())),e=e.replace(o[0],c),this.regexp.lastIndex=0}return e}}const parseFormatStr=s=>{let e=s.toLowerCase().trim();const i={};if(s.indexOf("(")>-1){const a=s.split("(");e=a[0].toLowerCase().trim();const o=a[1].substring(0,a[1].length-1);e==="currency"&&o.indexOf(":")<0?i.currency||(i.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?i.range||(i.range=o.trim()):o.split(";").forEach(d=>{if(d){const[g,...b]=d.split(":"),_=b.join(":").trim().replace(/^'+|'+$/g,""),j=g.trim();i[j]||(i[j]=_),_==="false"&&(i[j]=!1),_==="true"&&(i[j]=!0),isNaN(_)||(i[j]=parseInt(_,10))}})}return{formatName:e,formatOptions:i}},createCachedFormatter=s=>{const e={};return(i,a,o)=>{let c=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(c={...c,[o.interpolationkey]:void 0});const d=a+JSON.stringify(c);let g=e[d];return g||(g=s(getCleanedCode(a),o),e[d]=g),g(i)}};class Formatter{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=e,this.formats={number:createCachedFormatter((i,a)=>{const o=new Intl.NumberFormat(i,{...a});return c=>o.format(c)}),currency:createCachedFormatter((i,a)=>{const o=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>o.format(c)}),datetime:createCachedFormatter((i,a)=>{const o=new Intl.DateTimeFormat(i,{...a});return c=>o.format(c)}),relativetime:createCachedFormatter((i,a)=>{const o=new Intl.RelativeTimeFormat(i,{...a});return c=>o.format(c,a.range||"day")}),list:createCachedFormatter((i,a)=>{const o=new Intl.ListFormat(i,{...a});return c=>o.format(c)})},this.init(e)}init(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=i.interpolation.formatSeparator||","}add(e,i){this.formats[e.toLowerCase().trim()]=i}addCached(e,i){this.formats[e.toLowerCase().trim()]=createCachedFormatter(i)}format(e,i,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=i.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(g=>g.indexOf(")")>-1)){const g=c.findIndex(b=>b.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,g)].join(this.formatSeparator)}return c.reduce((g,b)=>{var $;const{formatName:_,formatOptions:j}=parseFormatStr(b);if(this.formats[_]){let _e=g;try{const et=(($=o==null?void 0:o.formatParams)==null?void 0:$[o.interpolationkey])||{},tt=et.locale||et.lng||o.locale||o.lng||a;_e=this.formats[_](g,tt,{...j,...o,...et})}catch(et){this.logger.warn(et)}return _e}else this.logger.warn(`there was no format function for ${_}`);return g},e)}}const removePending=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class Connector extends EventEmitter{constructor(e,i,a){var c,d;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=i,this.services=a,this.languageUtils=a.languageUtils,this.options=o,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(d=(c=this.backend)==null?void 0:c.init)==null||d.call(c,a,o.backend,o)}queueLoad(e,i,a,o){const c={},d={},g={},b={};return e.forEach(_=>{let j=!0;i.forEach($=>{const _e=`${_}|${$}`;!a.reload&&this.store.hasResourceBundle(_,$)?this.state[_e]=2:this.state[_e]<0||(this.state[_e]===1?d[_e]===void 0&&(d[_e]=!0):(this.state[_e]=1,j=!1,d[_e]===void 0&&(d[_e]=!0),c[_e]===void 0&&(c[_e]=!0),b[$]===void 0&&(b[$]=!0)))}),j||(g[_]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(b)}}loaded(e,i,a){const o=e.split("|"),c=o[0],d=o[1];i&&this.emit("failedLoading",c,d,i),!i&&a&&this.store.addResourceBundle(c,d,a,void 0,void 0,{skipCopy:!0}),this.state[e]=i?-1:2,i&&a&&(this.state[e]=0);const g={};this.queue.forEach(b=>{pushPath(b.loaded,[c],d),removePending(b,e),i&&b.errors.push(i),b.pendingCount===0&&!b.done&&(Object.keys(b.loaded).forEach(_=>{g[_]||(g[_]={});const j=b.loaded[_];j.length&&j.forEach($=>{g[_][$]===void 0&&(g[_][$]=!0)})}),b.done=!0,b.errors.length?b.callback(b.errors):b.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(b=>!b.done)}read(e,i,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,d=arguments.length>5?arguments[5]:void 0;if(!e.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:i,fcName:a,tried:o,wait:c,callback:d});return}this.readingCalls++;const g=(_,j)=>{if(this.readingCalls--,this.waitingReads.length>0){const $=this.waitingReads.shift();this.read($.lng,$.ns,$.fcName,$.tried,$.wait,$.callback)}if(_&&j&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,i,a,o+1,c*2,d)},c);return}d(_,j)},b=this.backend[a].bind(this.backend);if(b.length===2){try{const _=b(e,i);_&&typeof _.then=="function"?_.then(j=>g(null,j)).catch(g):g(null,_)}catch(_){g(_)}return}return b(e,i,g)}prepareLoading(e,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();isString(e)&&(e=this.languageUtils.toResolveHierarchy(e)),isString(i)&&(i=[i]);const c=this.queueLoad(e,i,a,o);if(!c.toLoad.length)return c.pending.length||o(),null;c.toLoad.forEach(d=>{this.loadOne(d)})}load(e,i,a){this.prepareLoading(e,i,{},a)}reload(e,i,a){this.prepareLoading(e,i,{reload:!0},a)}loadOne(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=e.split("|"),o=a[0],c=a[1];this.read(o,c,"read",void 0,void 0,(d,g)=>{d&&this.logger.warn(`${i}loading namespace ${c} for language ${o} failed`,d),!d&&g&&this.logger.log(`${i}loaded namespace ${c} for language ${o}`,g),this.loaded(e,d,g)})}saveMissing(e,i,a,o,c){var b,_,j,$,_e;let d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((_=(b=this.services)==null?void 0:b.utils)!=null&&_.hasLoadedNamespace&&!(($=(j=this.services)==null?void 0:j.utils)!=null&&$.hasLoadedNamespace(i))){this.logger.warn(`did not save key "${a}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((_e=this.backend)!=null&&_e.create){const et={...d,isUpdate:c},tt=this.backend.create.bind(this.backend);if(tt.length<6)try{let it;tt.length===5?it=tt(e,i,a,o,et):it=tt(e,i,a,o),it&&typeof it.then=="function"?it.then(rt=>g(null,rt)).catch(g):g(null,it)}catch(it){g(it)}else tt(e,i,a,o,g,et)}!e||!e[0]||this.store.addResource(e[0],i,a,o)}}}const get=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),isString(s[1])&&(e.defaultValue=s[1]),isString(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const i=s[3]||s[2];Object.keys(i).forEach(a=>{e[a]=i[a]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),transformOptions=s=>{var e,i;return isString(s.ns)&&(s.ns=[s.ns]),isString(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),isString(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((i=(e=s.supportedLngs)==null?void 0:e.indexOf)==null?void 0:i.call(e,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},noop=()=>{},bindMemberFunctions=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(i=>{typeof s[i]=="function"&&(s[i]=s[i].bind(s))})};class I18n extends EventEmitter{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(e),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),i&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,i),this;setTimeout(()=>{this.init(e,i)},0)}}init(){var e=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof i=="function"&&(a=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(isString(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const o=get();this.options={...o,...this.options,...transformOptions(i)},this.options.interpolation={...o.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);const c=j=>j?typeof j=="function"?new j:j:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(c(this.modules.logger),this.options):baseLogger.init(null,this.options);let j;this.modules.formatter?j=this.modules.formatter:j=Formatter;const $=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const _e=this.services;_e.logger=baseLogger,_e.resourceStore=this.store,_e.languageUtils=$,_e.pluralResolver=new PluralResolver($,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),j&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(_e.formatter=c(j),_e.formatter.init(_e,this.options),this.options.interpolation.format=_e.formatter.format.bind(_e.formatter)),_e.interpolator=new Interpolator(this.options),_e.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_e.backendConnector=new Connector(c(this.modules.backend),_e.resourceStore,_e,this.options),_e.backendConnector.on("*",function(et){for(var tt=arguments.length,it=new Array(tt>1?tt-1:0),rt=1;rt<tt;rt++)it[rt-1]=arguments[rt];e.emit(et,...it)}),this.modules.languageDetector&&(_e.languageDetector=c(this.modules.languageDetector),_e.languageDetector.init&&_e.languageDetector.init(_e,this.options.detection,this.options)),this.modules.i18nFormat&&(_e.i18nFormat=c(this.modules.i18nFormat),_e.i18nFormat.init&&_e.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(et){for(var tt=arguments.length,it=new Array(tt>1?tt-1:0),rt=1;rt<tt;rt++)it[rt-1]=arguments[rt];e.emit(et,...it)}),this.modules.external.forEach(et=>{et.init&&et.init(this)})}if(this.format=this.options.interpolation.format,a||(a=noop),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const j=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);j.length>0&&j[0]!=="dev"&&(this.options.lng=j[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(j=>{this[j]=function(){return e.store[j](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(j=>{this[j]=function(){return e.store[j](...arguments),e}});const b=defer(),_=()=>{const j=($,_e)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),b.resolve(_e),a($,_e)};if(this.languages&&!this.isInitialized)return j(null,this.t.bind(this));this.changeLanguage(this.options.lng,j)};return this.options.resources||!this.options.initAsync?_():setTimeout(_,0),b}loadResources(e){var c,d;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop;const o=isString(e)?e:this.language;if(typeof e=="function"&&(a=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const g=[],b=_=>{if(!_||_==="cimode")return;this.services.languageUtils.toResolveHierarchy(_).forEach($=>{$!=="cimode"&&g.indexOf($)<0&&g.push($)})};o?b(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(j=>b(j)),(d=(c=this.options.preload)==null?void 0:c.forEach)==null||d.call(c,_=>b(_)),this.services.backendConnector.load(g,this.options.ns,_=>{!_&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(_)})}else a(null)}reloadResources(e,i,a){const o=defer();return typeof e=="function"&&(a=e,e=void 0),typeof i=="function"&&(a=i,i=void 0),e||(e=this.languages),i||(i=this.options.ns),a||(a=noop),this.services.backendConnector.reload(e,i,c=>{o.resolve(),a(c)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&postProcessor.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let i=0;i<this.languages.length;i++){const a=this.languages[i];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}changeLanguage(e,i){var a=this;this.isLanguageChangingTo=e;const o=defer();this.emit("languageChanging",e);const c=b=>{this.language=b,this.languages=this.services.languageUtils.toResolveHierarchy(b),this.resolvedLanguage=void 0,this.setResolvedLanguage(b)},d=(b,_)=>{_?(c(_),this.translator.changeLanguage(_),this.isLanguageChangingTo=void 0,this.emit("languageChanged",_),this.logger.log("languageChanged",_)):this.isLanguageChangingTo=void 0,o.resolve(function(){return a.t(...arguments)}),i&&i(b,function(){return a.t(...arguments)})},g=b=>{var j,$;!e&&!b&&this.services.languageDetector&&(b=[]);const _=isString(b)?b:this.services.languageUtils.getBestMatchFromCodes(b);_&&(this.language||c(_),this.translator.language||this.translator.changeLanguage(_),($=(j=this.services.languageDetector)==null?void 0:j.cacheUserLanguage)==null||$.call(j,_)),this.loadResources(_,_e=>{d(_e,_)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?g(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(g):this.services.languageDetector.detect(g):g(e),o}getFixedT(e,i,a){var o=this;const c=function(d,g){let b;if(typeof g!="object"){for(var _=arguments.length,j=new Array(_>2?_-2:0),$=2;$<_;$++)j[$-2]=arguments[$];b=o.options.overloadTranslationOptionHandler([d,g].concat(j))}else b={...g};b.lng=b.lng||c.lng,b.lngs=b.lngs||c.lngs,b.ns=b.ns||c.ns,b.keyPrefix!==""&&(b.keyPrefix=b.keyPrefix||a||c.keyPrefix);const _e=o.options.keySeparator||".";let et;return b.keyPrefix&&Array.isArray(d)?et=d.map(tt=>`${b.keyPrefix}${_e}${tt}`):et=b.keyPrefix?`${b.keyPrefix}${_e}${d}`:d,o.t(et,b)};return isString(e)?c.lng=e:c.lngs=e,c.ns=i,c.keyPrefix=a,c}t(){var o;for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(o=this.translator)==null?void 0:o.translate(...i)}exists(){var o;for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(o=this.translator)==null?void 0:o.exists(...i)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=i.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const d=(g,b)=>{const _=this.services.backendConnector.state[`${g}|${b}`];return _===-1||_===0||_===2};if(i.precheck){const g=i.precheck(this,d);if(g!==void 0)return g}return!!(this.hasResourceBundle(a,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(a,e)&&(!o||d(c,e)))}loadNamespaces(e,i){const a=defer();return this.options.ns?(isString(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{a.resolve(),i&&i(o)}),a):(i&&i(),Promise.resolve())}loadLanguages(e,i){const a=defer();isString(e)&&(e=[e]);const o=this.options.preload||[],c=e.filter(d=>o.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return c.length?(this.options.preload=o.concat(c),this.loadResources(d=>{a.resolve(),i&&i(d)}),a):(i&&i(),Promise.resolve())}dir(e){var o,c;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((c=this.services)==null?void 0:c.languageUtils)||new LanguageUtil(get());return i.indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new I18n(e,i)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop;const a=e.forkResourceStore;a&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},c=new I18n(o);if((e.debug!==void 0||e.prefix!==void 0)&&(c.logger=c.logger.clone(e)),["store","services","language"].forEach(g=>{c[g]=this[g]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},a){const g=Object.keys(this.store.data).reduce((b,_)=>(b[_]={...this.store.data[_]},Object.keys(b[_]).reduce((j,$)=>(j[$]={...b[_][$]},j),{})),{});c.store=new ResourceStore(g,o),c.services.resourceStore=c.store}return c.translator=new Translator(c.services,o),c.translator.on("*",function(g){for(var b=arguments.length,_=new Array(b>1?b-1:0),j=1;j<b;j++)_[j-1]=arguments[j];c.emit(g,..._)}),c.init(o,i),c.translator.options=o,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const{slice,forEach}=[];function defaults(s){return forEach.call(slice.call(arguments,1),e=>{if(e)for(const i in e)s[i]===void 0&&(s[i]=e[i])}),s}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(s,e){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let c=`${s}=${o}`;if(a.maxAge>0){const d=a.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(d)}`}if(a.domain){if(!fieldContentRegExp.test(a.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${a.domain}`}if(a.path){if(!fieldContentRegExp.test(a.path))throw new TypeError("option path is invalid");c+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(c+="; HttpOnly"),a.secure&&(c+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return c},cookie={create(s,e,i,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+i*60*1e3)),a&&(o.domain=a),document.cookie=serializeCookie(s,encodeURIComponent(e),o)},read(s){const e=`${s}=`,i=document.cookie.split(";");for(let a=0;a<i.length;a++){let o=i[a];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(s){this.create(s,"",-1)}};var cookie$1={name:"cookie",lookup(s){let{lookupCookie:e}=s;if(e&&typeof document<"u")return cookie.read(e)||void 0},cacheUserLanguage(s,e){let{lookupCookie:i,cookieMinutes:a,cookieDomain:o,cookieOptions:c}=e;i&&typeof document<"u"&&cookie.create(i,s,a,o,c)}},querystring={name:"querystring",lookup(s){var a;let{lookupQuerystring:e}=s,i;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const d=o.substring(1).split("&");for(let g=0;g<d.length;g++){const b=d[g].indexOf("=");b>0&&d[g].substring(0,b)===e&&(i=d[g].substring(b+1))}}return i}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(s){let{lookupLocalStorage:e}=s;if(e&&localStorageAvailable())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupLocalStorage:i}=e;i&&localStorageAvailable()&&window.localStorage.setItem(i,s)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(s){let{lookupSessionStorage:e}=s;if(e&&sessionStorageAvailable())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupSessionStorage:i}=e;i&&sessionStorageAvailable()&&window.sessionStorage.setItem(i,s)}},navigator$1={name:"navigator",lookup(s){const e=[];if(typeof navigator<"u"){const{languages:i,userLanguage:a,language:o}=navigator;if(i)for(let c=0;c<i.length;c++)e.push(i[c]);a&&e.push(a),o&&e.push(o)}return e.length>0?e:void 0}},htmlTag={name:"htmlTag",lookup(s){let{htmlTag:e}=s,i;const a=e||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(i=a.getAttribute("lang")),i}},path={name:"path",lookup(s){var o;let{lookupFromPathIndex:e}=s;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(o=i[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(s){var o,c;let{lookupFromSubdomainIndex:e}=s;const i=typeof e=="number"?e+1:1,a=typeof window<"u"&&((c=(o=window.location)==null?void 0:o.hostname)==null?void 0:c.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[i]}};let canCookies=!1;try{document.cookie,canCookies=!0}catch(s){}const order=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order.splice(1,1);const getDefaults$1=()=>({order,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class Browser{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,i)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=defaults(i,this.options||{},getDefaults$1()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return e.forEach(a=>{if(this.detectors[a]){let o=this.detectors[a].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),i=i.map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||i.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(e,this.options)}))}}Browser.type="languageDetector";function _typeof$2(s){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(s)}function hasXMLHttpRequest(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":_typeof$2(XMLHttpRequest))==="object"}function isPromise(s){return!!s&&typeof s.then=="function"}function makePromise(s){return isPromise(s)?s:Promise.resolve(s)}function ownKeys$1(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,a)}return i}function _objectSpread$1(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(i),!0).forEach(function(a){_defineProperty$1(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ownKeys$1(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function _defineProperty$1(s,e,i){return(e=_toPropertyKey$1(e))in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function _toPropertyKey$1(s){var e=_toPrimitive$1(s,"string");return _typeof$1(e)=="symbol"?e:e+""}function _toPrimitive$1(s,e){if(_typeof$1(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,e||"default");if(_typeof$1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function _typeof$1(s){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(s)}var fetchApi;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?fetchApi=global.fetch:typeof window<"u"&&window.fetch?fetchApi=window.fetch:fetchApi=fetch);var XmlHttpRequestApi;hasXMLHttpRequest()&&(typeof global<"u"&&global.XMLHttpRequest?XmlHttpRequestApi=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(XmlHttpRequestApi=window.XMLHttpRequest));var ActiveXObjectApi;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?ActiveXObjectApi=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ActiveXObjectApi=window.ActiveXObject));typeof fetchApi!="function"&&(fetchApi=void 0);if(!fetchApi&&!XmlHttpRequestApi&&!ActiveXObjectApi)try{__vitePreload(()=>import("./browser-ponyfill-ku78_sRK.js").then(s=>s.b),[]).then(function(s){fetchApi=s.default}).catch(function(){})}catch{}var addQueryString=function s(e,i){if(i&&_typeof$1(i)==="object"){var a="";for(var o in i)a+="&"+encodeURIComponent(o)+"="+encodeURIComponent(i[o]);if(!a)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+a.slice(1)}return e},fetchIt=function s(e,i,a,o){var c=function(b){if(!b.ok)return a(b.statusText||"Error",{status:b.status});b.text().then(function(_){a(null,{status:b.status,data:_})}).catch(a)};if(o){var d=o(e,i);if(d instanceof Promise){d.then(c).catch(a);return}}typeof fetch=="function"?fetch(e,i).then(c).catch(a):fetchApi(e,i).then(c).catch(a)},omitFetchOptions=!1,requestWithFetch=function s(e,i,a,o){e.queryStringParams&&(i=addQueryString(i,e.queryStringParams));var c=_objectSpread$1({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(c["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),a&&(c["Content-Type"]="application/json");var d=typeof e.requestOptions=="function"?e.requestOptions(a):e.requestOptions,g=_objectSpread$1({method:a?"POST":"GET",body:a?e.stringify(a):void 0,headers:c},omitFetchOptions?{}:d),b=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{fetchIt(i,g,o,b)}catch(_){if(!d||Object.keys(d).length===0||!_.message||_.message.indexOf("not implemented")<0)return o(_);try{Object.keys(d).forEach(function(j){delete g[j]}),fetchIt(i,g,o,b),omitFetchOptions=!0}catch(j){o(j)}}},requestWithXmlHttpRequest=function s(e,i,a,o){a&&_typeof$1(a)==="object"&&(a=addQueryString("",a).slice(1)),e.queryStringParams&&(i=addQueryString(i,e.queryStringParams));try{var c=XmlHttpRequestApi?new XmlHttpRequestApi:new ActiveXObjectApi("MSXML2.XMLHTTP.3.0");c.open(a?"POST":"GET",i,1),e.crossDomain||c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.withCredentials=!!e.withCredentials,a&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.overrideMimeType&&c.overrideMimeType("application/json");var d=e.customHeaders;if(d=typeof d=="function"?d():d,d)for(var g in d)c.setRequestHeader(g,d[g]);c.onreadystatechange=function(){c.readyState>3&&o(c.status>=400?c.statusText:null,{status:c.status,data:c.responseText})},c.send(a)}catch(b){console&&console.log(b)}},request=function s(e,i,a,o){if(typeof a=="function"&&(o=a,a=void 0),o=o||function(){},fetchApi&&i.indexOf("file:")!==0)return requestWithFetch(e,i,a,o);if(hasXMLHttpRequest()||typeof ActiveXObject=="function")return requestWithXmlHttpRequest(e,i,a,o);o(new Error("No fetch and no xhr implementation found!"))};function _typeof(s){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(s)}function ownKeys(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,a)}return i}function _objectSpread(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(a){_defineProperty(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function _classCallCheck(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(s,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,_toPropertyKey(a.key),a)}}function _createClass(s,e,i){return e&&_defineProperties(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function _defineProperty(s,e,i){return(e=_toPropertyKey(e))in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function _toPropertyKey(s){var e=_toPrimitive(s,"string");return _typeof(e)=="symbol"?e:e+""}function _toPrimitive(s,e){if(_typeof(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,e||"default");if(_typeof(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}var getDefaults=function s(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(i){return JSON.parse(i)},stringify:JSON.stringify,parsePayload:function(i,a,o){return _defineProperty({},a,o||"")},parseLoadPayload:function(i,a){},request,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Backend=function(){function s(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,s),this.services=e,this.options=i,this.allOptions=a,this.type="backend",this.init(e,i,a)}return _createClass(s,[{key:"init",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=i,this.options=_objectSpread(_objectSpread(_objectSpread({},getDefaults()),this.options||{}),o),this.allOptions=c,this.services&&this.options.reloadInterval){var d=setInterval(function(){return a.reload()},this.options.reloadInterval);_typeof(d)==="object"&&typeof d.unref=="function"&&d.unref()}}},{key:"readMulti",value:function(i,a,o){this._readAny(i,i,a,a,o)}},{key:"read",value:function(i,a,o){this._readAny([i],i,[a],a,o)}},{key:"_readAny",value:function(i,a,o,c,d){var g=this,b=this.options.loadPath;typeof this.options.loadPath=="function"&&(b=this.options.loadPath(i,o)),b=makePromise(b),b.then(function(_){if(!_)return d(null,{});var j=g.services.interpolator.interpolate(_,{lng:i.join("+"),ns:o.join("+")});g.loadUrl(j,d,a,c)})}},{key:"loadUrl",value:function(i,a,o,c){var d=this,g=typeof o=="string"?[o]:o,b=typeof c=="string"?[c]:c,_=this.options.parseLoadPayload(g,b);this.options.request(this.options,i,_,function(j,$){if($&&($.status>=500&&$.status<600||!$.status))return a("failed loading "+i+"; status code: "+$.status,!0);if($&&$.status>=400&&$.status<500)return a("failed loading "+i+"; status code: "+$.status,!1);if(!$&&j&&j.message){var _e=j.message.toLowerCase(),et=["failed","fetch","network","load"].find(function(rt){return _e.indexOf(rt)>-1});if(et)return a("failed loading "+i+": "+j.message,!0)}if(j)return a(j,!1);var tt,it;try{typeof $.data=="string"?tt=d.options.parse($.data,o,c):tt=$.data}catch{it="failed parsing "+i+" to json"}if(it)return a(it,!1);a(null,tt)})}},{key:"create",value:function(i,a,o,c,d){var g=this;if(this.options.addPath){typeof i=="string"&&(i=[i]);var b=this.options.parsePayload(a,o,c),_=0,j=[],$=[];i.forEach(function(_e){var et=g.options.addPath;typeof g.options.addPath=="function"&&(et=g.options.addPath(_e,a));var tt=g.services.interpolator.interpolate(et,{lng:_e,ns:a});g.options.request(g.options,tt,b,function(it,rt){_+=1,j.push(it),$.push(rt),_===i.length&&typeof d=="function"&&d(j,$)})})}}},{key:"reload",value:function(){var i=this,a=this.services,o=a.backendConnector,c=a.languageUtils,d=a.logger,g=o.language;if(!(g&&g.toLowerCase()==="cimode")){var b=[],_=function($){var _e=c.toResolveHierarchy($);_e.forEach(function(et){b.indexOf(et)<0&&b.push(et)})};_(g),this.allOptions.preload&&this.allOptions.preload.forEach(function(j){return _(j)}),b.forEach(function(j){i.allOptions.ns.forEach(function($){o.read(j,$,"read",null,null,function(_e,et){_e&&d.warn("loading namespace ".concat($," for language ").concat(j," failed"),_e),!_e&&et&&d.log("loaded namespace ".concat($," for language ").concat(j),et),o.loaded("".concat(j,"|").concat($),_e,et)})})})}}}])}();Backend.type="backend";instance.use(initReactI18next).use(Browser).use(Backend).init({lng:"en",fallbackLng:"en",backend:{loadPath:"/locales/{{lng}}/translation.json"},interpolation:{escapeValue:!1}});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{commonjsGlobal as c,getDefaultExportFromCjs as g};
